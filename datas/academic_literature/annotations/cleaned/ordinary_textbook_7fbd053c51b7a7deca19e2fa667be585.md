数学新星网 $\%$ 学生专栏

www.nsmath.cn/xszl

# 2020 年匈牙利 Kürschák 竞赛试题解析 

刘翊哲 刘鹏远 梁行健 胡佳旭

(湖南师范大学附属中学, 410006)

指导教师: 汤礼达

匈牙利的 Kürschák 竞赛是全球范围内历史最悠久的数学竞赛, 它的试题十分优美, 风格新颖, 常具有一定深入的背景, 可以很好地锻炼思维能力. 试题难度分明, 对于各级别的数学竞赛都有一定的训练价值. 本文我们给出 2020 年 Kürschák 竞赛的试题解答与评析, 由于能力有限, 难免有不当疏漏之处, 敬请读者批评指正.

## I. 试 题

1. 设 $n, k$ 为正整数, 给定平面上的 $n$ 个闭圆盘, 已知这 $n$ 个圆盘中的任意 $k+1$ 个圆盘中都有两个圆盘没有公共点. 证明: 这 $n$ 个圆盘可以被分成至多 $10 k$组, 使得同一组中的任两个圆盘均无公共点.
2. 求所有函数 $f: \mathbb{Q} \rightarrow \mathbb{R}_{\geq 0}$, 使得下列条件对任意有理数 $x, y$ 成立:

(1) $f(x+y) \leq f(x)+f(y)$;

(2) $f(x y)=f(x) f(y)$;

(3) $f(2)=\frac{1}{2}$.

3. 一个城市中有 $N$ 个房子. 每年圣诞节, 圣诞老人都按某种顺序到访这些房子. 证明: 如果 $N$ 足够大, 那么在连续 3 年中, 必有 13 个房子, 它们在这 3 年中的某两年中被到访的次序相同, 并求最小的正整数 $N$ 使得上述结论成立.

## II. 解答与评注

题 1 设 $n, k$ 为正整数, 给定平面上的 $n$ 个闭圆盘, 已知这 $n$ 个圆盘中的任修订日期: 2021-12-18.
意 $k+1$ 个圆盘中都有两个圆盘没有公共点. 证明: 这 $n$ 个圆盘可以被分成至多 $10 k$ 组, 使得同一组中的任两个圆盘均无公共点.

证明 (刘翊哲, 刘鹏远) 先证明下面的引理.

引理 对于满足要求的 $n$ 个圆盘, 存在一个圆盘, 使得这个圆盘交不为空的圆盘数不超过 $(10 k-1)$.

证明 设圆盘 $S$ 有最小的半径 $s$, 如图 1-1.



$1-1$

将平面分面 7 个区域, 其中 $S$ 为一个区域, 其他 6 个区域为 $S$ 外全等的 6 个区域。

因为 $s$ 为最小半径, 所以, 任意圆心在 $S$ 内且不同于 $S$ 的圆盘包含圆盘 $S$的圆心 $O$, 且这样的圆盘的数目小于等于 $(k-1)$.

下证: 若一个圆盘的圆心在 $T_{i}(1 \leq i \leq 6)$ 内, 且与圆盘 $S$ 相交, 且圆盘包含点 $P_{i}$, 其中 $P_{i}$ 在区域 $T_{i}$ 的两条射线所成角的角平分线上, 且满足 $O P_{i}=\sqrt{3} s$.



$1-2$

过 $P_{i}$ 作这条角平分线的垂线, 将 $T_{i}$ 又分成 2 个区域 $U_{i}$ 和 $V_{i}$, 如图 1-2, 则区域 $U_{i}$ 包含在以 $P_{i}$ 为圆心, $s$ 为半径的圆盘中, 于是, 若圆盘的圆心在 $U_{i}$ 内, 则圆
盘包含点 $P_{i}$.

假设圆盘的圆心在 $V_{i}$ 内, 如图 1-3.



$1-3$

设圆盘圆心为 $Q$, 线段 $O Q$ 与 $S$ 的边界交于 $R$, 因为圆盘与 $S$ 相交, 则圆盘的半径大于 $Q R$, 又因为

$$
\angle Q P_{i} R \geq \angle C P_{i} B=60^{\circ}, \angle P_{i} R O \geq \angle P_{i} B O=120^{\circ},
$$

故 $\angle Q P_{i} R \geq \angle P_{i} R Q$, 所以 $Q R \geq Q P_{i}$. 故圆盘包含点 $P_{i}$.

对于 $i=1,2, \cdots, 6$, 圆心在 $T_{i}$ 内且与相交的圆盘数目不超过 $k$. (否则有 $(k+1)$ 个圆盘共点 $P_{i}$, 矛盾!)

故与 $S$ 相交的圆盘数目不超过 $(k-1)+6 k=7 k-1<10 k-1$.

故引理得证！

回到原题, 对圆盘的个数 $n$ 归纳证明命题.

当 $n \leq 10 k$ 时, 我们可以把这 $n$ 个圆盘分别放到 $n$ 个不同的组, 每组一个,知同一组中的任意两个圆盘没有公共点, 满足题意.

若 $n$ 时命题成立, 考虑 $(n+1)$.

取 $(n+1)$ 个圆盘中最小的一个, 对其它 $n$ 个圆盘用归纳假设, 知可将这 $n$个圆盘分成 $10 k$ 组, 每组中任意两个圆盘之交为空, 由引理知与最小圆盘之交非空的圆盘不超过 $(10 k-1)$ 个, 故必有一组中的圆盘与最小圆盘之交为空, 将最小圆盘加入这一组即满足题意.

故由归纳基本原理, 命题得证！

评注 此题利用归纳法是自然的, 为完成归纳过渡利用极端原理构造一个与其他的圆盘相交部分尽可能少的圆盘, 这也是引理的基本精神. 上述解法可将引理中的 $10 k-1$ 改进为 $7 k-1$, 此时即为 2003 年 IMO 预选题组合第 2 题. 同时,命题中的 $10 k$ 也可改进为 $7 k$.
题 2 求所有函数 $f: \mathbb{Q} \rightarrow \mathbb{R}_{\geq 0}$, 使得下列条件对任意有理数 $x, y$ 成立:

(1) $f(x+y) \leq f(x)+f(y)$;

(2) $f(x y)=f(x) f(y)$;

(3) $f(2)=\frac{1}{2}$.

解 (梁行健) 首先在 $(2)$ 中令 $x=0, y=2$, 知 $f(0)=0$;

在 $(2)$ 中令 $x=1, y=2$, 结合 $(3)$ 知 $f(1)=1$;

在 $(2)$ 中令 $x=y=-1$, 结合 $f(-1) \geq 0$ 知 $f(-1)=1$.

结合 $(2)$ 知, 对任意 $x \in \mathbb{Q}$ 有 $f(x)=f(-x)$.

下证: 对任意奇素数 $p$, 有 $f(p)=1$.

引理 对任意正整数 $n, f(n) \leq 2$.

证明 设 $n$ 的二进制表示为 $n=2^{a_{1}}+2^{a_{2}}+\cdots+2^{a_{t}}$, 其中 $a_{1}, a_{2}, \cdots, a_{t}$是互异的自然数, 且 $0 \leq a_{1}<a_{2}<\cdots<a_{t}$, 则由条件 (1) 可知

$$
f(n)=f\left(\sum_{i=1}^{t} 2^{a_{i}}\right) \leq \sum_{i=1}^{t} f\left(2^{a_{i}}\right)=\sum_{i=1}^{t} 2^{-a} \leq \sum_{i=0}^{\infty} 2^{-k}=2 .
$$

引理得证.

回到原题.

一方面, 由引理知, 对任意 $k \in \mathbb{Z}_{+}$, 有 $f^{k}(p)=f\left(p^{k}\right) \leq 2$, 从而有 $f(p) \leq \sqrt[k]{2}$,令 $k \rightarrow+\infty$, 有 $f(p) \leq 1$.

另一方面, 对任意正整数 $\alpha$, 设 $p^{\alpha}-1=2^{\beta} \prod_{i=1}^{k} q_{i}^{\beta_{i}}$, 其中 $\beta, \beta_{1}, \beta_{2}, \cdots, \beta_{k} \in$ $\mathbb{Z}_{+}, q_{1}, q_{2}, \cdots, q_{k}$ 为互异奇素数, 则

$$
f\left(p^{\alpha}-1\right)=(f(2))^{\beta} \prod_{i=1}^{k}\left(f\left(q_{i}\right)\right)^{\beta_{i}} \leq 2^{-\beta} \leq \frac{1}{2} .
$$

故由条件 (1) 可知

$$
\begin{aligned}
(f(p))^{\alpha} & =f\left(p^{\alpha}\right) \geq f(1)-f\left(-p^{\alpha}+1\right) \\
& =f(1)-f\left(p^{\alpha}-1\right) \\
& \geq 1-\frac{1}{2}=\frac{1}{2} .
\end{aligned}
$$

从而 $f(p) \geq 2^{-\frac{1}{\alpha}}$, 令 $\alpha \rightarrow+\infty$, 有 $f(p) \geq 1$.

因此 $f(p)=1$ 对任意奇素数 $p$ 成立, 又由条件 (2) 可知

$$
\begin{aligned}
f\left(2^{\alpha} \cdot p_{1}^{\alpha_{1}} \cdot p_{2}^{\alpha_{2}} \cdots \cdot p_{k}^{\alpha_{k}}\right) & =(f(2))^{\alpha} \cdot \prod_{i=1}^{k}\left(f\left(p_{i}\right)\right)^{\alpha_{i}} \\
& =2^{-\alpha},
\end{aligned}
$$

其中 $\alpha, \alpha_{1}, \alpha_{2}, \cdots, \alpha_{k} \in \mathbb{Z}_{+}, p_{1}, p_{2}, \cdots, p_{k}$ 为互异奇素数,
故有

$$
f(x)=\left\{\begin{array}{l}
0, x=0 \\
2^{V_{2}(q)-V_{2}(p)}, x=\frac{p}{q}, p, q \in \mathbb{Z} \backslash\{0\}
\end{array} .\right.
$$

经检验 $f(x)$ 满足题意.

评注 本题是一个难度适中的函数方程问题. 条件 (2) 是完全积性的条件,只能用来进行定性.条件 (1) 是不等关系, 难以推出等量关系, 要得到等量关系需借助极限思想.解题时需要先得到 $f(n)$ 的一个较好的上界, 结合条件 (3) 和完全积性并利用二进制就可以给出 $f(n)$ 的上界, 再由极限过程可推出等量关系, 从而解决本题.

题 3 一个城市中有 $N$ 个房子. 每年圣诞节, 圣诞老人都按某种顺序到访这些房子. 证明: 如果 $N$ 足够大, 那么在连续 3 年中, 必有 13 个房子, 它们在这 3 年中的某两年中被到访的次序相同, 并求最小的正整数 $N$ 使得上述结论成立.

证明 (胡佳旭) 所求 $N_{\min }=1729$.

首先证明如下引理 (Erdös-Szekeres 定理):

引理 每个由 $m n+1$ 个互异实数构成的序列 $a_{1}, a_{2}, \cdots, a_{m n+1}$ 中, 或者含有长度为 $m+1$ 的递增子序列

$$
a_{i_{1}}<a_{i_{2}}<\cdots<a_{i_{m+1}}\left(i_{1}<i_{2}<\cdots<i_{m+1}\right),
$$

或者含有长度为 $n+1$ 的递减子序列

$$
a_{j_{1}}>a_{j_{2}}>\cdots>a_{j_{n+1}}\left(j_{1}<j_{2}<\cdots<j_{n+1}\right) .
$$

证明 对每个 $a_{i}$, 令 $f\left(a_{i}\right)$ 表示从 $a_{i}$ 开始的最长递增子序列的长度.

若存在某个 $i$, 使得 $f\left(a_{i}\right) \geq m+1$, 则得出长为 $m+1$ 的递增子序列, 否则, 假设对所有的 $i$, 都有 $f\left(a_{i}\right) \leq m$, 则函数 $f$ 把 $\left\{a_{1}, a_{2}, \cdots, a_{m n+1}\right\}$ 映到 $\{1,2, \cdots, m\}$.

此时, 存在 $s \in\{1,2, \cdots, m\}$ 使得对某 $\frac{m n}{m}+1=n+1$ 个数 $a_{i}$ 有 $f\left(a_{i}\right)=s$.

令 $a_{j_{1}}, a_{j_{2}}, \cdots, a_{j_{n+1}}\left(j_{1}<j_{2}<\cdots<j_{n+1}\right)$ 表示这些数.

注意到连续的两个数 $a_{j_{i}}, a_{j_{i+1}}$, 若 $a_{j_{i}}<a_{j_{i+1}}$, 取从 $a_{j_{i+1}}$ 开始长为 $s$ 的递增子序列, 则存在从 $a_{j_{i}}$ 开始的长为 $s+1$ 的递增子序列, 与 $f\left(a_{j_{i}}\right)=s$, 矛盾.

于是得到了一个长为 $n+1$ 的递减子序列 $a_{j_{1}}>a_{j_{2}}>\cdots>a_{j_{n+1}}$.

引理得证。

回到原题, 一方面, 我们证明 $N=1729$ 满足题意 (我们顺便证明了, 对任意
充分大的 $N$ 均满足题意).

依圣诞老人第一年拜访顺序记房屋为 $1,2, \cdots, 1729$, 设第二、三年拜访顺序为 $x_{1}, x_{2}, \cdots, x_{1729} ; y_{1}, y_{2}, \cdots, y_{1729}$, 则它们均为 $1,2, \cdots, 1729$ 的排列.

注意 $1729=12 \times 144+1$, 由引理, $x_{1}, x_{2}, \cdots, x_{1729}$ 中存在长为 13 的递增子序列或长为 145 的递减子序列.

若存在为 13 的递增子序列, 则结论成立, 命题得证.

下设 $x_{1}, x_{2}, \cdots, x_{1729}$ 中存在长为 145 的递减子序列, 设这 145 个数在 $y_{1}, y_{2}, \cdots, y_{1729}$ 中排列为 $y_{i_{1}}, y_{i_{2}}, \cdots, y_{i_{145}}\left(i_{1}<i_{2}<\cdots<i_{145}\right)$.

注意 $145=12 \times 12+1$, 由引理, $y_{i_{1}}, y_{i_{2}}, \cdots, y_{i_{145}}$ 中存在长为 13 的递增子序列或长为 13 的递减子序列。

若 $y_{i_{1}}, y_{i_{2}}, \cdots, y_{i_{145}}$ 中存在长为 13 的递增子序列, 则这 13 个房子在第一、第三年拜访顺序相同.

若 $y_{i_{1}}, y_{i_{2}}, \cdots, y_{i_{145}}$ 中存在长为 13 的递减子序列, 则这 13 个房子在第二、第三年拜访顺序相同, 均满足要求.

下证: $N=1728$ 不满足要求.

考虑构造, $x_{i}=288\left[\frac{i}{144}\right]+145-i, y_{i}=1716-24\left[\frac{i}{12}\right]+i$.

即在三年内拜访顺序为: 第一年: $1,2,3, \cdots, 1728$;

第二年: $1 \times 144,1 \times 144-1,1 \times 144-2, \cdots, 1 \times 144-143,2 \times 144,2 \times$ $144-1,2 \times 144-2, \cdots, 2 \times 144-143, \cdots, 12 \times 144,12 \times 144-1,12 \times 144-$ $2, \cdots, 12 \times 144-143$;

第三年: $144 \times 12-11,144 \times 12-10, \cdots, 144 \times 12,143 \times 12-11,143 \times$ $12-10, \cdots, 143 \times 12, \cdots, 1 \times 12-11,1 \times 12-10, \cdots, 1 \times 12$.

不符合要求.

综上所述, $N_{\min }=1729$ 为所求.

评注 将访问顺序写成数列, 用同序刻画要求是自然的, 而同序又可以利用递增或递减子列来说明. 这之后, 如果熟悉 Erdös-Szekeres 定理, 便能立刻有思路并迅速解决. 构造以 144 和 12 分段也较为自然. 此题难度适中. 类似的问题有 2015 年保加利亚数学竞赛的第 6 题.

