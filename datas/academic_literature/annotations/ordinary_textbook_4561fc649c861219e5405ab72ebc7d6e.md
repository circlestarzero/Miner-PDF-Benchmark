# 一道西部竞赛问题的来 “龙” 去脉 

邹瑾

在2014 年的西部数学邀请赛上, 第一天的第四题是由我提出的:

问题 1 (CWMO 2014-4) 给定正整数 $n$, 设 $a_{1}, a_{2}, \cdots, a_{n}$ 是非负整数序列,若其中连续若干项 (可以只有一项) 的算术平均值不小于 1 , 则称这些项组成一条 “龙”，其中第一项称为 “龙头”，最后一项称为 “龙尾” . 已知 $a_{1}, a_{2}, \cdots, a_{n}$中每一项都是 “龙头” 或者 “龙尾”, 求 $\sum_{i=1}^{n} a_{i}$ 的最小值.

这个问题题目形式比较新颖, 其中结论和构造相对容易, 因此得分率达到了 $19 \%$, 在所有八道试题中得分率是第三低. 但本题证明的难度较大, 最终此题完整做对的学生只有 6 人, 是所有试题中做对人数最少的.

命制这道题的想法, 来自于下面这个问题:

问题 2 设 $a_{i} \in[0,1](i=1,2, \cdots, n)$. 求证: 存在 $x \in(0,1)$, 使得

$$
\sum_{i=1}^{n} \frac{1}{\left|x-a_{i}\right|} \leq 8 n \sum_{i=1}^{n} \frac{1}{2 i-1}
$$

表面上看来, 问题 1 与问题 2 似乎毫无关联, 分别是纯粹的组合问题和代数问题, 但这恰恰就是数学的奇妙之处!

问题 2 是 2008 年国家队队员牟晓生在某年给国家队训练时讲解的一道例题 (据他说是在 2004 年国家队队员林运成的笔记上发现的). 当时我给 2014 年国家队的四名队员测试了一下, 居然只有一名同学完成了解答, 本题的难度可见一斑!

问题 2 标准解答如下:

问题 2 的证明一 将 $[0,1]$ 平均分为 $2 n$ 段: $\left[0, \frac{1}{2 n}\right),\left[\frac{1}{2 n}, \frac{2}{2 n}\right), \cdots,\left[\frac{2 n-1}{2 n}, 1\right]$. 则 $a_{1}, a_{2}, \cdots, a_{n}$ 至多出现在其中 $n$ 段内, 故还有至少 $n$ 段内不包含 $a_{1}, a_{2}, \cdots, a_{n}$,不妨从中取出 $n$ 段 $\left[\frac{t_{j}}{2 n}, \frac{t_{j}+1}{2 n}\right)(j=1,2, \cdots, n)$, 并取每段的中点 $x_{j}=\frac{2 t_{j}+1}{4 n}(j=$ $1,2, \cdots, n)$.
对每个 $a_{i}$, 考虑 $\left|a_{i}-x_{j}\right|(j=1,2, \cdots, n)$, 有 $\left|a_{i}-x_{j}\right| \geq \frac{1}{4 n}$, 且取等号的情况至多只有两种. 其余 $\left|a_{i}-x_{j}\right| \geq \frac{3}{4 n}$, 同样此时取等号的情况至多也只有两种. 剩下的 $\left|a_{i}-x_{j}\right| \geq \frac{5}{4 n}, \cdots \cdots$ 以此类推.

故有

$$
\sum_{j=1}^{n} \frac{1}{\left|a_{i}-x_{j}\right|} \leq 2 \times\left(4 n+\frac{4 n}{3}+\frac{4 n}{5}+\cdots+\frac{4 n}{2 n-1}\right)=8 n \sum_{i=1}^{n} \frac{1}{2 i-1}
$$

于是有

$$
\sum_{i=1}^{n} \sum_{j=1}^{n} \frac{1}{\left|a_{i}-x_{j}\right|} \leq 8 n^{2} \sum_{i=1}^{n} \frac{1}{2 i-1}
$$

即

$$
\sum_{j=1}^{n} \sum_{i=1}^{n} \frac{1}{\left|x_{j}-a_{i}\right|} \leq 8 n^{2} \sum_{i=1}^{n} \frac{1}{2 i-1}
$$

再根据抽庶原理, 必存在某一个 $k$, 使得 $\sum_{i=1}^{n} \frac{1}{\left|x_{k}-a_{i}\right|} \leq 8 n \sum_{i=1}^{n} \frac{1}{2 i-1}$, 此时取 $x=x_{k}$ 即可. (注: 对一般的 $n$, 此不等式等号无法取到. 2015 年国家队队员王正将此方法做了适当调整, 可以将原不等式右端的系数 8 改进为 6 , 更进一步可改进为 $4+\varepsilon$,证明留给读者.)

上面的证明看起来似乎平淡无奇, 但思想极为巧妙. 把寻找一个点的局部问题转化为找到 $n$ 个点的整体估算, 再用抽屟原理证明其中一定存在一个满足要求的点.

在讨论本题的过程中, 2014 年国家队队员周蕴坤给出了另一种思路, 将 $[0,1]$区间分成 $n+1$ 段, 取 $x$ 为其中不含 $a_{i}$ 的一段的中点, 通过局部调整的方法最终完成了证明. 因为这种证明过程过于复杂, 我与另一位 2014 年国家队队员浦鸿铭在讨论过程中提出了一种简化方案, 证明如下:

问题 2 的证明二 将 $[0,1]$ 分为 $2 n$ 段: $\left[0, \frac{1}{2 n}\right),\left[\frac{1}{2 n}, \frac{2}{2 n}\right), \cdots,\left[\frac{2 n-1}{2 n}, 1\right]$. 记 $a_{1}, a_{2}, \cdots, a_{n}$ 在第 1 段内有 $b_{1}$ 个, 在第 2 段内有 $b_{2}$ 个, $\cdots$, 在第 $2 n$ 段内有 $b_{2 n}$个. 于是 $b_{1}+b_{2}+\cdots+b_{2 n}=n$.

引理一定存在某个 $b_{k}$, 使得 $b_{k}=0$, 且在 $b_{1}, b_{2}, \cdots, b_{2 n}$ 中, 以 $b_{k}$ 开头的任意连续 $m$ 项之和都小于 $m$, 以 $b_{k}$ 结尾的任意连续 $m$ 项之和也都小于 $m$. (引理证
明略)

根据引理, 取第 $k$ 段的中点 $x=\frac{2 k-1}{4 n}$, 有 $\left|x-a_{i}\right| \geq \frac{1}{4 n}$, 满足 $\left|x-a_{i}\right|<\frac{3}{4 n}$ 的至多 2 项, 满足 $\left|x-a_{i}\right|<\frac{5}{4 n}$ 的至多 4 项, $\cdots \cdots$

于是有

$$
\sum_{i=1}^{n} \frac{1}{\left|x-a_{i}\right|} \leq 2 \times\left(4 n+\frac{4 n}{3}+\frac{4 n}{5}+\cdots+\frac{4 n}{2 n-1}\right)=8 n \sum_{i=1}^{n} \frac{1}{2 i-1}
$$

这个证明的关键在于, 要想得到最终的不等式, 经过推导发现, 只需要完成其中的引理. 而此引理并没有太强的代数味道, 更像是一个组合问题. 于是, 我们对这个引理做了一个简单的 “包装” , 它就摇身一变, 成为了文章最开头的 “问题 $1 "$ !

问题 1 的证明有很多种, 原来给出的是归纳法的证明, 下面给出另一种更简单的极端原理证明:

问题 1 的解答: $\sum_{i=1}^{n} a_{i}$ 的最小值为 $\left[\frac{n}{2}\right]+1$.

(构造较简单, 略, 以下为证明 $\sum_{i=1}^{n} a_{i} \geq\left[\frac{n}{2}\right]+1$.)

将以 $a_{i}$ 为龙头, $a_{j}$ 为龙尾的龙记为 $l=\left(a_{i}, a_{i+1}, \cdots, a_{j}\right)$, 称龙的长度为它包含的项数.

由于所有项不是龙头就是龙尾, 所以一定存在 $m$ 条龙 $l_{1}, l_{2}, \cdots, l_{m}$ 包含整个数列, 设 $m$ 为满足此条件的最小整数.

记龙 $l_{k}$ 的龙头为 $a_{i_{k}}$, 龙尾为 $a_{j_{k}}$. 不妨设 $a_{i_{1}}<a_{i_{2}}<\cdots<a_{i_{m}}$. 由于 $m$ 取最小值, 则必有 $a_{j_{1}}<a_{j_{2}}<\cdots<a_{j_{m}}$, (为什么?) 且 $a_{j_{k}}<a_{i_{k+2}}(k=1,2, \cdots, m-2)$ (为什么?)

于是数列的每一项在 $l_{1}, l_{2}, \cdots, l_{m}$ 中至多两条龙中出现.

由 $l_{1}, l_{2}, \cdots, l_{m}$ 包含整个数列, 可知所有龙的长度之和应该不小于 $n$. 而根据龙的定义, 每条龙所有项之和应该不小于其长度, 故 $l_{1}, l_{2}, \cdots, l_{m}$ 的所有项之和应该不小于 $n$.
于是 $2 \sum_{i=1}^{n} a_{i} \geq n$, 即 $\sum_{i=1}^{n} a_{i} \geq \frac{n}{2}$. 注意等号成立时所有龙的长度之和恰好等于 $n$, 即每一项恰好只能出现一次, 故等号无法成立. 于是 $\sum_{i=1}^{n} a_{i}>\frac{n}{2}$, 即 $\sum_{i=1}^{n} a_{i} \geq\left[\frac{n}{2}\right]+1$.

到此为止, 关于问题 1 的来“ “龙” 去脉已经讲完了, 但是故事并没有结束.

在西部竞赛之后, 我又一次偶然翻阅历届 $\mathrm{CMO}$ 试题资料, 竟然看到了一道很类似的关于 “龙” 的问题:

问题 3 (CMO 1988-3) 在有限项的实数列 $a_{1}, a_{2}, \cdots, a_{n}(*)$ 中，如果有一段数 $a_{k}, \cdots, a_{k+l-1}$ 的算术平均值大于 1988 , 那么我们把这段数叫做一条 “龙” , 并把 $a_{k}$ 称为这条龙的 “龙头” (如果某一项 $a_{m}>1988$, 那么单独这一项也是龙).假定数列 $(*)$ 中至少存在一条龙, 证明: (*) 中全体可以作为龙头的项的算术平均值也必定为大于 1988.

问题 3 和问题 1 的条件几乎是一样的！幸好两个问题的结论不同, 不然可成为一次 “命题事故” 了! 后来经过认真的思考, 发现利用问题 3 的结论, 也可以给出问题 1 的另一种证明, 具体的过程留给读者们自己思考吧.

