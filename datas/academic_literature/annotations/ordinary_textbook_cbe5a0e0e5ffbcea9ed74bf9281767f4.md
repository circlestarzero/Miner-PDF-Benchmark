# 第三十期问题征解解答与点评 

牟晓生

第一题 对任意正整数 $n$, 记 $\phi(n)$ 为 $n$ 的欧拉函数, 而 $\Phi(n)=\sum_{m=1}^{n} \phi(m)$. 证明:

$$
\prod_{m=1}^{n} m^{\phi(m)} \geq \sqrt{\Phi(n)^{\Phi(n)}}
$$

(清华大学学生 孙孟越 供题)

## 证明 (根据浙江镇海中学骆晗同学的解答整理):

首先证明如下结论:

$$
\sum_{\substack{1 \leq i, j \leq n, i+j \geq n+1, \operatorname{gcd}(i, j)=1}} \frac{1}{i j}=1
$$

这是因为从 $n-1$ 到 $n$ 时左边的变化为

$$
\begin{aligned}
& 2 \sum_{\substack{1 \leq i \leq n, \operatorname{gcd}(i, n)=1}} \frac{1}{i n}-\sum_{\substack{i+j=n, 1 \leq i, j \leq n-1, \operatorname{gcd}(i, j)=1}} \frac{1}{i j} \\
= & \sum_{\substack{1 \leq i \leq n, \operatorname{gcd}(i, n)=1}} \frac{1}{i n}+\frac{1}{(n-i) n}-\frac{1}{i(n-i)}=0 .
\end{aligned}
$$

现在注意到上面等式左边每个 $i$ 对应的 $j$ 为 $n+1-i \sim n$ 中与 $i$ 互素的那些, 故恰有 $\phi(i)$ 个这样的 $j$. 所以等式左边是 $\Phi(n)$ 个数求和. 由均值不等式,

$$
\prod_{\substack{1 \leq i, j \leq n, i+j \geq n+1, \operatorname{gcd}(i, j)=1}} \frac{1}{i j} \leq\left(\frac{1}{\Phi(n)}\right)^{\Phi(n)} .
$$

左边为 $\prod_{1 \leq i \leq n} i^{2 \phi(i)}$, 于是命题得证.

评注 (1). 天津市南开中学纪文钊, 方星竹, 江苏省锡山高级中学钱一程,张轩鸣, 雅礼中学陈子云, 山西大学附属中学团队以及提多教育平台聂浩川老师也给出了本题的正确解答.

(2). 上面的方法很巧, 但由于原不等式并不紧, 通过直接估计 $\Phi(n)$ 的大小也能证明。
第二题 正整数 $a_{1}, a_{2}, \cdots, a_{n}$ 满足如下条件: 对任意 $1 \leq k \leq n$, 存在 $A \subseteq\{1,2, \ldots, n\}$ 使得 $k \in A$ 且 $\prod_{i \in A} a_{i}$ 为完全平方数. 证明:

(a) 存在 $\{1,2, \ldots, n\}$ 的至少 $\left\lceil\frac{n+1}{2}\right\rceil$ 元子集 $B$ 使得 $\prod_{i \in B} a_{i}$ 为完全平方数.

(b) 存在无穷多个 $n$ 及满足条件的数组 $\left(a_{1}, a_{2}, \ldots, a_{n}\right)$, 使得上一问中的 $\frac{n+1}{2}$ 是最优的 (即不存在 $|B|>\frac{n+1}{2}$ 使得 $\prod_{i \in B} a_{i}$ 为完全平方数).

(哈佛大学 吴昊 供题)

## 证明 (a) (根据杭州高级中学张晋源同学的解答整理):

对 $1 \leq k \leq n$, 设 $A_{k}$ 满足 $k \in A_{k}$ 且 $\prod_{i \in A_{k}} A_{i}$ 是平方数. 令 $\Delta$ 为对称差, 考虑

$$
M=\sum_{1 \leq k_{1}<k_{2}<\cdots<k_{t} \leq n}\left|A_{k_{1}} \Delta A_{k_{2}} \Delta \cdots \Delta A_{k_{t}}\right|
$$

其中不包括 $t=0$ 的情况. 则 $M$ 是 $2^{n}-1$ 个单项的和.

另一方面, 对 $1 \leq i \leq n$, 设恰有 $x \geq 1$ 个集合 $A_{k}$ 包含 $a_{i}$, 则 $a_{i} \in$ $A_{k_{1}} \Delta A_{k_{2}} \Delta \cdots \Delta A_{k_{t}}$ 当且仅当 $A_{k_{1}} \sim A_{k_{t}}$ 中有奇数个集合包含 $a_{i}$. 这样的可能性共有 $2^{x-1} \cdot 2^{n-x}=2^{n-1}$ 种. 故 $M=2^{n-1} \cdot n$.

所以存在某个 $B=A_{k_{1}} \Delta A_{k_{2}} \Delta \cdots \Delta A_{k_{t}}$ 含有超过 $\frac{n}{2}$ 个元素. 这个 $B$ 即满足条件.

(b)（根据浙江镇海中学骆晗同学的解答整理):

假设 $n=2^{m}-1$, 我们对 $m$ 归纳进行构造.

当 $m=2, n=3$ 时, 取 $a_{1}=a_{2}=a_{3}=2$ 即可.

假设 $2^{m}-1$ 时存在一组 $\left(a_{1}, \ldots, a_{2^{m}-1}\right)$ 满足要求. 取 $2^{k}-1$ 个与这些数互质的素数 $p_{1}, \ldots, p_{2^{k}-1}$, 考虑下面 $2^{m+1}-1$ 个数:

$$
p_{1}, p_{1} a_{1}, p_{2}, p_{2} a_{2}, \ldots, p_{2^{k}-1}, p_{2^{k}-1} a_{2^{k}-1}, p_{1} p_{2} \cdots p_{2^{k}-1}
$$

容易验证这些数符合先决条件, 即对其中每个数均能找到包含它的一些数, 得到是平方数的乘积. 下面我们验证 $|B| \leq 2^{m}$ 这个结论. 如果 $p_{1} p_{2} \cdots p_{2^{m}-1} \in B$,则对每个 $1 \leq i \leq 2^{m}-1, p_{i}$ 与 $p_{i} a_{i}$ 中有且仅有一个在 $B$ 中, 故 $|B| \leq 2^{m}$. 如果 $p_{1} p_{2} \cdots p_{2^{m}-1} \notin B$, 则对每个 $i, p_{i}$ 与 $p_{i} a_{i}$ 同时在 $B$ 中或者同时不在 $B$ 中. 利用归纳假设亦可证明 $|B| \leq 2^{m}$.

评注 (1). 雅礼中学何凯辰, 杭州高级中学张晋源, 浙江镇海中学骆晗, 江苏省锡山高级中学钱一程, 张轩鸣等同学也给出了本题的正确解答.

(2). 在最初刊登本征解题时有一个笔误, 遗漏了第一问里的“至少”二字.在此感谢好几位学生老师指出这个错误.
第三题 设 $A_{1}, A_{2}, \ldots, A_{n}$ 为 $n$ 个非空集合, 证明下面的和非负:

$\sum_{i=1}^{n} \frac{1}{\left|A_{i}\right|}-\sum_{1 \leq i<j \leq n} \frac{2}{\left|A_{i} \cup A_{j}\right|}+\sum_{1 \leq i<j<k \leq n} \frac{3}{\left|A_{i} \cup A_{j} \cup A_{k}\right|}+\cdots+(-1)^{n-1} \frac{n}{\left|A_{1} \cup \cdots \cup A_{n}\right|}$. (天津实验中学学生 解尧平 供题)

## 证明 (根据供题者的解答整理):

我们只需证明

$\frac{1}{\left|A_{1}\right|}-\sum_{2 \leq i \leq n} \frac{1}{\left|A_{1} \cup A_{i}\right|}+\sum_{1 \leq i<j \leq n} \frac{1}{\left|A_{1} \cup A_{i} \cup A_{j}\right|}+\cdots+(-1)^{n-1} \frac{1}{\left|A_{1} \cup \cdots \cup A_{n}\right|} \geq 0$.

将 $n$ 个这样的不等式相加即得原题.

注意到不等式左边等于下面的积分:

$$
\int_{0}^{1} \frac{1}{x} \cdot\left(x^{\left|A_{1}\right|}-\sum_{2 \leq i \leq n} x^{\left|A_{1} \cup A_{i}\right|}+\cdots+(-1)^{n-1} x^{\left|A_{1} \cup \cdots \cup A_{n}\right|}\right) d x
$$

于是进一步只要证明对每个 $0 \leq x \leq 1$,

$$
x^{\left|A_{1}\right|}-\sum_{2 \leq i \leq n} x^{\left|A_{1} \cup A_{i}\right|}+\cdots+(-1)^{n-1} x^{\left|A_{1} \cup \cdots \cup A_{n}\right|} \geq 0 .
$$

为此考虑一个概率模型, 以概率 $x$ 独立同分布地取 $A_{1} \cup \cdots \cup A_{n}$ 的每个元素, 得到集合 $E$. 则 $x^{\left|A_{1}\right|}$ 为 $A_{1} \subset E$ 的概率, $x^{\left|A_{1} \cup A_{i}\right|}$ 为 $A_{1} \cup A_{i} \subset E$ 的概率, 等等. 所以由容斥原理, 上面不等式的左边代表的是 $E$ 包含 $A_{1}$ 但不包含其他任何 $A_{i}$ 的概率. 这显然非负, 故命题得证.

评注 (1). 杭州高级中学张晋源, 江苏省锡山高级中学钱一程, 张轩鸣等同学, 山西大学附属中学团队以及提多教育平台聂浩川老师也给出了本题的正确解答.

(2). 这里用到的积分方法可以将齐次多项式不等式转化为很难用其他方法处理的分式不等式. 有兴趣的同学可以尝试下面的问题: 设 $a, b, c$ 为正实数,则有

$$
\frac{1}{4 a}+\frac{1}{4 b}+\frac{1}{4 c}+\frac{1}{a+b}+\frac{1}{b+c}+\frac{1}{c+a} \geq \frac{3}{3 a+b}+\frac{3}{3 b+c}+\frac{3}{3 c+a} .
$$

第四题 (a) 求最小的正整数 $c$, 使得存在正整数 $x, y$ 满足 $y^{3}-2 x^{2}=c$.

(b) 对上一问中最小的 $c$, 求满足 $y^{3}-2 x^{2}=c$ 的所有正整数对 $(x, y)$.

(哈佛大学 牟晓生 供题)

## 解 (根据江苏省锡山高级中学钱一程, 张轩鸣同学的解答整理):

我们证明 $c=5$ 是最小的, 并且 $y=7, x=13$ 是 $c=5$ 时的唯一解.
对于 $c=1$, 考虑

$$
y^{3}=2 x^{2}+1=(1+\sqrt{-2} x)(1-\sqrt{-2} x) \text {. }
$$

在整环 $\mathbb{Z}[\sqrt{-2}]$ 中, $1+\sqrt{-2} x$ 与 $1-\sqrt{-2} x$ 显然互素(它们的公约数整除它们的差), 故由唯一分解知这两个数分别是某个单位乘以一个立方数. 由于两个单位数 $\pm 1$ 都是立方数, 我们得到

$$
1+\sqrt{-2} x=(a+b \sqrt{-2})^{3} .
$$

比较两边系数得到 $a^{3}-6 a b^{2}=1$, 从而 $a= \pm 1$, 由此可得 $y=1, x=0$, 不符条件.

如果 $c=2$ 或 $c=4$, 则 $y$ 是偶数, 两边模 8 导出矛盾. 如果 $c=3$, 则 $y$ 是奇数, 更进一步地得到 $y \equiv 3,5(\bmod 8)$, 将 $y^{3}-2 x^{2}=3$ 写为

$$
(y+1)\left(y^{2}-y+1\right)=y^{3}+1=2\left(x^{2}+2\right) \text {. }
$$

由于 $x^{2}+2$ 的每个奇素因子均为 $1,3(\bmod 8)$, 我们得到 $y^{2}-y+1 \equiv 1,3$ $(\bmod 8)$. 但这在 $y \equiv 3,5(\bmod 8)$ 时是不可能的. ${ }^{1}$

最后考虑 $c=5$, 我们将方程写为

$$
(2 y)^{3}=16 x^{2}+40=(4 x+2 \sqrt{-10})(4 x-2 \sqrt{-10}) .
$$

由于 $\mathbb{Z}[\sqrt{-10}]$ 不是唯一分解整环, 我们将上面看成关于理想的等式. 接下来我们分析两个主理想 $(4 x+2 \sqrt{-10})$ 和 $(4 x-2 \sqrt{-10})$ 的最大公因子. 显然它们的公因子整除差 $(4 \sqrt{-10})=(2, \sqrt{-10})^{5} \cdot(5, \sqrt{-10})$, 其中 $(2, \sqrt{-10})$ 与 $(5, \sqrt{-10})$都是有两个生成员的素理想, 满足

$$
(2)=(2, \sqrt{-10})^{2},(5)=(5, \sqrt{-10})^{2},(\sqrt{-10})=(2, \sqrt{-10}) \cdot(5, \sqrt{-10}) \text {. }
$$

对于 $(2, \sqrt{-10})$ 这个素理想, $(4 x+2 \sqrt{-10})$ 与 $(4 x-2 \sqrt{-10})$ 包含它的幂次均为 3 . 这是因为 $(4 x+2 \sqrt{-10})=(2) \cdot(2 x+\sqrt{-10})$ 确实被 $(2, \sqrt{-10})^{3}$ 整除, 且并不能被 $(2, \sqrt{-10})^{4}=(4)$ 整除. 而对于 $(5, \sqrt{-10})$ 这个素理想, $(4 x+2 \sqrt{-10})$与 $(4 x-2 \sqrt{-10})$ 均不能被它整除. 否则 $x$ 是 5 的倍数, 导致 $y$ 也是 5 的倍数,但 $y^{3}=2 x^{2}+5$ 无法成立.

综上我们得到 $(4 x+2 \sqrt{-10})$ 与 $(4 x-2 \sqrt{-10})$ 的最大公因数为 $(2, \sqrt{-10})^{3}$.由于它们的乘积是一个立方, 故由理想唯一分解定理知这两个理想均为立方 (单位是 $\pm 1$, 可以忽略). 然而 $(4 x+2 \sqrt{-10})$ 是一个主理想, 再注意到 $\mathbb{Z}[\sqrt{-10}]$ 的理想类数为 2 , 不是三的倍数. 故 $(4 x+2 \sqrt{-10})$ 一定是一个主理想的立方. 这样[^0]我们就得到了

$$
4 x+2 \sqrt{-10}=(a+b \sqrt{-10})^{3}
$$

展开得到 $2=3 a^{2} b-10 b^{3}$. 故 $b \mid 2$. 一一验证得到 $b=1, a= \pm 2$, 代入到上面的等式即知 $x= \pm 13, y=7$.

评注 (1). 人大附中陈泉霖同学以及山西大学附属中学团队也给出了本题的正确解答. 对于第二问他们使用了下面的引理: 若素数 $p$ 满足 $\left(\frac{-10}{p}\right)=1$,则 $x^{2}+10 y^{2}=p$ 以及 $2 x^{2}+5 y^{2}=p$ 这两个方程中恰有一个有正整数解，且这组解唯一. 类似于二平方和定理建立 $\mathbb{Z}[i]$ 中的唯一分解性质, 这个引理也建立了 $\mathbb{Z}[\sqrt{-10}]$ 中的分解性质. 事实上, 这与 $\mathbb{Z}[\sqrt{-10}]$ 的类数为 2 密切相关.

(2). 第一问中对不同 $c$ 的处理基本涵盖了 Mordell 方程的基本解法. 从最基本的模, 到因式分解配合二次剩余, 再到代数数论, 这些都是不定方程问题里的常客.


[^0]:    ${ }^{1}$ 对于 $c=3$ 的情况也可以通过分析 $y^{3}-1=2\left(x^{2}+1\right)$ 与 $y^{3}+125=2\left(x^{2}+64\right)$ 这两个方程得到矛盾.

