# 第二十二期问题征解解答与点评 

牟晓生

第一题. 设 $\left(P_{1}, P_{2}\right),\left(Q_{1}, Q_{2}\right),\left(R_{1}, R_{2}\right),\left(S_{1}, S_{2}\right)$ 为 $\triangle A B C$ 的四对等角共轮点, 满足有向线段 $P_{1} P_{2}, Q_{1} Q_{2}, R_{1} R_{2}, S_{1} S_{2}$ 平行且相等. 证明: $P_{1}$ 是 $\triangle Q_{1} R_{1} S_{1}$的垂心。

(台湾 Telv Cohl 供题)

## 证法一 (根据供题者的解答整理):

首先证明下面的引理:

引理 设 $\left(P, P^{*}\right),\left(Q, Q^{*}\right)$ 是 $\triangle A B C$ 的等角共轭点. 设 $P Q$ 与 $P^{*} Q^{*}$ 交于 $U, P Q^{*}$ 与 $P^{*} Q$ 交于 $V$, 则 $(U, V)$ 为 $\triangle A B C$ 的等角共轭点.

引理证明 事实上, 通过 $\angle B A P=\angle C A P^{*}$ 以及 $\angle B A Q=\angle C A Q^{*}$ 以及基本的三角计算就可以证明 $\angle B A U=\angle C A V$, 这里我们略去细节.

回到原题. 令 $M_{P}, M_{Q}, M_{R}, M_{S}$ 分别为 $P_{1} P_{2}, Q_{1} Q_{2}, R_{1} R_{2}, S_{1} S_{2}$ 的中点. 由条件 $P_{1} Q_{1}$ 与 $P_{2} Q_{2}$ 平行且相等, 因此 $P_{1} Q_{1}$ 与 $P_{2} Q_{2}$ 的交点为无穷远点, 而由引理可知 $P_{1} Q_{2}$ 与 $P_{2} Q_{1}$ 的交点必在 $A B C$ 的外接圆上, 即 $M_{P} M_{Q}$ 的中点在 $\triangle A B C$ 的外接圆上. 同样地对 $M_{Q} M_{R}$ 等等的中点都成立.

所以 $\triangle A B C$ 的外接圆是 $\left\{M_{P}, M_{Q}, M_{R}, M_{S}\right\}$ 中任意三点形成的三角形的九点圆, 推出 $M_{P}$ 为 $\triangle M_{Q} M_{R} M_{S}$ 的垂心. 注意到 $M_{P} M_{Q} M_{R} M_{S}$ 与 $P_{1} Q_{1} R_{1} S_{1}$ 全等即得结论.

## 证法二 (根据武钢三中游阳同学的解答整理):

以三角形 $A B C$ 的外心为原点, 外接圆半径为单位长度建立复平面, 并以各点字母表示其所对应的复数. 由 $P_{1}, P_{2}$ 为等角共轭点知 $\frac{\left(P_{1}-A\right)\left(P_{2}-A\right)}{(B-A)(C-A)}$ 为实数, 即

$$
\frac{\left(P_{1}-A\right)\left(P_{2}-A\right)}{(B-A)(C-A)}=\frac{\left(\bar{P}_{1}-\bar{A}\right)\left(\bar{P}_{2}-\bar{A}\right)}{(\bar{B}-\bar{A})(\bar{C}-\bar{A})}
$$

利用 $\bar{A}=\frac{1}{A}$ 等等化简, 得到

$$
\left(P_{1}-A\right)\left(P_{2}-A\right)=B C\left(A \bar{P}_{1}-1\right)\left(A \bar{P}_{2}-1\right)
$$

类似地, 我们有

$$
\left(P_{1}-B\right)\left(P_{2}-B\right)=A C\left(B \bar{P}_{1}-1\right)\left(B \bar{P}_{2}-1\right) .
$$

相减然后消去 $A-B$, 得到

$$
A+B+C-\left(P_{1}+P_{2}\right)=A B C \cdot \bar{P}_{1} \bar{P}_{2} .
$$

由条件, 可设 $P_{2}-P_{1}=Q_{2}-Q_{1}=R_{2}-R_{1}=S_{2}-S_{1}=z$. 用 $P_{1}+z$ 代替 $P_{2}$,得到

$$
(A+B+C)-\left(2 P_{1}+z\right)=A B C \cdot\left(\bar{P}_{1}^{2}+\bar{P}_{1} \cdot \bar{z}\right) .
$$

同理有

$$
(A+B+C)-\left(2 Q_{1}+z\right)=A B C \cdot\left({\overline{Q_{1}}}^{2}+\overline{Q_{1}} \cdot \bar{z}\right) .
$$

相减并整理, 得到

$$
\frac{P_{1}-Q_{1}}{\bar{P}_{1}-\bar{Q}_{1}}=-\frac{1}{2} A B C \cdot\left(\bar{P}_{1}+\bar{Q}_{1}+\bar{z}\right) .
$$

同理有

$$
\frac{R_{1}-S_{1}}{\bar{R}_{1}-\bar{S}_{1}}=-\frac{1}{2} A B C \cdot\left(\bar{R}_{1}+\bar{S}_{1}+\bar{z}\right)
$$

如果我们能证明 $P_{1}+Q_{1}+R_{1}+S_{1}+2 z=0$, 则上面两式相加得到

$$
\frac{P_{1}-Q_{1}}{\bar{P}_{1}-\bar{Q}_{1}}=-\frac{R_{1}-S_{1}}{\bar{R}_{1}-\bar{S}_{1}}
$$

于是 $\frac{P_{1}-Q_{1}}{R_{1}-S_{1}}=-\frac{\bar{P}_{1}-\overline{Q_{1}}}{R_{1}-S_{1}}$, 推出 $\frac{P_{1}-Q_{1}}{R_{1}-S_{1}}$ 是纯虚数. 这样就证明了 $P_{1} Q_{1} \perp R_{1} S_{1}$.

下面我们证明 $P_{1}+Q_{1}+R_{1}+S_{1}+2 z=0$. 对 (1) 两边取共轭, 并利用 $\bar{A}=\frac{1}{A}$ 等等, 得到

$$
(A B+B C+C A)-A B C\left(2 \bar{P}_{1}+\bar{z}\right)=P_{1}^{2}+P_{1} z .
$$

将 $\bar{P}_{1}$ 用 $P_{1}$ 表示, 并代回 (1), 得到关于 $P_{1}$ 的方程

$$
P_{1}^{4}+2 z P_{1}^{3}+\cdots=0 .
$$

这是关于 $P_{1}$ 的四次方程, 其所有系数都是 $A, B, C, z$ 的函数. 由于这个方程对 $P_{1}, Q_{1}, R_{1}, S_{1}$ 都成立, 我们用韦达定理即得所求结论.

评注 华南师大附中胡苏麟、谭健翔同学也给出了本题的正确解答.

第二题. 设 $B$ 为如下复数集合: $B=\{z=x+y \mathrm{i}:|x|,|y| \leq 1\}$. 已知
$z_{1} \sim z_{6} \in B$ 满足 $\sum_{j=1}^{6} z_{j}=0$. 问至少有多少个三元组 $(j, k, l), 1 \leq j<k<l \leq 6$,使得 $z_{j}+z_{k}+z_{l} \in B$ ?

(上海大学 冷岗松, 北京大学学生 吴东晓 供题)

## 解 (根据杭州二中刘浩宇同学的解答整理):

答案是 6 .

首先考虑一维的情形. 我们将证明若 $x_{1}+\cdots+x_{6}=0$ 且 $-1 \leq x_{j} \leq 1$,则至少有 12 个三元组 $(j, k, l)$ 使得 $x_{j}+x_{k}+x_{l} \in[-1,1]$. 另外, 当这个最小值取到时, 可以将 $x_{1} \sim x_{6}$ 分为两组 $A$ 与 $B$, 使得 $x_{j}+x_{k}+x_{l} \in[-1,1]$ 对每个 $j \in A, k, l \in B$ 成立.

为此不妨设六个数中至少三个非负. 分三种情况讨论:

若至少有五个非负, 则所有 20 个三元组都满足要求.

若恰有四个非负, 假设 $x_{1} \leq x_{2}<0$. 对任意的 $k, l \in\{3,4,5,6\}$, 有

$-1 \leq x_{1}+x_{k}+x_{l} \leq \frac{x_{1}+x_{2}}{2}+x_{k}+x_{l}=\frac{-x_{3}-x_{4}-x_{5}-x_{6}}{2}+x_{k}+x_{l} \leq \frac{x_{k}+x_{l}}{2} \leq 1$.

于是 $\{1, k, l\}$ 满足条件, 而它的补集也满足条件. 这样 $A=\{1,2\}, B=$ $\{3,4,5,6\}$ 就是前面提到的满足条件的分组.

最后假设恰有三个非负. 不妨设 $x_{1} \leq x_{2} \leq x_{3}<0 \leq x_{4} \leq x_{5} \leq x_{6}$, 且设 $\left|x_{3}\right| \leq\left|x_{4}\right|$. 取 $j \in\{1,2\}, k, l \in\{4,5,6\}$, 则

$$
-1 \leq x_{j}+x_{k}+x_{l} \leq x_{2}+x_{5}+x_{6}=-\left(x_{3}+x_{4}+x_{1}\right) \leq 1
$$

这样 $A=\{1,2\}, B=\{3,4,5,6\}$ 还是满足条件的分组. 一维的问题就此解决.

回到原题. 对 $z_{i}$ 的实部与虚部分别应用上述结论, 可知至少有 12 个三元组 $(j, k, l)$ 使得 $\operatorname{Re}\left(z_{j}+z_{k}+z_{l}\right) \in[-1,1]$, 另有 12 个三元组使得 $\operatorname{Im}\left(z_{j}+z_{k}+z_{l}\right) \in$ $[-1,1]$. 由于一共只有 20 个三元组, 至少有 $12+12-20=4$ 个三元组同时满足实部与虚部的条件.

假设恰有四个这样的三元组, 则上面所说的一维取等条件成立. 不妨设 $\operatorname{Re}\left(z_{j}+z_{k}+z_{l}\right) \in[-1,1]$ 当且仅当 $j \in\{1,2\}, k, l \in\{3,4,5,6\}$, 而 $\operatorname{Im}\left(z_{j}+z_{k}+z_{l}\right) \in[-1,1]$ 当且仅当 $j \in\{s, t\}, k, l \in\{1,2,3,4,5,6\} \backslash\{s, t\}$.如果 $\{s, t\}=\{1,2\}$, 满足两个条件的三元组实际上有 12 个, 矛盾! 如果 $|\{s, t\} \cap\{1,2\}|=1$, 不妨设 $s=1, t=3$. 此时满足两个条件的三元组为 $\{1,4,5\},\{1,4,6\},\{1,5,6\},\{2,3,4\},\{2,3,5\},\{2,3,6\}$, 一共 6 个, 矛盾! 如果 $\{s, t\} \cap\{1,2\}=\emptyset$, 则满足两个条件的三元组共有 8 个, 仍然矛盾!
综上所述, 不可能只有四个三元组使得 $z_{j}+z_{k}+z_{l} \in B$.

由于这样的三元组个数为偶数, 它们至少有 6 个. 6 这个最小值可以取到,例如 $z_{1}=-1-i, z_{2}=-1+\frac{1}{2} i, z_{3}=\frac{1}{2}-i, z_{4}=z_{5}=z_{6}=\frac{1}{2}+\frac{1}{2} i$. 此时满足两个条件的三元组恰有 $\{1,4,5\},\{1,4,6\},\{1,5,6\},\{2,3,4\},\{2,3,5\},\{2,3,6\}$.

评注 成都石室中学卢禹杰同学以及西北师大附中张江吴同学也给出了本题的正确解答.

第三题. 设 $f(x)$ 为定义在整数集上的有理系数多项式. 若 $f$ 次数为 0 或 1 ,则称 $f(x)$ 的取整函数为简单函数; 否则称 $f(x)$ 的取整函数为复杂函数 (定义域仍为整数集). 证明: 用简单函数通过四则运算能表示出每一个复杂函数.

(雅礼中学学生 尹龙晖 供题)

## 证明 (根据徐州一中陈博文同学的解答整理):

取正整数 $M$ 使得 $M f(x)$ 为整系数多项式. 对 $r \in\{0,1, \ldots, M-1\}$, 我们通过二项式展开可以看出 $f(M x+r)-f(r)$ 是关于 $x$ 的整系数多项式. 所以存在整系数多项式 $g_{r}(x)$, 使得

$$
\lfloor f(M x+r)\rfloor=g_{r}(x), 0 \leq r \leq M-1 .
$$

也就是说, 对于 $y \equiv r(\bmod M)$,

$$
f(y)=g_{r}\left(\left\lfloor\frac{y}{M}\right\rfloor\right) .
$$

注意到 $h_{r}(y)=\left\lfloor\frac{y-r}{M}\right\rfloor-\left\lfloor\frac{y-r-1}{M}\right\rfloor$ 取值 0 和 1 , 而它等于 1 当且仅当 $y \equiv r$ $(\bmod M)$. 所以对所有整数 $y$,

$$
f(y)=\sum_{r=0}^{M-1} h_{r}(y) \cdot g_{r}\left(\left\lfloor\frac{y}{M}\right\rfloor\right) .
$$

这样 $f$ 就由简单函数通过四则运算表示出来了.

评注 华南师大附中谭健翔同学也给出了本题的正确解答.

第四题. $n$ 维空间中至多有多少个模长不小于 1 的向量, 它们两两的内积为 0 或 1 ?

(APMO 2017 改编问题)

## 解 (根据供题者的解答整理):

答案是 $\frac{n^{2}+n}{2}$. 构造不难, 只需取恰有一个或两个分量为 1 , 其余分量均为 0 的向量, 易见它们两两的内积为 0 或 1 .

虽然以上构造和 APMO 的原题是非常类似的, 证明最大值却无法用原题的归纳法. 这里的主要难点在于并没有整向量的条件, 使归纳过渡很难完成. 此时我们需要思考如何能将条件最佳地表示出来, 而下面用到的多项式方法就是一种极为精确的表示.

令 $S$ 表示满足条件的向量集合. 对每个 $v \in S$, 定义 $\mathbb{R}^{n}$ 上的函数 $f_{v}$ :

$$
f_{v}(x)=(v \cdot x)^{2}-(v \cdot x) .
$$

那么由条件, 对任意的 $w \neq v, w \in S$, 有 $f_{v}(w)=0$. 这类条件一般用线性相关处理, 具体来说, 每个函数 $f_{v}(x)$ 都是关于 $x_{1}, \ldots, x_{n}$ 这 $n$ 个分量的多项式, 而我们将证明这些多项式线性不相关. 假设不然, 则存在 $S$ 的非空子集 $T$ 以及非零实数 $\{\lambda(v): v \in T\}$, 满足

$$
\sum_{v \in T} \lambda(v) \times f_{v}(x) \equiv 0
$$

代入 $x=w \in T$, 则 $f_{w}(w)=0$, 导出 $w \cdot w=0$ 或 1 . 于是只能是 $|w|=1, \forall w \in T$.由柯西不等式, 对任意的 $v, w \in T$, 我们一定有 $v \cdot w \leq|v| \times|w|=1$, 且在 $v \neq w$ 时等号无法成立. 这样就证明了 $T$ 中两两向量垂直. 然而 (2) 是多项式的恒等式, 所以只考虑一次项依然相等. 也就是说, $\sum_{v \in T} \lambda(v) \times(v \cdot x) \equiv 0$, 代入 $x=w$ 得到 $\lambda(w) \times(w \cdot w)=0$, 导致矛盾!

由线性不相关, 我们知道 $|S|$ 最多是所有 $n$ 元无常数项的二次多项式的空间维数, 也就是 $\frac{n^{2}+3 n}{2}$. 这和我们的目标 $\frac{n^{2}+n}{2}$ 已经很接近了. 为了补上所差的 $n$,我们将进一步证明多项式 $\left\{f_{v}(x): v \in S\right\}$ 以及 $x_{1}, \ldots, x_{n}$ 这 $n$ 个多项式线性不相关. 为此假设存在实数 $\{\lambda(v): v \in S\}$ 以及向量 $C \in \mathbb{R}^{n}$, 使得

$$
\sum_{v \in S} \lambda(v) \times f_{v}(x) \equiv C \cdot x
$$

我们将证明 $C=\mathbf{0}$, 既而由前面所证可知所有 $\lambda(v)=0$.

在 (3) 中代入 $x=w$, 得到

$$
\lambda(w) \times\left(|w|^{4}-|w|^{2}\right)=C \cdot w, \forall w \in S
$$

另外将 (3) 看作多项式恒等式, 比较一次项系数, 得到 $\sum_{v \in S} \lambda(v) \times(-v \cdot x) \equiv C \cdot x$.所以

$$
C=-\sum_{v \in S} \lambda(v) \times v
$$

由 (4) 以及假设 $|w| \geq 1, C \cdot(\lambda(w) \times w)=\lambda(w)^{2}\left(|w|^{4}-|w|^{2}\right) \geq 0$. 于是由 (5),

$$
-C \cdot C=\sum_{w \in S} C \cdot(\lambda(w) \times w) \geq 0
$$

这样就证明了 $C=\mathbf{0}$, 再由前面的分析就证明了 $|S| \leq \frac{n^{2}+n}{2}$.

评注 (1). 用完全类似的方法可以证明 $n$ 维空间中至多有 $\frac{(n+1)(n+2)}{2}$ 个点,两两的距离只取两个值. 另一方面, 可以构造 $\frac{n(n+1)}{2}$ 个点满足条件. 这里的确切最值是一个未解决问题.

(2). 这个关于内积的问题与空间中等角直线的问题也有紧密的联系. 姜子麟学长在这方面有最新的研究成果, 有兴趣的同学可以阅读他的文章.

