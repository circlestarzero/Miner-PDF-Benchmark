# 一道伊朗国家队选拔考试数论题的注记 

罗振华 1 付云皓 ${ }^{2}$

(1. 上海四季教育, 200070；2. 广州第二师范学院, 510303)

2018 年伊朗国家队选拔考试第一轮第五题的数论题题目新颖漂亮, 具有一定难度. 题目如下:

题目. 证明: 对每个正整数 $m$, 我们可以找到 $m$ 个连续正整数, 使得对其中的每一个数 $n$,

$$
\left(1^{3}+2018^{3}\right)\left(2^{3}+2018^{3}\right) \cdots\left(n^{3}+2018^{3}\right)
$$

所表示的数均不是整数的大于 1 次幂.

本文给出两种不同的解法. 证法一由罗振华给出, 证法二由付云皓给出.

法一主要利用了 Gauss 二次互反律来分析每一项的素因子的信息, 通过取特定的素数 $p$, 使得整个式子含 $p$ 的幂次恰为 1 , 从而证明了它不是整数的大于 1 次幂. 不过二次互反律很多中学生不太熟悉, 我国数学竞赛的数论题也很少考察这部分内容, 那能否绕开二次互反律证明此题呢？解 2 给出了不用二次互反律的新解, 此解法技巧性很强.

证法一 先证明如下两个引理:

引理 1. 设 $p$ 是大于 2 的素数, 则 $\left(\frac{-3}{p}\right)=1$ 当且仅当 $p \equiv 1(\bmod 3)$, 其中 $\left(\frac{d}{p}\right)$ 是 Legendre 符号.

引理 1 的证明 注意到

$$
\left(\frac{-3}{p}\right)=\left(\frac{-1}{p}\right) \cdot\left(\frac{3}{p}\right)=(-1)^{\frac{p-1}{2}} \cdot\left(\frac{-3}{p}\right),
$$

由 Gauss 二次互反律,

$$
\left(\frac{3}{p}\right) \cdot\left(\frac{p}{3}\right)=(-1)^{\frac{3-1}{2} \cdot \frac{p-1}{2}}=(-1)^{\frac{p-1}{2}},
$$

故

$$
\left(\frac{3}{p}\right)=(-1)^{\frac{p-1}{2}}\left(\frac{p}{3}\right) .
$$

收稿日期: 2018-04-26.
则有

$$
\left(\frac{-3}{p}\right)=(-1)^{p-1}\left(\frac{p}{3}\right)=\left(\frac{p}{3}\right) .
$$

所以

$$
\left(\frac{-3}{p}\right)=1 \Leftrightarrow\left(\frac{p}{3}\right)=1 \Leftrightarrow p \equiv 1(\bmod 3)
$$

引理 1 获证.

引理 $\mathbf{2}$ 对于任意正整数 $x, x^{2}-2018 x+2018^{2}$ 的素因子只可能是 $2,3,1009$和 $3 k+1$ 型的素数 (其中 $k$ 为正整数).

引理 2 的证明 对任意正整数 $x$, 设素数 $p \mid x^{2}-2018 x+2018^{2}$, 则 $p \mid$ $(x-1009)^{2}+3 \cdot 1009^{2}$.

当 $p \neq 2,3,1009$ 时, $(x-1009)^{2} \equiv-3 \cdot 1009^{2}(\bmod p)$. 由 $(p, 1009)=1$, 可设 1009 模 $p$ 的逆是 $a$, 则

$$
(a x-1009 a)^{2} \equiv-3(\bmod p)
$$

这说明 $\left(\frac{-3}{p}\right)=1$, 由引理 1 有 $p \equiv 1(\bmod 3)$. 故引理 2 获证.

回到原题. 由 Dirichlet 定理知, $3 k-1$ 型的素数有无穷多个, 任取其中大于 2018 的素数 $p$, 我们说明对于 $p-2018 \leq n \leq 2 p-2019$,

$$
\left(1^{3}+2018^{3}\right)\left(2^{3}+2018^{3}\right) \cdots\left(n^{3}+2018^{3}\right)
$$

表示的数均不是整数的幂.

注意到

$$
\begin{aligned}
\prod_{x=1}^{n}\left(x^{3}+2018^{3}\right) & =\prod_{x=1}^{n}(x+2018)\left(x^{2}-2018 x+2018^{2}\right) \\
& =\prod_{x=1}^{n}(x+2018) \prod_{x=1}^{n}\left(x^{2}-2018 x+2018^{2}\right)
\end{aligned}
$$

由引理 2 , 对任意整数 $x$, 大于 2018 的 $3 k-1$ 型的素数 $p$ 不是 $x^{2}-2018 x+2018^{2}$的素因子. 注意到 $p-2018 \leq n \leq 2 p-2019$, 则 2019 至 $n+2018$ 这连续 $n$ 个数中恰有一个是 $p$ 的倍数, 就是 $p$ 本身. 故 $\left(1^{3}+2018^{3}\right)\left(2^{3}+2018^{3}\right) \cdots\left(n^{3}+2018^{3}\right)$中 $p$ 的幕次恰为 1 , 不可能是整数的幕.

注意到 $p-2018$ 到 $2 p-2019$ 共有 $p$ 个连续自然数. 对于任意正整数 $m$, 取 $3 k-1$ 型的素数 $p>\max \{m, 2018\}$ 就可以找到 $p$ 个连续自然数满足题目条件,当然也有 $m$ 个连续自然数满足题目条件.

综上可知, 命题获证.
证法二 我们先证明下面的两个引理.

引理 1. 设 $f(x)$ 是一个非常数的整系数多项式, 则有无穷多个素数 $p$ 满足如下性质: 存在正整数 $n$ 使得 $p \mid f(n)$.

引理 1 的证明假设仅有有限多个素数 $p$ 满足上述性质, 设它们是 $p_{1}, \cdots, p_{k}$.

设 $|f(1)|=p_{1}^{\alpha_{1}} \cdots p_{k}^{\alpha_{k}}$, 其中 $\alpha_{1}, \cdots, \alpha_{k}$ 是非负整数, 则由 $m-n \mid f(m)-f(n)$可知

$$
p_{1}^{\alpha_{1}+1} \cdots p_{k}^{\alpha_{k}+1} \mid f\left(A p_{1}^{\alpha_{1}+1} \cdots p_{k}^{\alpha_{k}+1}+1\right)-f(1)
$$

其中 $A$ 是任意正整数.

由上式知 $p_{1}^{\alpha_{1}} \cdots p_{k}^{\alpha_{k}} \mid f\left(A p_{1}^{\alpha_{1}+1} \cdots p_{k}^{\alpha_{k}+1}+1\right)$, 且

$$
p_{1} \cdots p_{k} \left\lvert\, \frac{f\left(A p_{1}^{\alpha_{1}+1} \cdots p_{k}^{\alpha_{k}+1}+1\right)}{p_{1}^{\alpha_{1}} \cdots p_{k}^{\alpha_{k}}} \pm 1\right.
$$

![](https://cdn.mathpix.com/cropped/2024_02_26_f399a24c74b1e1f07133g-3.jpg?height=103&width=1442&top_left_y=1028&top_left_x=313)
-1 , 即

$$
\left|f\left(A p_{1}^{\alpha_{1}+1} \cdots p_{k}^{\alpha_{k}+1}+1\right)\right|=p_{1}^{\alpha_{1}} \cdots p_{k}^{\alpha_{k}}
$$

由 $A$ 的任意性知 $f$ 在无穷多个点处的取值相同, 故 $f$ 仅能为常数, 矛盾!

引理 2. 对于任意正整数 $a$, 存在正整数 $M$, 使得对任意素数 $p>M$ 和正整数 $n$, 素数 $p$ 最多整除 $n^{2}-2018 n+2018^{2},(n+1)^{2}-2018(n+1)+2018^{2}, \cdots$, $(n+a)^{2}-2018(n+a)+2018^{2}$ 中的一个数.

引理 2 的证明 取 $M=(a+2018)^{2}+4036(a+2018)+4036^{2}$, 当 $p>M$ 时,我们证明 $p$ 满足条件. 假设结论不成立, 设素数 $p$ 整除引理中数列的两个不同的数, 不妨设

$$
p\left|(n+i)^{2}-2018(n+i)+2018^{2}, p\right|(n+j)^{2}-2018(n+j)+2018^{2}
$$

其中 $0 \leq i<j \leq a$, 两式相减得 $p \mid(j-i)(2 n+i+j-2018)$. 由于

$$
p>(a+2018)^{2}+4036(a+2018)+4036^{2}>a
$$

由上式可推出 $p \mid 2 n+i+j-2018$, 则

$$
\begin{aligned}
& 4\left((n+i)^{2}-2018(n+i)+2018^{2}\right) \\
\equiv & (i-j+2018)^{2}-4036(i-j+2018)+4036^{2}(\bmod p)
\end{aligned}
$$

上面同余式的左边是 $p$ 的倍数, 而右边大于 0 , 故右边不小于 $p$. 注意到

$$
\begin{aligned}
p & >(a+2018)^{2}+4036(a+2018)+4036^{2} \\
& >(i-j+2018)^{2}-4036(i-j+2018)+4036^{2}
\end{aligned}
$$

则同余式右边小于 $p$, 矛盾! 故假设不成立, 引理 2 获证.

回到原题 在引理 2 中取 $a=m$ 得到相应的 $M$, 在引理 1 中取 $f(x)=$ $x^{2}-2018 x+2018^{2}$ 知, 存在素数

$$
p>\max \left\{M, 2 m+3 \cdot 2018,2018^{2}\right\}
$$

及正整数 $n$, 使得 $p \mid f(n)$.

设最小的满足 $p \mid f(n)$ 的正整数 $n$ 为 $n_{0}$, 则 $n_{0}$ 满足 $n_{0} \leq p$. 事实上, 若 $n_{0}>p$, 则 $f\left(n_{0}-p\right) \equiv f\left(n_{0}\right) \equiv 0(\bmod p)$, 故 $n_{0}-p$ 为更小的满足 $p \mid f(n)$ 的正整数, 与最小性矛盾.

进一步有 $n_{0} \leq \frac{p+2018}{2}$. 事实上, 若 $n_{0}>\frac{p+2018}{2}$, 则有

$$
f\left(p+2018-n_{0}\right) \equiv f\left(2018-n_{0}\right) \equiv f\left(n_{0}\right) \equiv 0(\bmod p)
$$

而 $p+2018-n_{0}<n_{0}$, 这说明 $p+2018-n_{0}$ 为更小的满足条件的正整数, 矛盾!

由 $p>2 m+3 \cdot 2018$ 知

$$
n_{0}+m+2018 \leq \frac{p+2018}{2}+m+2018<p .
$$

结合 $n_{0}<p, p>2018^{2}$ 知

$0<f\left(n_{0}\right)<n_{0}^{2}+2018^{2} \leq(p-1)^{2}+2018^{2}=p^{2}-2 p+1+2018^{2}<p^{2}$.

考虑

$$
\left(1^{3}+2018^{3}\right)\left(2^{3}+2018^{3}\right) \cdots\left(x^{3}+2018^{3}\right),
$$

其中 $x \in\left\{n_{0}, n_{0}+1, \cdots, n_{0}+m\right\}$, 则由上面推理知 $1+2018,2+2018, \cdots, x+2018$均不是 $p$ 的倍数, 而对 $f(r)(r=1,2, \cdots, x)$, 由 $n_{0}$ 的最小性知, $r<n_{0}$ 时 $f(r)$不是 $p$ 的倍数, 由引理 2 及 $p \mid f\left(n_{0}\right)$ 知对 $r=n_{0}+1, \cdots, x, f(r)$ 不是 $p$ 的倍数,又 $0<f\left(n_{0}\right)<p^{2}$, 故

$$
\left(1^{3}+2018^{3}\right)\left(2^{3}+2018^{3}\right) \cdots\left(x^{3}+2018^{3}\right)
$$

中 $p$ 的幂次为 1 , 故它不能是任何整数的大于 1 次幂, 证毕.

评注 比较一下两种证法, 证法一通过分析 $x^{2}-2018 x+2018^{2}$ 的素因子信息, 取素数 $p$ 使得它不是任何 $x^{2}-2018 x+2018^{2}$ 的素因子, 再限定 $n$ 的取值范围, 使得 $1+2018,2+2018, \cdots, n+2018$ 只有一个 $p$ 的倍数且幂次为 1 , 从而证明了题目中的数不是整数的大于 1 次幂. 证法二也是取特定的素数 $p$ 使得题设中的数所含 $p$ 的幂次为 1 , 不过不同于证法一取一次项的素因子, 这里 $p$ 取为具有最小性的某个二次项 $x^{2}-2018 x+2018^{2}$ 的素因子, 然后通过很有技巧性的估值排除了 $p$ 是其他项的素因子的可能, 从而证得了结论.

