数学新星网 兴教师专栏

www.nsmath.cn/jszl

# 第 58 届国际数学奥林匹克 

䨉振华

(华东师范大学数学系, 200241)

巴西 里约热内卢

第一天

7月 18 日 9:00-13:30

1. 对每个整数 $a_{0}>1$, 定义数列 $a_{0}, a_{1}, a_{2}, \cdots$ 如下: 对于任意的 $n \geq 0$,

$$
a_{n+1}= \begin{cases}\sqrt{a_{n}}, & \text { 若 } \sqrt{a_{n}} \text { 是整数, } \\ a_{n}+3, & \text { 其它情况. }\end{cases}
$$

试求满足下述条件的所有 $a_{0}$ : 存在一个数 $A$, 使得对无穷多个 $n$, 有 $a_{n}=A$.

(南非 供题)

解 满足条件的 $a_{0}$ 是所有 3 的倍数.

由于 $a_{n+1}$ 仅由 $a_{n}$ 确定, 故序列 $\left\{a_{n}\right\}$ 中有无穷多项相等, 当且仅当序列最终周期，也当且仅当序列有界.

注意到完全平方数模 3 同余 0 或 1 . 若有某项 $a_{k} \equiv 2(\bmod 3)$, 则 $a_{k}$ 不是平方数, $a_{k+1}=a_{k}+3$, 并且 $a_{k+1} \equiv 2(\bmod 3)$, 由归纳法可知, 对 $m \geq k$, 都有 $a_{m+1}=a_{m}+3$, 序列从 $a_{k}$ 起严格递增, 于是无上界. 特别, 若 $a_{0} \equiv 2(\bmod 3)$,这样的 $a_{0}$ 不满足条件.

若 $3 \mid a_{k}$, 则不论 $a_{k+1}=\sqrt{a_{k}}$ 或 $a_{k+1}=a_{k}+3$, 仍然有 $3 \mid a_{k+1}$, 由归纳法,对 $m \geq k, a_{m}$ 都是 3 的倍数. 特别, 若 $3 \mid a_{0}$, 则序列中每一项都被 3 整除.

假设 $3 \mid a_{0}$, 取定一个完全平方数 $N^{2}>a_{0}$, 且 $3 \mid N$. 我们说明对每个 $n$,有 $a_{n} \leq N^{2}$. 反证法, 假设存在大于 $N^{2}$ 项, 取最小的 $k$, 使得 $a_{k}>N^{2}$. 由于 $3 \mid a_{k}$, 故 $a_{k} \geq N^{2}+3$. 而 $a_{k-1} \leq N^{2}, a_{k}-a_{k-1} \leq 3$, 故 $a_{k-1}=N^{2}$, 这样按定义 $a_{k}=N$, 矛盾. 故不存在 $a_{k}>N^{2}$, 因此序列有界, 这样的 $a_{0}$ 满足要求.

收稿日期: 2017-07-30.
最后考虑 $a_{0} \equiv 1(\bmod 3)$ 的情况. 易知, 若 $3 \nmid a_{k}$, 且 $a_{k}>1$, 则 $3 \nmid a_{k+1}$,且 $a_{k+1}>1$. 因此序列 $\left\{a_{n}\right\}$ 中每一项都不被 3 整除, 且大于 1 . 假设 $\left\{a_{n}\right\}$ 有界, 即最终周期, 则每一项都模 3 余 1 . 取最终周期中的最大一项 $a_{k}$, 则 $a_{k}$ 是完全平方数, 否则 $a_{k+1}=a_{k}+3>a_{k}$. 设 $a_{k}=N^{2}$, 于是 $a_{k+1}=N$, 从而 $N \equiv 1$ $(\bmod 3)$, 且 $N>1$, 即有 $N \geq 4$. 由于存在 $j>k$, 使得 $a_{j}=a_{k}=N^{2}>(N-2)^{2}$,而 $a_{k+1}=N \leq(N-2)^{2}$ (注意 $\left.N \geq 4\right)$, 取最小的 $l>k+1$, 使得 $a_{l}>(N-2)^{2}$,从而 $a_{l-1} \leq(N-2)^{2}<a_{l}$, 于是 $a_{l}=a_{l-1}+3$. 再由 $a_{l} \equiv a_{l-1} \equiv 1(\bmod 3)$, 可知 $a_{l-1}=(N-2)^{2} \equiv 1(\bmod 3)$, 这样由定义 $a_{l}=N-2$, 矛盾. 因此, $a_{0} \equiv 1$ $(\bmod 3)$ 也不满足要求. 结论获证.

2. 设 $\mathbb{R}$ 是全体实数构成的集合. 求所有的函数 $f: \mathbb{R} \rightarrow \mathbb{R}$, 使得对于任意实数 $x$ 和 $y$, 都有

$$
f(f(x) f(y))+f(x+y)=f(x y)
$$

(阿尔巴尼亚 供题)

解 将题中所给等式记为 $P(x, y)$. 则由 $P(0,0)$ 可知

$$
f\left(f(0)^{2}\right)=0 .
$$

对任意实数 $x \neq 1$, 存在实数 $y$, 满足 $x+y=x y$, 事实上, $y=\frac{x}{x-1}$. 由 $P\left(x, \frac{x}{x-1}\right)$可知

$$
f\left(f(x) \cdot f\left(\frac{x}{x-1}\right)\right)=0, \quad x \neq 1 .
$$

以下对 $f(0)$ 分两种情况讨论.

情形一: $f(0)=0$. 则由 $P(x, 0)$ 可知 $f(x)=0$.

情形二: $f(0) \neq 0$.

结论一: $f(a)=0$ 当且仅当 $a=1$.

事实上, 由 (1) 可知存在一个实数 $a$, 使得 $f(a)=0$. 若 $a \neq 1$, 则在 (2) 中令 $x=a$, 即得 $f(0)=0$, 这与 $f(0) \neq 0$ 的假设矛盾.

由结论一以及 $(1)$ 得, $f(0)^{2}=1, f(0)= \pm 1$. 先假设 $f(0)=-1$, 因为 $f(0)=1$ 的情况只需对 $g(x)=-f(x)$ 来讨论, $g(x)$ 也满足同样的函数方程.由 $P(x, 1)$ 得

$$
f(0)+f(x+1)=f(x),
$$

即 $f(x+1)=f(x)+1$.
由归纳法易知对任意整数 $n$, 有

$$
f(x+n)=f(x)+n \text {. }
$$

结论二: $f$ 是单射.

反证法, 假设存在 $a \neq b$, 满足 $f(a)=f(b)$. 由 (3) 可知, 对任意整数 $N$, 都有

$$
f(a+N+1)=f(b+N)+1 .
$$

选取整数 $N>-b$, 则存在实数 $x_{0}, y_{0}$, 满足 $x_{0}+y_{0}=a+N+1, x_{0} y_{0}=b+N$.由于 $a \neq b$, 故 $x_{0} \neq 1, y_{0} \neq 1$. 由 $P\left(x_{0}, y_{0}\right)$ 得

$$
f\left(f\left(x_{0}\right) f\left(y_{0}\right)\right)+f(a+N+1)=f(b+N),
$$

从而 $f\left(f\left(x_{0}\right) f\left(y_{0}\right)\right)+1=f\left(f\left(x_{0}\right) f\left(y_{0}\right)+1\right)=0$. 由结论一得 $f\left(x_{0}\right) f\left(y_{0}\right)+1=1$,即 $f\left(x_{0}\right) f\left(y_{0}\right)=0$. 但是 $x_{0} \neq 1, y_{0} \neq 1$, 由结论一 $, f\left(x_{0}\right) \neq 0, f\left(y_{0}\right) \neq 0$, 矛盾.

对任意实数 $t$, 由 $P(t,-t)$ 得

$$
f(f(t) f(-t))+f(0)=f\left(-t^{2}\right) .
$$

从而 $f(f(t) f(-t))=f\left(-t^{2}\right)+1=f\left(-t^{2}+1\right)$. 由于 $f$ 单射, 故

$$
f(t) f(-t)=-t^{2}+1
$$

再由 $P(t, 1-t)$ 得

$$
f(f(t) f(1-t))+f(1)=f(t(1-t)) .
$$

从而 $f(f(t) f(1-t))=f(t(1-t))$. 由于 $f$ 单射, 故

$$
f(t) f(1-t)=t(1-t) .
$$

由于 $f(1-t)=1+f(-t)$, 比较 (4), (5) 即得 $f(t)=t-1$. 若 $f(0)=1$,则 $f(t)=1-t$.

容易验证 $f_{1}(x)=0, f_{2}(x)=x-1, f_{3}(x)=1-x$ 都是满足要求的.

3. 一个猎人和一只隐形的兔子在欧氏平面上玩一个游戏. 已知兔子的起始位置 $A_{0}$ 和猎人的起始位置 $B_{0}$ 重合. 在游戏的 $n-1$ 回合之后, 兔子位于点 $A_{n-1}$, 而猎人位于点 $B_{n-1}$. 在第 $n$ 个回合中, 以下三件事情依次发生.

(i) 兔子以隐形的方式移动到一点 $A_{n}$, 使得 $A_{n-1}$ 和 $A_{n}$ 之间的距离恰为 1 .

(ii) 一个定位设备向猎人反馈一个点 $P_{n}$. 这个设备唯一能够向猎人保证的
事情是, 点 $P_{n}$ 和点 $A_{n}$ 之间的距离至多为 1 .

(iii) 猎人以可见的方式移动到一点 $B_{n}$, 使得点 $B_{n}$ 和点 $B_{n-1}$ 之间的距离恰为 1 .

试问, 是否无论兔子如何移动, 也无论定位设备反馈了哪些点, 猎人总能够适当地选择她的移动方式, 使得在 $10^{9}$ 个回合之后, 她能够确保和兔子之间的距离至多是 $100 ?$

(奥地利 供题)

解 猎人无法确保能在 $10^{9}$ 个回合后与兔子的距离不超过 100 .

设 $d_{n}=A_{n} B_{n}$. 如果对某个 $n \leq 10^{9}$, 已有 $d_{n} \geq 100$, 那么之后兔子只需每次朝猎人的反方向跳跃即可. 现假设 $d_{n}<100$, 我们说明兔子有适当的移动方式, 并且定位设备的反馈点对兔子 “有利” 时, 无论猎人采取何种移动方式, 在 200 回合之后, 猎人无法确保 $d_{n+200}^{2}<d_{n}^{2}+\frac{1}{2}$, 即总有可能 $d_{n+200}^{2} \geq d_{n}^{2}+\frac{1}{2}$.

![](https://cdn.mathpix.com/cropped/2024_02_26_855249f07da471050588g-4.jpg?height=802&width=1188&top_left_y=1181&top_left_x=434)

假设第 $n$ 回合结束后兔子在 $A=A_{n}$, 猎人在 $B=B_{n}$, 我们不妨让兔子向猎人明确 $A$ 的位置, 这使得之前定位设备反馈的信息都可忽略. 作射线 $B A$ (当 $B=A$ 时,任作一条射线), 假如后 200 次定位设备反馈的点恰是沿射线方向从 $A$ 开始每次前进距离 1 , 即

$$
A_{n} P_{n+1}=P_{n+1} P_{n+2}=\cdots=P_{n+199} P_{n+200}=1 .
$$

记 $P=P_{n+200}$. 我们不妨提前将之后 200 次反馈的点都告诉猎人, 这只会增加猎人的信息. 猎人看到这 200 次反馈点会如何决定? 显然以 $P$ 为圆心, 1 为
半径作圆 $\omega_{1}$, 兔子在 $\omega_{1}$ 内 (含边界). 以 $A$ 为圆心, 200 为半径作圆 $\omega_{2}$, 兔子也在 $\omega_{2}$ 内 (含边界). 设 $\omega_{1}$ 和 $\omega_{2}$ 交于点 $X$ 和 $Y$, 则兔子在 $X$ 或 $Y$ 都是可能的,兔子沿 $A X$ 从 $A$ 跳向 $X$, 或沿 $A Y$ 从 $A$ 跳向 $Y$, 每步跳跃距离等于 1 , 这两种跳跃方式以及定位设备的反馈点都是合法的. 假如猎人沿 $B P_{n+200}$ 从 $B$ 移动到 $C, B C=200$, 则有可能 $d_{n+200}^{2}=C X^{2}$. 假如猎人按任意一种策略移动到某处 $Z$, 则 $Z$ 在 $C$ 的左侧. 若 $Z$ 在 $B C$ 上方, 则 $Z Y^{2} \geq C Y^{2}$, 若 $Z$ 在 $B C$ 下方,则 $Z X^{2} \geq C X^{2}$, 总之不论猎人怎么选择他的移动方式, 都有可能 $d_{n+200}^{2} \geq C X^{2}$.

下面来计算 $C X^{2}$. 由 Stewart 定理,

$$
\begin{aligned}
C X^{2} & =\frac{A X^{2} \cdot C P+P X^{2} \cdot A C}{A P}-A C \cdot C P \\
& =\frac{200^{2} \cdot d_{n}+1^{2}\left(200-d_{n}\right)}{200}-\left(200-d_{n}\right) d_{n} \\
& =d_{n}^{2}-\frac{d_{n}}{200}+1 \geq d_{n}^{2}+\frac{1}{2} .
\end{aligned}
$$

初始时 $d_{0}=0$, 故在 $n_{0}=4 \cdot 10^{6}+200<10^{9}$ 个回合后, 总有可能 $d_{n_{0}}^{2} \geq 10^{4}+\frac{1}{2}$,即猎人无法保证 $d_{n_{0}} \leq 100$, 从而在 $10^{9}$ 个回合后, 猎人无法确保能和兔子的距离至多是 100 .

$$
\text { 第二天 }
$$

7月 19 日 9:00-13:30

4. 设 $R$ 和 $S$ 是圆 $\Omega$ 上互异两点, 且 $R S$ 不是直径. 设 $\ell$ 是圆 $\Omega$ 在点 $R$ 处的切线. 平面上一点 $T$ 满足, 点 $S$ 是线段 $R T$ 的中点. $J$ 是圆 $\Omega$ 的劣弧 $\overparen{\mathrm{RS}}$ 上一点, 使得三角形 $J S T$ 的外接圆 $\Gamma$ 交 $\ell$ 于两个不同点. 记 $\Gamma$ 与 $\ell$ 的交点中接近 $R$的那个为 $A$. 直线 $A J$ 交圆 $\Omega$ 于另一点 $K$. 证明, 直线 $K T$ 和圆 $\Gamma$ 相切.

(卢森堡 供题)

![](https://cdn.mathpix.com/cropped/2024_02_26_855249f07da471050588g-5.jpg?height=574&width=788&top_left_y=2020&top_left_x=634)
证明 由 $R, K, S, J$ 共圆, $S, J, A, T$ 共圆, 可知

$$
\angle K R S=\angle K J S=\angle S T A .
$$

又 $A R$ 与 $\Omega$ 相切, $\angle R K S=\angle T R A$. 于是三角形 $R K S$ 与 $T R A$ 相似, 从而

$$
\frac{R K}{R S}=\frac{T R}{T A}
$$

由条件 $S$ 是 $R T$ 的中点, 因此 $R S=S T$, 于是

$$
\frac{R K}{T S}=\frac{R T}{T A}
$$

再结合 $\angle K R T=\angle S T A$, 即得三角形 $K R T$ 与 $S T A$ 相似, 从而 $\angle S A T=$ $\angle S T K$, 这表明直线 $K T$ 与圆 $\Gamma$ 相切.

5. 给定整数 $N \geq 2 . N(N+1)$ 个身高两两不同的足球队员站成一排. 球队教练希望从这些球员中移走 $N(N-1)$ 人, 使得这一排上剩下的 $2 N$ 名球员满足如下 $N$ 个条件:

(1) 他们当中身高最高的两名球员之间没有别的球员,

(2) 他们当中身高第三和第四的两名球员之间没有别的球员,

$(N)$ 他们当中身高最矮的两名球员之间没有别的球员.

证明，这总是可以做到的.

(俄罗斯 供题)

证明 将所有 $N(N+1)$ 个队员按身高分成 $N$ 组, 最高的 $N+1$ 个人第 1 组,接下来的 $N+1$ 个人第 2 组, $\cdots$, 最矮的 $N+1$ 个人第 $N$ 组. 教练从这一排中从左往右依次观察这些队员, 直至第一次发现有两个人同组, 假设 $A_{1}$ 和 $A_{2}$ 同组, $A_{1}$ 在 $A_{2}$ 的左边, $A_{1}$ 和 $A_{2}$ 都在第 $t_{1}$ 组, 那么教练让 $A_{1}, A_{2}$ 留下, 让 $A_{2}$ 左边的其他人都离开, 并且第 $t_{1}$ 组中的其他人也都离开. $A_{2}$ 右边的人都属于其余 $N-1$ 组, 每组至多有一人离开, 因此每组还至少有 $N$ 人. 接着从 $A_{2}$ 开始往右继续观察剩下的队员, 直至再次发现两人同组, 假设 $A_{3}, A_{4}$ 同组, $A_{3}$ 在 $A_{4}$ 的左边, $A_{3}$ 和 $A_{4}$ 都在第 $t_{2}$ 组, 教练让 $A_{3}, A_{4}$ 留下, $A_{2}$ 至 $A_{4}$ 之间的其他人都离开, 并且第 $t_{2}$ 组的其他人也都离开.

如此继续进行下去. 当已经确定了 $A_{1}, A_{2}, \cdots, A_{2 k-1}, A_{2 k}$ 时, 他们依次从左至右排列, $A_{1}, A_{2}$ 在 $t_{1}$ 组, $A_{3}, A_{4}$ 在 $t_{2}$ 组, $\cdots, A_{2 k-1}, A_{2 k}$ 在 $t_{k}$ 组, 并且 $A_{2 k}$ 右边的人都是剩下的 $N-k$ 组中的人, 且每组至少有 $N-k+1$ 个人. 如
果 $k \leq N-1$, 从 $A_{2 k}$ 开始继续往右观察剩下的队员, 一定有两人是同一组的,第一次发现同组的两个人记为 $A_{2 k+1}, A_{2 k+2}, A_{2 k+1}$ 在 $A_{2 k+2}$ 的左边, 设他们是第 $t_{k+1}$ 组的, 留下这两个人, 让 $A_{2 k}, A_{2 k+2}$ 之间的其他人离开, 让第 $t_{k+1}$ 组的其他人也都离开.

最后我们留下了 $2 N$ 个人, $A_{1}, A_{2}, \cdots, A_{2 N}$, 在队列中依次从左向右, 且每组都恰好留下两个人, 每组留下的两个人之间没有其他人, 因此结论成立.

6. 一个本原格点是一个有序整数对 $(x, y)$, 其中 $x$ 和 $y$ 的最大公约数是 1 .给定一个有限的本原格点集 $S$, 证明, 存在一个正整数 $n$ 和整数 $a_{0}, a_{1}, \cdots, a_{n}$,使得对于 $S$ 中的每一个 $(x, y)$, 都成立:

$$
a_{0} x^{n}+a_{1} x^{n-1} y+a_{2} x^{n-2} y^{2}+\cdots+a_{n-1} x y^{n-1}+a_{n} y^{n}=1 .
$$

(美国供题)

证明 对 $S$ 的元素个数归纳. 若 $|S|=1$, 设 $S=\left\{\left(x_{0}, y_{0}\right)\right\}$. 由 Bezout 定理,存在整数 $a, b$, 使得 $a x_{0}+b y_{0}=1$, 取齐次整系数多项式 $P(X, Y)=a X+b Y$, 则对任意 $(x, y) \in S$, 有 $P(x, y)=1$.

下面假设 $|S|=k \geq 2$, 并且结论在 $k-1$ 时成立. 任取 $\left(x_{0}, y_{0}\right) \in S$, 由 Bezout 定理, 存在整数 $a, b$, 使得 $a x_{0}+b y_{0}=1$. 作平面上的单模整变换

$$
T: \mathbb{R}^{2} \rightarrow \mathbb{R}^{2}, \quad T(X, Y)=\left(a X+b Y,-y_{0} X+x_{0} Y\right),
$$

$T$ 将 $\mathbb{Z}^{2}$ 到 $\mathbb{Z}^{2}$ 作一一对应, 并且将本原格点也映到本原格点. 如果对 $T(S)$, 存在齐次整系数多项式 $P(X, Y)$, 使得对任意 $(x, y) \in T(S), P(x, y)=1$, 那么齐次整系数多项式 $P(T(X, Y))=P\left(a X+b Y,-y_{0} X+x_{0} Y\right)$, 就满足对任意 $(x, y) \in S$, $P(T(x, y))=1$. 我们只需对 $W=T(S)$ 来证明. 注意 $T\left(x_{0}, y_{0}\right)=(1,0) \in W$.记 $W^{\prime}=W \backslash\{(1,0)\}$. 由归纳假设, 存在齐次整系数多项式 $F(X, Y)$, 使得对任意 $(x, y) \in W^{\prime}$, 都有 $F(x, y)=1$. 设 $W^{\prime}=\left\{\left(x_{1}, y_{1}\right), \cdots,\left(x_{k-1}, y_{k-1}\right)\right\}$, 令

$$
G(X, Y)=\prod_{i=1}^{k-1}\left(-x_{i} Y+y_{i} X\right)
$$

于是对 $1 \leq i \leq k-1$, 都有 $G\left(x_{i}, y_{i}\right)=0$, 而 $G(1,0)=y_{1} y_{2} \cdots y_{k-1}=: a$. 设

$$
F(X, Y)=a_{0} X^{n}+a_{1} X^{n-1} Y+\cdots+a_{n} Y^{n} .
$$

由于 $F\left(x_{i}, y_{i}\right)=a_{0} x_{i}^{n}+y_{i}\left(a_{1} x_{i}^{n-1}+\cdots+a_{n} y_{i}^{n-1}\right)=1$, 故 $\left(a_{0}, y_{i}\right)=1,1 \leq$ $i \leq n-1$. 从而 $\left(a_{0}, a\right)=1$. 取正整数 $d$, 使得 $a_{0}^{d} \equiv 1(\bmod a)$, 且 $d>\operatorname{deg} G$.
令 $M=\frac{a_{0}^{d}-1}{a} \in \mathbb{Z}$, 且

$$
P(X, Y)=F(X, Y)^{d}-M X^{d \operatorname{deg} F-\operatorname{deg} G} G(X, Y) .
$$

于是 $P(X, Y)$ 是 $d \operatorname{deg} F$ 次齐次整系数多项式. 对 $1 \leq i \leq 1$,

$$
P\left(x_{i}, y_{i}\right)=F\left(x_{i}, y_{i}\right)^{d}-M x_{i}^{d \operatorname{deg} F-\operatorname{deg} G} G\left(x_{i}, y_{i}\right)=1-0=1 \text {, }
$$

而

$$
P(1,0)=F(1,0)^{d}-M G(1,0)=a_{0}^{d}-\frac{a_{0}^{d}-1}{a} \cdot a=1
$$

