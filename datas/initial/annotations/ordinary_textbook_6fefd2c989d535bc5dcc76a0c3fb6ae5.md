# 两道类似的不定方程 

王子或 肖行健

(山西大学附属中学, 200231)

本文主要讨论一下以下两个问题: 2019 年 9 月的第三十四期新星征解第四题与 2019 年 10 月的北大金秋营第八题. 这两题从做法上大致相近, 本文主要介绍我们的解法, 供有兴趣者参考.

例 1 是否存在非零整数 $a, b, c$ 使得 $3 a^{4}+4 b^{4}=19 c^{4}$ ?

(第三十四期新星征解第四题)

分析 在这道题中首先注意到 $3+4 \times 2^{2}=19$ 与题干类似, 考虑移项利用平方差公式进行因式分解. 不妨考虑 $a, b, c$ 两两互质, 再对因式分解后的式子素因子分析, 以及常见的模一些小数后, 再考虑之后如何进行. 之后的想法是本题的关键, 会写在证明的后方.

解 当存在素数 $p$ 整除 $a, b, c$ 中两个数时, 易知 $p$ 整除第三个数, 所以可不妨设 $a, b, c$ 两两互素.

此时若 $2|a \Rightarrow 2| c$, 则 $a, c$ 不互素, 矛盾! 所以 $a, c$ 均为奇数, 左右两边 $\bmod 8$, 可知 $b$ 为偶数.

又 (1) 可化简为 $4 b^{4}-16 c^{4}=3 c^{4}-3 a^{4}$, 即

$$
4\left(b^{2}-2 c^{2}\right)\left(b^{2}+2 c^{2}\right)=3\left(c^{2}-a^{2}\right)\left(c^{2}+a^{2}\right)
$$

当 $3 \mid\left(b^{2}-2 c^{2}\right)$, 利用 $\left(\frac{2}{3}\right)=-1$, 可知 $3|b, 3| c$, 与 $b, c$ 互素矛盾, 所以 $3 \mid\left(b^{2}+2 c^{2}\right)$. 通过 $\bmod 8$, 又可知

$$
2\left|\left(b^{2}-2 c^{2}\right), 2\right|\left(b^{2}+2 c^{2}\right), 2 \mid\left(c^{2}+a^{2}\right) .
$$

所以可写

$$
\frac{b^{2}-2 c^{2}}{2} \cdot \frac{b^{2}+2 c^{2}}{6}=\frac{c^{2}-a^{2}}{8} \cdot \frac{c^{2}+a^{2}}{2},
$$[^0]其中四个分式均为整数. 利用 $a, b, c$ 两两互素, 可知

$$
\left(\frac{b^{2}-2 c^{2}}{2}, \frac{b^{2}+2 c^{2}}{6}\right)=1,\left(\frac{c^{2}-a^{2}}{8}, \frac{c^{2}+a^{2}}{2}\right)=1 .
$$

(i) 当 $c^{2}>a^{2}$, 则存在两两互素的正整数 $x, y, z, w$ 使得:

$$
\left\{\begin{array} { l } 
{ \frac { b ^ { 2 } - 2 c ^ { 2 } } { 2 } = x y } \\
{ \frac { b ^ { 2 } + 2 c ^ { 2 } } { 6 } = z w } \\
{ \frac { c ^ { 2 } - a ^ { 2 } } { 8 } = x z } \\
{ \frac { c ^ { 2 } + a ^ { 2 } } { 2 } = y w }
\end{array} \Rightarrow \left\{\begin{array}{l}
b^{2}=3 z w+x y \\
2 c^{2}=3 z w-x y \\
c^{2}=4 x z+y w \\
a^{2}=y w-4 x z
\end{array} .\right.\right.
$$

对比 $c^{2}$ 可知 $8 x z+2 y w=3 z w-x y$, 即 $(x+2 w)(y+8 z)=19 z w$.

因为 $(y, z)=1$, 所以 $(z, y+8 z)=1$, 所以 $z \mid(x+2 w)$. 同理 $w \mid(y+8 z)$, 所以

$$
\left\{\begin{array} { l } 
{ x + 2 w = z } \\
{ y + 8 z = 1 9 w }
\end{array} \text { 或 } \left\{\begin{array}{l}
x+2 w=19 z \\
y+8 z=w
\end{array}\right.\right. \text {. }
$$

用 $x, y$ 标识 $z, w$ 代入 $a, b, c$ 表达式知

$$
\left\{\begin{array} { l } 
{ a ^ { 2 } = \frac { y ^ { 2 } - 7 6 x ^ { 2 } } { 3 } } \\
{ b ^ { 2 } = \frac { 2 ( y ^ { 2 } + 1 9 x y + 7 6 x ^ { 2 } ) } { 3 } } \\
{ c ^ { 2 } = \frac { y ^ { 2 } + 1 6 x y + 7 6 x ^ { 2 } } { 3 } }
\end{array} \Rightarrow \left\{\begin{array}{l}
a^{2}=\frac{19 y^{2}-4 x^{2}}{3} \\
b^{2}=\frac{2\left(19 y^{2}+19 x y+4 x^{2}\right)}{3} \\
c^{2}=\frac{19 y^{2}+16 x y+4 x^{2}}{3}
\end{array} .\right.\right.
$$

前者 $y^{2}=3 a^{2}+76 x^{2}$ 两边模 19. 当 $(19, y)=1$, 则 3 是 19 的二次剩余, 这与 $\left(\frac{3}{19}\right)=(-1)^{\frac{2 \times 18}{4}} \cdot\left(\frac{19}{3}\right)=-1$ 矛盾! 所以 $19|y \Rightarrow 19| a \Rightarrow 19 \mid x$, 与 $x, y$ 互质矛盾!

后者 $2 \mid b$, 所以 $2 \mid 19 y^{2}+19 x y$. 因为 $a$ 为奇数, 所以 $y$ 为奇数, 所以 $x$ 为奇数, 因为 $3 a^{2}+4 x^{2}=19 y^{2}$, 模 $8 \Rightarrow 3+4=19(\bmod 8)$ 矛盾!

(ii) 当 $c^{2}<a^{2}$, 基本类似的, 存在两两互素的正整数 $x, y, z, w$ 使得:

$$
\left\{\begin{array}{l}
\frac{2 c^{2}-b^{2}}{2}=x y \\
\frac{b^{2}+2 c^{2}}{6}=z w \\
\frac{a^{2}-c^{2}}{8}=x z \\
\frac{c^{2}+a^{2}}{2}=y w \\
a^{2}=3 z w+x y \\
c^{2}=y w-4 x z \\
a^{2}=4 x z+y w
\end{array} .\right.
$$

对比 $c^{2}$ 可知 $2 y w-8 x z=3 z w+x y$, 即 $(2 w-x)(y+8 z)=19 z w$.

同理可化简变为下式, 并以类似的理由矛盾.

$$
\left\{\begin{array} { l } 
{ a ^ { 2 } = \frac { y ^ { 2 } - 7 6 x ^ { 2 } } { 3 } } \\
{ b ^ { 2 } = \frac { 2 ( y ^ { 2 } - 1 9 x y + 7 6 x ^ { 2 } ) } { 3 } } \\
{ c ^ { 2 } = \frac { y ^ { 2 } - 1 6 x y + 7 6 x ^ { 2 } } { 3 } }
\end{array} \text { 或 } \left\{\begin{array}{l}
a^{2}=\frac{19 y^{2}-4 x^{2}}{3} \\
b^{2}=\frac{2\left(19 y^{2}-19 x y+4 x^{2}\right)}{3} \\
c^{2}=\frac{19 y^{2}-16 x y+4 x^{2}}{3}
\end{array} .\right.\right.
$$

评注 对因式分解后的式子, 利用乘积相等以及互素, 我们进行了分解, 并找到了矛盾, 可以发现,一般矛盾大多可用模一些常数如 8 , 以及二次剩余得到, 还有一部分可以通过不等式进行控制 (例2). 类似的利用乘积相等和互素的条件,有兴趣的读者可以做一下下面这道题:

证明: 不存在有理数 $x, y$ 使得 $x-\frac{1}{x}+y-\frac{1}{y}=4$.

在解决北大金秋营第八题以前, 我们需要先证一个熟悉的引理.

例 2 证明:使得 $\frac{x+1}{2}, \frac{x^{2}+1}{2}$ 均为平方数的正整数 $x$ 只有 1 和 7 .

## 证明

引理 1 勾股方程本原解公式, 此处略.

引理 2 若整数 $x, y, z$ 满足 $x^{4}+y^{4}=z^{2}$ 或 $x^{4}-y^{4}=z^{2}$, 则有 $x y z=0$ 成立.引理 1,2 证明略.

引理 3 若非负整数 $x, y$ 满足 $2 x^{2}-y^{4}=1$, 则有 $x=y=1$.

证明 配方知 $x^{4}-y^{4}=\left(x^{2}-1\right)^{2}$, 由引理 $2, x=1$.

引理 4 若非负整数 $x, y$ 满足 $x^{4}-2 y^{2}=1$, 则有 $x=1, y=0$.

证明 配方知 $x^{4}+y^{4}=\left(y^{2}+1\right)^{2}$, 由引理 $2, x=1$.

回到原题. 设 $a, b$ 为正整数满足 $\left\{\begin{array}{c}\frac{n+1}{2}=a^{2} \\ \frac{n^{2}+1}{2}=b^{2}\end{array}\right.$, 则 $\left\{\begin{array}{c}n=2 a^{2}-1 \\ n^{2}=2 b^{2}-1\end{array}\right.$. 即

$$
b^{2}=2 a^{4}-2 a^{2}+1=a^{4}+\left(a^{2}-1\right)^{2} .
$$

$a=1$ 满足, 下设 $a \geq 2$, 由于 $\left(a, a^{2}-1\right)=1$ 知存在非负互质整数 $c, d$, 且一奇一偶满足

$$
\left\{\begin{array} { l } 
{ a ^ { 2 } = 2 c d } \\
{ a ^ { 2 } - 1 = c ^ { 2 } - d ^ { 2 } } \\
{ b = c ^ { 2 } + d ^ { 2 } }
\end{array} \text { 或 } \left\{\begin{array}{l}
a^{2}=c^{2}-d^{2} \\
a^{2}-1=2 c d \\
b=c^{2}+d^{2}
\end{array} .\right.\right.
$$

当 $a$ 为偶数时, 必为前者, 设 $a=2 m$, 则 $\left\{\begin{array}{l}2 m^{2}=c d \\ 4 m^{2}-1=c^{2}-d^{2}\end{array} . \bmod 4\right.$ 知 $c$为偶数 $d$ 为奇数, 因为 $c, d$ 互质且 $2 m^{2}=c d$. 所以存在互质整数 $e, f$ 满足

$$
\left\{\begin{array}{l}
c=2 e^{2} \\
d=f^{2} \\
m=e f
\end{array}\right.
$$

推出

$$
4 e^{2} f^{2}-1=4 e^{4}-f^{4}
$$

即

$$
\frac{f^{2}+2 e^{2}-1}{2} \times \frac{f^{2}+2 e^{2}+1}{2}=2 e^{4}
$$

由于前面两个分式对应整数互质, 所以存在整数 $g, h$ 满足

$$
\left\{\begin{array} { l } 
{ \frac { f ^ { 2 } + 2 e ^ { 2 } + 1 } { 2 } = g ^ { 4 } } \\
{ \frac { f ^ { 2 } + 2 e ^ { 2 } - 1 } { 2 } = 2 h ^ { 4 } } \\
{ e = g h }
\end{array} \text { 或 } \left\{\begin{array}{l}
\frac{f^{2}+2 e^{2}+1}{2}=2 h^{4} \\
\frac{f^{2}+2 e^{2}-1}{2}=g^{4} \\
e=g h
\end{array}\right.\right.
$$

前者知 $g^{4}-2 h^{4}=1$, 由引理 4 矛盾; 后者为 $2 h^{4}-g^{4}=1$, 由引理 $3, g=h=1$,从而可推出 $e=f=1, c=2, d=1, m=1, a=2, n=7$.

若 $a$ 为奇数, 则 $\left\{\begin{array}{l}a^{2}=c^{2}-d^{2} \\ a^{2}-1=2 c d\end{array}\right.$, 即 $\left\{\begin{array}{l}a^{2}+d^{2}=c^{2} \\ a^{2}-1=2 c d\end{array}\right.$.

由于 $c, d$ 互质. 所以存在互质整数 $e, f$ 满足

$$
\left\{\begin{array}{l}
a^{2}=e^{2}-f^{2} \\
d=2 e f \\
c=e^{2}+f^{2}
\end{array} .\right.
$$

推出

$$
\left(e^{2}-f^{2}\right)^{2}-1=2\left(e^{2}+f^{2}\right) \times 2 e f
$$

即 $(e-f)^{4}-2 \times(2 e f)^{2}=1$. 由引理 4 矛盾!

从而满足条件的 $x$ 只有 1 和 7 .

评注 通过因式分解降次或其他方法构建勾股方程, 来解不定方程是解 2,4 次不定方程常用方法, 本题前面的四个引理均非常常见, 需要读者有良好的勾股方程的基础. 类似地, 可以证明使得 $\frac{x-1}{2}, \frac{x^{2}+1}{2}$ 均为平方数的正整数 $x$ 只有 1 , 留给读者思考.

例 3 证明: $x^{4}-20200 y^{2}=1$ 无正整数解.

(2019 北大金秋营第 8 题)

证明 由题可知 $x$ 是奇数, 所以上式可化简为 $\frac{x^{2}-1}{2} \cdot \frac{x^{2}+1}{2}=202(5 y)^{2}$.

因为 $\left(\frac{x^{2}-1}{2}, \frac{x^{2}+1}{2}\right)=1$, 所以存在正整数 $u, v$ 使得下式中一个式子成立:

$$
\left\{\begin{array}{l}
\frac{x^{2}-1}{2}=202 u^{2} \\
\frac{x^{2}+1}{2}=v^{2}
\end{array},\left\{\begin{array}{l}
\frac{x^{2}-1}{2}=101 u^{2} \\
\frac{x^{2}+1}{2}=2 v^{2}
\end{array},\left\{\begin{array}{l}
\frac{x^{2}-1}{2}=2 u^{2} \\
\frac{x^{2}+1}{2}=101 v^{2}
\end{array},\left\{\begin{array}{l}
\frac{x^{2}-1}{2}=u^{2} \\
\frac{x^{2}+1}{2}=202 v^{2}
\end{array},\right.\right.\right.\right.
$$

其中中间两组会产生 $x^{2}+1=4 v^{2}$ 和 $x^{2}-1=4 u^{2}$, 这对 $x, u, v$ 均为正整数无解,对最后一组, 因为 $x$ 为奇数, 所以 $\frac{x^{2}+1}{2}$ 为奇数, 矛盾!
所以只有第一组可能有解, 此时 $x^{2}-1=404 y^{2}$, 所以

$$
\frac{x-1}{2} \cdot \frac{x+1}{2}=101 u^{2}
$$

因为 $\left(\frac{x-1}{2}, \frac{x+1}{2}\right)=1$, 所以必有 $\frac{x+1}{2}, \frac{x^{2}+1}{2}$ 均为平方数或 $\frac{x-1}{2}, \frac{x^{2}+1}{2}$ 均为平方数, 代入例 2 的解即可.

评注 由于此类不定方程题型比较常见, 在考场上同学们不要看见他是第八题就放弃, 其实相对压轴题的一般难度是简单的, 同时这类方程相对比较浪费时间, 在考场上需要同学很好的对做题进行规划. 一个误区是容易将此类方程转为 Pell 方程, 但由于此类方程并没有相对很好的性质, 不容易利用 Pell 方程证明此方程无解. 值得一提的是本次秋令营第二天四个题中数论成分比较大, 这对数论好的同学很有优势.

致谢 感谢王永喜老师对笔者的帮助, 感谢罗振华老师对本文创作的支持和修改.


[^0]:    修订日期: 2020-02-01.

