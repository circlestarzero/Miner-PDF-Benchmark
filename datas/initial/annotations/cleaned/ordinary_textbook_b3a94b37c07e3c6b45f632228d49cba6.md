# 匈牙利 Kürschák 竞赛 <br> $(2008-2019)$ 

侯傑夫王琇尹顺

(湖南师范大学附属中学, 410006)

指导教师: 汤礼达

匈牙利是数学竞赛的发源地, 而 Kürschák 竞赛是全球范围内历史最悠久的数学竞赛. 为纪念物理学家、数学家 Lóránd Eötvös 荣任教育大臣, 从 1894 年起, 匈牙利举行了以他命名的数学竞赛活动, 现代意义上的数学竞赛便起源于此. Eötvös 竞赛于每年十月举行, 考生在一个下午的四个小时内解答三道试题.二战后, 为纪念数学家、教育家 József Kürschák 对数学竟赛做出的杰出贡献, Eötvös 竞赛改名为 Kürschák 竞赛, 并延续至今.

Kürschák 竞赛的试题十分优美, 风格新颖, 常具有一定深入的背景, 可以很好地锻炼思维能力. 试题难度分明, 对于各级别的数学竞赛都有一定的训练价值. 我们给出近十年来 Kürschák 竞赛的试题解答与评注, 题号 “ $x . y$ ” 表示本题是 $x$ 年的第 $y$ 题. 由于能力有限, 难免有不当疏漏之处, 敬请读者批评指正.

## I. 试 题

2019 年

2019.1 在 $\triangle A B C$ 中, $A B<A C<B C, A_{1}, B_{1}, C_{1}$ 分别是顶点 $A, B, C$ 在对边上的射影. 设 $B_{1}$ 关于 $C C_{1}$ 的对称点是 $Q, C_{1}$ 关于 $B B_{1}$ 的对称点是 $P$. 证明: $\triangle A_{1} P Q$ 的外接圆通过线段 $B C$ 的中点.

2019.2 设 $n$ 是正整数, 求所有由集合 $\{1,2, \cdots, n\}$ 的子集构成的族 $\mathcal{F}$, 使得对 $\{1,2, \cdots, n\}$ 的任意非空子集 $X$, 在 $\mathcal{F}$ 中恰有一半的 $A$ 满足 $|A \bigcap X|$ 为偶数.

2019.3 证明或否定下述结论: 设 $H$ 和 $A$ 是有界的实数集合, 则至多存在一[^0]



(题 2019.1 图)

个实数集合 $B$ 满足 $a+b(a \in A, b \in B)$ 两两不同, 且 $H=\{a+b \mid a \in A, b \in B\}$.

## 2018 年

2018.1 设 $\triangle A B C$ 的内切圆与边 $B C, C A, A B$ 分别切于点 $A_{1}, B_{1}, C_{1}$. $\triangle A B C$ 的 $A-$ 中线与 $B_{1} C_{1}$ 交于点 $M$. 证明: $A_{1} M \perp B C$.



(题 2018.1 图)

2018.2 给定素数 $p$, 设 $v_{1}, v_{2}, \cdots, v_{n} \in \mathbb{Z}^{3}$ 是 $n(n \geq 2)$ 个互异的模长为 $p$的向量. 已知对任意 $1 \leq i<j \leq n$, 都存在整数 $0<l<p$ 满足 $v_{i}-l v_{j}$ 的 3 个分量均为 $p$ 的倍数. 证明: $n \leq 6$.

2018.3 一个村庄有 $k$ 条街道和 $k(n-1)+1$ 个俱乐部, 每个俱乐部有 $n$ 个成员, 每个人住在某条街道上, 并且加入了某些俱乐部. 如果两个人住在同一条街道上或至少加入了同一个俱乐部, 则他们相互认识.

证明: 可以从某 $n$ 个俱乐部中找出 $n$ 个人, 一个俱乐部找出一个人, 使得这 $n$ 个人两两相互认识.

## 2017 年

2017.1 给定 $\triangle A B C$, 分别在边 $B C, C A, A B$ 上独立随机等概率取点 $A^{\prime}, B^{\prime}, C^{\prime}$. 对平面上一点 $Z, p(Z)$ 表示 $Z$ 含在直线 $A A^{\prime}, B B^{\prime}, C C^{\prime}$ 构成的三角形
内 (不含边界)的概率. 求平面上的所有点 $Z$, 使得 $p(Z)$ 取到最大值.

2017.2 是否存在实系数多项式 $p(x)$ 和 $q(x)$, 使得 $(p(x))^{3}-(q(x))^{2}$ 是非常数的线性函数?

2017.3 在一个 $n \times n$ 方格表的每个单位格中填入一个整数, 使得同一行中的数两两不同. 证明: 可以将每行中的数分别适当重排, 使得同一列的数两两不同.

## 2016 年

2016.1 给定整数 $1 \leq k \leq n$, 我们至多可以从 $\{1,2, \cdots, n\}$ 中取出多少个 $k$ 元子集, 使得对任意两个取出的集合, 其中一个由它们的并中最小的 $k$ 个元素组成?

2016.2 证明: 对任意正整数的有限集合 $A$, 存在 $A$ 的子集 $B$ 满足：

(1) 对 $B$ 中任意两个不同元素 $b_{1}, b_{2}, b_{1}$ 与 $b_{2}$ 之间无倍数关系, $b_{1}+1$ 与 $b_{2}+1$之间也无倍数关系;

(2) 对任意 $a \in A$, 存在 $b \in B$ 使 $a \mid b$ 或 $b+1 \mid a+1$.

2016.3 若实系数多项式 $P, Q$ 满足 $P(P(x))=(Q(x))^{2}$, 是否一定存在实系数多项式 $R$ 满足 $P(x)=(R(x))^{2} ?$

## 2015 年

2015.1 假设玩家 $A$ 与 $B$ 玩一个游戏, 先得 15 分者胜. 在任意一个时刻, $A$得下一分的概率为 $p(0<p<1), B$ 得下一分的概率为 $q=1-p$, 但是他们不能同时得分. 假设在某一时刻 $A$ 得分 $14-k, B$ 得 $14-l$ 分 $(0 \leq k, l \leq 14)$. 若接下来 $A$ 得了一分, 则其获胜概率比得这一分前的获胜概率大多少?

2015.2 在 $\triangle A B C$ 中, 点 $D$ 在边 $A B$上, $I$ 是 $\triangle A B C$ 内在 $\angle A C B$ 平分线上的一点. $A I, C I$ 与 $\odot(A C D)$ 的第二个交点分别为 $P, Q, B I, C I$ 与 $\odot(B C D)$ 的第二个交点分别为 $R, S$.

证明: 若 $P \neq Q, R \neq S$, 则直线 $A B, P Q, R S$ 三线共点.



2015.3 设 $n$ 是正整数, $Q=\{0,1\}^{n}, A$ 是 $Q$ 的 $2^{n-1}$ 元子集. 证明: 存在至
少 $2^{n-1}$ 对 $(a, b) \in A \times(Q \backslash A)$, 使得 $a$ 与 $b$ 恰在一个分量上不同.

## 2014 年

2014.1 设整数 $n \geq 4$, 某个公司有 $n$ 个人, 每个人认识其他的人中的至少 1 个, 但没有人认识除他自己外的所有人. 证明: 可以选出 4 人, 安排在圆桌周围, 使得 4 个人中每一个恰认识他的两个邻居之一.

2014.2 给定锐角 $\triangle A B C$ 及其内部一点 $P, P$ 不在高线 $A A_{1}, B B_{1}, C C_{1}$ 上,直线 $A P, B P, C P$ 交 $\triangle A B C$ 外接圆于点 $A_{2}, B_{2}, C_{2}$. 证明: $\odot A A_{1} A_{2}, \odot B B_{1} B_{2}$, $\odot C C_{1} C_{2}$ 三圆有两个公共点.

2014.3 设 $K$ 是平面上的一个闭凸多边形, $X$ 是 $K$ 所在平面上一点. 证明: 存在关于 $K$ 的边的一列反射, 使得 $X$ 在该列反射下的像含在 $K$ 中.

## 2013 年

2013.1 设正实数 $a, b$ 满足 $2 a b=a-b$. 对正整数 $k$, 用 $x_{k}$ 和 $y_{k}$ 分别表示与 $a k$ 和 $b k$ 距离最近的整数 (如果有两个距离最近的整数, 取较大的那个). 证明: 对任意正整数 $n, n$ 出现在序列 $\left(x_{k}\right)_{k \geq 1}$ 中, 当且仅当 $n$ 出现在序列 $\left(y_{k}\right)_{k \geq 1}$中至少三次.

2013.2 设 $P_{1}, P_{2}, P_{3}$ 为闭多边形区域, 满足对任意三点 $A \in P_{1}, B \in$ $P_{2}, C \in P_{3}$, 都有 $[\triangle A B C] \leq 1$.(这里 $[X]$ 表示多边形 $X$ 的面积). 证明:

(a) $\min \left\{\left[P_{1},\right]\left[P_{2},\right]\left[P_{3}\right]\right\}<4$.

(b) 试构造 $P_{1}, P_{2}, P_{3}$ 满足条件, 使得 $\left[P_{1}\right]>4,\left[P_{2}\right]>4$.

2013.3 对任意整数 $n \geq 2$ 以及非负实数 $l_{i j}(1 \leq i<j \leq n)$, 是否总是可以找到非负实数序列 $a_{1}, a_{2}, \cdots, a_{n}$ 满足 $\sum_{i=1}^{n} a_{i} \leq \sum_{1 \leq i<j \leq n} l_{i j}$, 且对任意整数 $1 \leq i<j \leq n$ 都有 $\left|a_{i}-a_{j}\right| \geq l_{i j}$ ?

## 2012 年

2012.1 设 $J_{A}, J_{B}$ 分别是 $\triangle A B C$ 的 $A$-旁心和 $B$-旁心, $\odot(A B C)$ 的弦 $P Q$平行于 $A B$, 且与线段 $A C$ 和 $B C$ 相交. 设直线 $A B$ 与 $C P$ 交于 $R$. 证明: $\angle J_{A} Q J_{B}+\angle J_{A} R J_{B}=180^{\circ}$.

2012.2 用 $E(n)$ 表示正整数 $n$ 的二进制表示中 1 的个数. 若 $E(n) \mid n$, 则称 $n$ 是有趣的, 证明:

(a) 不存在连续 5 个有趣数;



(题 2012.1 图)

(b) 有无穷多个正整数 $n$ 使得 $n, n+1, n+2$ 都是有趣的.

2012.3 设 $n$ 是正整数, $n$ 个事件每个发生的概率为 $\frac{1}{2}$, 任意两个事件同时发生的概率为 $\frac{1}{4}$, 证明:

(a) 这些事件均不发生的概率至多为 $\frac{1}{n+1}$;

(b) 存在无穷多个正整数 $n$, 使得 (a) 中等号可取到.

## 2011 年

2011.1 设 $a_{1}, a_{2}, \cdots$ 是无穷正整数序列, 使得对任意正整数 $k, l, a_{k+l}$ 均被 $a_{k}, a_{l}$ 的最大公约数整除. 证明: 对任意整数 $1 \leq k \leq n, a_{n} a_{n-1} \cdots a_{n-k+1}$ 是 $a_{k} a_{k-1} \cdots a_{1}$ 的倍数.

2011.2 对于正整数 $n$, 记 $a(n)$ 为拆分 $n=x_{1}+x_{2}+\cdots$ 的方法数, 其中 $x_{1} \leq x_{2} \leq \cdots$ 是正整数且 $x_{i}+1$ 均为 2 的方幂 (即形如 $1,2, \cdots$ 的数); 记 $b(n)$为拆分 $n=y_{1}+y_{2}+\cdots$ 的方法数, 其中 $y_{i}$ 均为正整数且 $2 y_{i} \leq y_{i+1}$. 证明: $a(n)=b(n)$.

2011.3 设 $n$ 是正整数, 给定平面上 $3 n$ 条直线和 $2 n$ 个点. 证明: 存在平面上一点 $P$, 使得 $P$ 到 $3 n$ 条直线的距离之和小于 $P$ 到 $2 n$ 个点的距离之和.

## 2010 年

2010.1 设 $n$ 是正整数, $n$ 把钥匙可以打开 $n$ 个上锁的箱子, 每把钥匙恰能打开一个箱子. 为了确定每个箱子对应的钥匙, 每次尝试取一把钥匙和一个箱子, 并可以试出钥匙是否能打开箱子. 求最小的正整数 $P(n)$, 使得用 $P(n)$ 次尝试就一定可以找出 $n$ 个上锁的箱子分别对应的钥匙.

2010.2 在 $\triangle A B C$ 中, $A_{1}, A_{2} \in(B C), B_{1}, B_{2} \in(C A), C_{1}, C_{2} \in(A B)$ 且 $A C_{1}<A C_{2}, B A_{1}<B A_{2}, C B_{1}<C B_{2}$ (其中 $(X Y)$ 表示去掉端点的开线段 $X Y$ ).
设 $\odot\left(A B_{1} C_{1}\right)$ 与 $\odot\left(A B_{2} C_{2}\right)$ 交于点 $A^{*} \neq A, \odot\left(B C_{1} A_{1}\right)$ 与 $\odot\left(B C_{2} A_{2}\right)$ 交于点 $B^{*} \neq B, \odot\left(C A_{1} B_{1}\right)$ 与 $\odot\left(C A_{2} B_{2}\right)$ 交于 $C^{*} \neq C$. 证明: $A A^{*}, B B^{*}, C C^{*}$ 共点.



(题 2010.2 图)

2010.3 求所有的正整数 $n, k$, 使得存在整数 $a_{1}, a_{2}, \cdots, a_{n}$ 及 $b_{1}, b_{2}, \cdots, b_{k}$满足乘积 $a_{i} b_{j}(1 \leq i \leq n, 1 \leq j \leq k)$ 模 $n k$ 两两不同.

## 2009 年

2009.1 给定正整数 $n, k$, 在 $n \times k$ 的方格表每一行中填入 $1,2, \cdots, k$ 的一个排列, 计算每列的和. 设 $S$ 是这些和中最大者, 求 $S$ 的最小值.

2009.2 求所有正整数对 $(a, b)$ 使得正整数集可划分为集合 $H_{1}, H_{2}$, 满足 $a, b$ 均不能表示为 $H_{i}$ 中两数之差, $i=1,2$.

2009.3 求所有函数 $f: \mathbb{Z} \rightarrow \mathbb{Q}$ 满足: 若 $f(x)<c<f(y)$ 对某个 $c \in \mathbb{Q}$ 成立, 则 $f$ 可取到 $c$. 并且对任意和为零的整数 $x, y, z$, 均有

$$
f(x)+f(y)+f(z)=f(x) f(y) f(z) .
$$

## 2008 年

2008.1 用 $d(n)$ 表示正整数 $n$ 的正因数个数. 求最小常数 $c$ 使得 $d(n) \leq$ $c \sqrt{n}$ 对所有正整数 $n$ 成立.

2008.2 设 $n \geq 2$ 及 $a_{1}<a_{2}<\cdots<a_{n}$ 为整数, 定义集合

$$
\begin{gathered}
S=\left\{(i, j) \mid 1 \leq i<j \leq n, a_{j}-a_{i} \text { 为 } 2 \text { 的幂 }\right\}, \\
T=\{(i, j) \mid 1 \leq i<j \leq n, j-i \text { 为 } 2 \text { 的幂 }\},
\end{gathered}
$$

这里 2 的幕形如 $1,2,4, \cdots$. 证明: $|S| \leq|T|$.

2008.3 在一个遥远的国度里, 某些城市之间建有直达的火车或汽车线路,不一定可双向到达. 已知对任两城 $A, B$, 可以从 $A$ 到 $B$ 或从 $B$ 到 $A$ 只用汽车或只用火车.

证明：存在一座城市, 从它到达其他任何一座城市可以只用一种交通工具 (到不同城市用的交通工具不必相同).

## II. 解答与评注

## 2019 年

2019.1 在 $\triangle A B C$ 中, $A B<A C<B C, A_{1}, B_{1}, C_{1}$ 分别是顶点 $A, B, C$ 在对边上的射影. 设 $B_{1}$ 关于 $C C_{1}$ 的对称点是 $Q, C_{1}$ 关于 $B B_{1}$ 的对称点是 $P$. 证明: $\triangle A_{1} P Q$ 的外接圆通过线段 $B C$ 的中点.



证明 设 $B C$ 的中点为 $M$.

熟知 $C_{1} B_{1}$ 与 $C_{1} A_{1}$ 关于 $C C_{1}$ 对称, 故 $Q$ 在 $C_{1} A_{1}$ 上, 同理 $P$ 在 $B_{1} A_{1}$ 上.由此及 $M, A_{1}, C_{1}, B_{1}$ 共圆 (即 $\triangle A B C$ 的九点圆), 有

$$
\angle Q C_{1} M=\angle A_{1} C_{1} M=\angle A_{1} B_{1} M=\angle P B_{1} M \text {. }
$$

而 $Q C_{1}=C_{1} B_{1}=P B_{1}, M C_{1}=M B_{1}$, 故 $\triangle Q C_{1} M \cong \triangle P B_{1} M$. 于是 $\angle A_{1} Q M=$ $\angle A_{1} P M$,有 $A_{1}, P, Q, M$ 共圆, 证毕.

评注 有意识地从垂足三角形 $\triangle A_{1} B_{1} C_{1}$ 的视角考虑问题, 则不容易遗漏掉关键的信息, 比如轴对称带来的共线关系. 本题是简单题.

2019.2 设 $n$ 是正整数, 求所有由集合 $\{1,2, \cdots, n\}$ 的子集构成的族 $\mathcal{F}$, 使得对 $\{1,2, \cdots, n\}$ 的任意非空子集 $X$, 在 $\mathcal{F}$ 中恰有一半的 $A$ 满足 $|A \cap X|$ 为偶数.

解. $\mathcal{F}$ 只能为空集或者为 $\{1,2, \cdots, n\}$ 的所有子集组成的族 $P_{n}$. 显然这两
种情形满足要求, 下面对 $n$ 归纳证明 $\mathcal{F}$ 只有这两种可能. 设 $F_{n}$ 为对于 $n$ 时所有满足条件的集族组成的集合, 即要证明 $F_{n}=\left\{\emptyset, P_{n}\right\}$.

$n=1$ 时结论平凡成立. 假设 $n$ 时结论成立, 考虑 $n+1$ 时满足条件的 $\{1,2, \cdots, n+1\}$ 的子集族 $\mathcal{F}$.

设集族

$$
\begin{aligned}
& \mathcal{F}_{1}=\{U \mid n+1 \notin U, U \in \mathcal{F}, \text { 且 }(U \cup\{n+1\}) \notin \mathcal{F}\}, \\
& \mathcal{F}_{2}=\{U \mid n+1 \notin U, U \notin \mathcal{F}, \text { 且 }(U \cup\{n+1\}) \in \mathcal{F}\}, \\
& \mathcal{F}_{3}=\{U \mid n+1 \notin U, U \in \mathcal{F}, \text { 且 }(U \cup\{n+1\}) \in \mathcal{F}\} .
\end{aligned}
$$

于是由条件考虑集合 $\{n+1\}$, 有 $\left|\mathcal{F}_{1}\right|+\left|\mathcal{F}_{3}\right|=\left|\mathcal{F}_{2}\right|+\left|\mathcal{F}_{3}\right| \Rightarrow\left|\mathcal{F}_{1}\right|=\left|\mathcal{F}_{2}\right|$.

对 $\emptyset \neq X \subset\{1,2, \cdots, n\}$ 以及 $\{1,2, \cdots, n\}$ 的子集族 $\mathcal{F}^{*}$, 记 $f\left(X, \mathcal{F}^{*}\right)$ 为 $\mathcal{F}^{*}$ 中与 $X$ 交集的元素个数为奇数的集合个数, $g\left(X, \mathcal{F}^{*}\right)$ 为 $\mathcal{F}^{*}$ 中与 $X$ 交集的元素个数为偶数的集合个数.

对任意的 $\emptyset \neq Y \subset\{1,2, \cdots, n\}$, 由条件, 有

$$
f\left(Y, \mathcal{F}_{1}\right)+f\left(Y, \mathcal{F}_{2}\right)+2 f\left(Y, \mathcal{F}_{3}\right)=g\left(Y, \mathcal{F}_{1}\right)+g\left(Y, \mathcal{F}_{2}\right)+2 g\left(Y, \mathcal{F}_{3}\right) .
$$

由条件考虑集合 $Y \cup\{n+1\}$, 有

$f\left(Y, \mathcal{F}_{1}\right)+g\left(Y, \mathcal{F}_{2}\right)+f\left(Y, \mathcal{F}_{3}\right)+g\left(Y, \mathcal{F}_{3}\right)=g\left(Y, \mathcal{F}_{1}\right)+f\left(Y, \mathcal{F}_{2}\right)+g\left(Y, \mathcal{F}_{3}\right)+f\left(Y, \mathcal{F}_{3}\right)$.

从而

$$
\begin{aligned}
& g\left(Y, \mathcal{F}_{2}\right)+g\left(Y, \mathcal{F}_{3}\right)=f\left(Y, \mathcal{F}_{2}\right)+f\left(Y, \mathcal{F}_{3}\right), \\
& f\left(Y, \mathcal{F}_{1}\right)+f\left(Y, \mathcal{F}_{3}\right)=g\left(Y, \mathcal{F}_{1}\right)+g\left(Y, \mathcal{F}_{3}\right) .
\end{aligned}
$$

故

$$
\mathcal{F}_{1} \cup \mathcal{F}_{3}, \mathcal{F}_{2} \cup \mathcal{F}_{3} \in F_{n},
$$

进而

$$
F_{n+1}=\left\{U \cup\{W \cup\{n+1\} \mid W \in V\} \mid U, V \in F_{n} \text {, 且 }|U|=|V|\right\} \text {. }
$$

在这个定义中 $|U|=|V|$, 因为 $F_{n}=\left\{\emptyset, P_{n}\right\}$, 故只能 $U=V$, 从而 $F_{n+1}=$ $\left\{\emptyset, P_{n+1}\right\}$.

评注 很容易看出空集和 $P_{n}$ 满足要求. 另一方面, 在条件中分别把 $X$ 取作两个不相交的集合 $X_{1}$ 和 $X_{2}$, 再取 $X=X_{1} \cup X_{2}$, 得到的三组式子可以让我们理清对于

$$
\left(\left|X_{1} \bigcap A\right|,\left|X_{2} \bigcap A\right|\right)(\bmod 2)
$$

的四种取值, 每种究竟有多少个 $A$ 取到.

特别地, 取 $X_{1}=\{n+1\}, X_{2}=\{1,2, \cdots, n\}$, 则可立即发现递归结构. 当然如果一开始就想到归纳, 则问题好做很多. 本题难度中等.

2019.3 证明或否定下述结论: 设 $H$ 和 $A$ 是有界的实数集合, 则至多存在一个实数集合 $B$ 满足 $a+b(a \in A, b \in B)$ 两两不同, 且 $H=\{a+b \mid a \in A, b \in B\}$.

解 结论不一定正确, 我们构造有界的实数集合 $A, B, C(B \neq C)$ 使得 $A+B=A+C($ 集合 $X+Y=\{x+y \mid x \in X, y \in Y\})$, 且 $a+b(a \in A, b \in B)$两两不同, $a+c(a \in A, c \in C)$ 两两不同.

首先指出如下事实: 对任意实数 $x$, 正实数 $\varepsilon$, 以及实数集的可数 (即可以将其中元素排成一列) 子集 $K$, 都存在一个可数的无穷集合 $L \subset(-\infty, x)$ 满足 $L$与 $K$ 相交为空集, $L$ 与中任意两个不同元素之差不在 $K$ 中, 且 $\sum_{y \in L}(x-y)<\varepsilon$.把这个 $L$ 记作 $L(x, \varepsilon, K)$.

归纳地构造 $B_{i}, C_{i}(i=1,2, \cdots)$. 首先 $B_{1}=\{0\}, C_{1}=L(0,1,\{0\})$. 假设已经构造好了可数的 $B_{j}, C_{j}(j=1,2, \cdots, i)$, 如下构造 $B_{i+1}$.

因为 $C_{i}$ 是可数的, 所以可以把 $C_{i}$ 中元素排成一列为 $c_{1}, c_{2}, \cdots$. 对每个 $s \geq 1$, 令 $K_{s}$ 为

$$
\left(\bigcup_{j=1}^{i} B_{j}\right) \cup\left(\bigcup_{j=1}^{i} C_{j}\right) \cup\left(\bigcup_{t=1}^{s-1}\left\{c_{t}\right\}\right)
$$

中任意有限个元素的有理系数线性组合组成的集合, 容易证明 $K_{s}$ 是可数的. 简记 $L\left(c_{s}\right)=L\left(c_{s}, \frac{1}{2^{i+s}}, K_{s}\right)$, 取

$$
B_{i+1}=\bigcup_{s \geq 1} L\left(c_{s}\right)
$$

则 $B_{i+1}$ 也是可数的.

类似地, 假设已经构造了可数的 $B_{j}, C_{j}(j=1,2, \cdots, i)$ 以及 $B_{i+1}$, 把 $B_{i+1}$中元素排成一列为 $b_{1}, b_{2}, \cdots$. 对每个 $s \geq 1$, 令 $K_{s}$ 为

$$
\left(\bigcup_{j=1}^{i+1} B_{j}\right) \cup\left(\bigcup_{j=1}^{i} C_{j}\right) \cup\left(\bigcup_{t=1}^{s-1}\left\{b_{t}\right\}\right)
$$

中任意有限个元素的有理系数线性组合组成的集合. 简记 $L\left(b_{s}\right)=L\left(b_{s}, \frac{1}{2^{i+s}}, K_{s}\right)$,取

$$
C_{i+1}=\bigcup_{s \geq 1} L\left(b_{s}\right)
$$

则 $C_{i+1}$ 也是可数的.
显然 $B_{j}, C_{j}(j=1,2, \cdots, i)$ 两两相交为空集, 令 $B=\bigcup_{i \geq 1} B_{i}, C=\bigcup_{i \geq 1} C_{i} . A$为所有形如

$$
\sum_{x \in X} \sum_{y \in Y_{x}}(x-y)
$$

的式子组成的集合, 其中 $X$ 是 $B \cup C$ 的一个有限子集, $Y_{x}$ 是 $L(x)$ 的一个有限子集.

因为 $0 \in B, 0 \notin C$, 故 $B \neq C$. 由上述递归过程中 $K_{s}$ 的选取可知 $a+b(a \in A, b \in B)$ 两两不同, 且 $a+c(a \in A, c \in C)$ 两两不同.

对 $A$ 中任意的元素 $a=\sum_{x \in X} \sum_{y \in Y_{x}}(x-y)$ 以及 $B$ 中的元素 $b$, 因为 $L(b)$ 是无穷集合, 故存在 $c \in L(b), c$ 不在 $a$ 的求和项中出现. 从而由 $A$ 的定义知 $a+(b-c) \in A$, 即有 $a+b \in A+C$. 这便说明了 $A+B \subseteq A+C$, 同理 $A+C \subseteq A+B$, 故 $A+B=A+C$.

最后证明 $A, B, C$ 都是有界的. 事实上, 对 $i$ 归纳易证

$$
B_{i}, C_{i} \subset\left[-1-2 \sum_{j=1}^{i-1} \frac{1}{2^{j+1}}, 0\right]
$$

因此 $B, C \subset[-2,0]$. 而对 $A$ 中任意的元素 $\sum_{x \in X} \sum_{y \in Y_{x}}(x-y)$, 有

$$
0 \leq \sum_{x \in X} \sum_{y \in Y_{x}}(x-y) \leq 2 \sum_{i \geq 1} \sum_{s \geq 1} \frac{1}{2^{i+s}}=2
$$

故 $A, B, C$ 有界.

因此, 取 $H=A+B=A+C$, 则 $H, A$ 都是有界集合, 综上所述即知原结论不成立.

评注 当 $H$ 和 $A$ 是有限集时, 利用生成函数的办法容易证明结论是正确的.去掉有界这个限制后也很容易构造反例, 如 $A=H=\mathbb{Z}$. 鉴于实数没有整数的离散性质, 我们尝试构造有界的实数集 $A, B, C$, 使得 $A+B=A+C$.

利用实数的稠密性容易保证元素和互异, 因此主要需解决的是有界性. 假定 $B=\left\{b_{1}, b_{2}, \cdots\right\}, C=\left\{c_{1}, c_{2}, \cdots\right\}$, 研究 $A$ 的形式. 它应满足在某种意义上关于 “ $+b-c$ ” 和 “ $+c-b$ ” 这两种“运算”封闭, 比如取 $A$ 是形如 $\sum(b-c)+\sum(c-b)$的数的集合, 其中减数互异 (为避免前述状况). 此后经尝试可以想到, 给每个 $x$赋予一些很接近它的数以确保有界性, 这便是 $L(x)$ 的由来. 本题是一个难题.

## 2018 年

2018.1 设 $\triangle A B C$ 的内切圆与边 $B C, C A, A B$ 分别切于点 $A_{1}, B_{1}, C_{1}$. $\triangle A B C$ 的 $A-$ 中线与 $B_{1} C_{1}$ 交于点 $M$. 证明: $A_{1} M \perp B C$.
证明 用同一法.



设 $B_{1} C_{1}$ 上一点 $M_{1}$ 满足 $A_{1} M_{1} \perp B C$, 只用证 $A M_{1}$ 过 $B C$ 中点.

过 $M_{1}$ 作 $B C$ 的平行线, 分别交 $A B, A C$ 于点 $K, L$. 设 $I$ 为 $\triangle A B C$ 的内心,显然 $I$ 在 $A_{1} M_{1}$ 上. 我们有

$$
\angle K M_{1} I=\angle K C_{1} I=\angle I M_{1} L=\angle I B_{1} L=90^{\circ},
$$

从而 $K, M_{1}, I, C_{1}$ 与 $L, M_{1}, I, B_{1}$ 分别共圆.

因此(注意 $I B_{1}=I C_{1}$ )

$$
\angle I K M_{1}=\angle I C_{1} M_{1}=\angle I B_{1} M_{1}=\angle I L M_{1},
$$

从而 $I K=I L$.

结合 $I M_{1} \perp K L$, 可知 $M_{1}$ 是 $K L$ 中点. 由此及 $K L / / B C$, 知 $A M_{1}$ 过 $B C$中点.

评注 作平行线的手法是经典的, 其它处理办法亦可奏效. 本题是简单题.

2018.2 给定素数 $p$, 设 $v_{1}, v_{2}, \cdots, v_{n} \in \mathbb{Z}^{3}$ 是 $n(n \geq 2)$ 个互异的模长为 $p$的向量. 已知对任意 $1 \leq i<j \leq n$, 都存在整数 $0<l<p$ 满足 $v_{i}-l v_{j}$ 的 3 个分量均为 $p$ 的倍数. 证明: $n \leq 6$.

证明 设 $v_{i}=\left(a_{i}, b_{i}, c_{i}\right), a_{i}, b_{i}, c_{i} \in \mathbb{Z}, i=1,2, \cdots, n$, 则

$$
a_{i}^{2}+b_{i}^{2}+c_{i}^{2}=p^{2}, i=1,2, \cdots, n
$$

对 $1 \leq i<j \leq n$, 由条件存在 $0<l<p$ 使得 $p\left|a_{i}-l a_{j}, p\right| b_{i}-l b_{j}, p \mid c_{j}-l c_{j}$,则

$$
p^{2}\left|a_{i}^{2}+l^{2} a_{j}^{2}-2 l a_{i} a_{j}, p^{2}\right| b_{i}^{2}+l^{2} b_{j}^{2}-2 l b_{i} b_{j}, p^{2} \mid c_{i}^{2}+l^{2} c_{j}^{2}-2 l c_{i} c_{j}
$$

相加得

$p^{2} \mid\left(l^{2}+1\right)\left(a_{i}^{2}+b_{i}^{2}+c_{i}^{2}\right)-2 l\left(a_{i} a_{j}+b_{i} b_{j}+c_{i} c_{j}\right)=\left(l^{2}+1\right) p^{2}-2 l\left(a_{i} a_{j}+b_{i} b_{j}+c_{i} c_{j}\right)$.
又因为 $(p, l)=1$, 故 $p^{2} \mid 2\left(a_{i} a_{j}+b_{i} b_{j}+c_{i} c_{j}\right)$.

在 $p$ 为奇素数时, $p^{2} \mid a_{i} a_{j}+b_{i} b_{j}+c_{i} c_{j}$, 又由 Cauchy 不等式,

$$
\left(a_{i} a_{j}+b_{i} b_{j}+c_{i} c_{j}\right)^{2} \leq\left(a_{i}^{2}+b_{i}^{2}+c_{i}^{2}\right)\left(a_{j}^{2}+b_{j}^{2}+c_{j}^{2}\right)=p^{4}
$$

即 $\left|a_{i} a_{j}+b_{i} b_{j}+c_{i} c_{j}\right| \leq p^{2}$. 从而要么 $a_{i} a_{j}+b_{i} b_{j}+c_{i} c_{j}=0$, 要么 $\left|a_{i} a_{j}+b_{i} b_{j}+c_{i} c_{j}\right|=p^{2}$.后者成立时存在 $\delta \in \mathbb{R}$ 使 $a_{i}=\delta a_{j}, b_{i}=\delta a_{j}, c_{i}=\delta a_{j}$, 因此 $p^{2} \delta^{2}=p^{2}$, 知 $\delta= \pm 1$. 又 $v_{i} \neq v_{j}$, 故 $\delta=-1$.

于是以上分析指出, 对 $1 \leq i<j \leq n$, 要么 $v_{i}+v_{j}=\overrightarrow{0}$, 要么 $v_{i} \cdot v_{j}=0$.

我们将满足 $v_{i}+v_{j}=\overrightarrow{0}$ 的向量 $v_{i}, v_{j}$ 称为对子, 将不存在 $l \in\{1,2, \cdots, n\}$ 使 $v_{i}+v_{l}=\overrightarrow{0}$ 的 $v_{i}$ 称为孤立向量, 则 $n$ 个向量由若干个对子和一些孤立向量组成.如下构造一个集合 $A$. 在每个对子中任取一个放入集合 $A$, 所有的孤立向量也放入 $A$. 则 $|A| \geq \frac{n}{2}$, 且对任意 $u, v \in A, u \neq v, u \cdot v=0$.

若 $|A| \geq 2$, 取 $A$ 中两个相互垂直的向量, 它们确定了空间中的一个平面,与它们垂直的 $A$ 中向量至多一个. 故 $|A| \leq 3$. 因此总有 $|A| \leq 3$, 故 $n \leq 6$.

在 $p=2$ 时, $a_{i}^{2}+b_{i}^{2}+c_{i}^{2}=2^{2}$. 说明 $a_{i}, b_{i}, c_{i}$ 中一个为 2 或 -2 , 另两个为 0 . 此时显然 $n \leq 6$.

综上所述 $n \leq 6$.

评注 通过条件可得到交叉项的关系. 不等式控制交叉项的大小是关键的一步, 这可以将模同余于零化归到 $\mathbb{R}^{3}$ 中的正交向量组, 后续可利用线性相关性或者几何关系等办法进行处理.

条件 $a_{i}^{2}+b_{i}^{2}+c_{i}^{2}=p^{2}$ 可能会比较引人注意, 因为直观上来说作为 $\left(a_{i}, b_{i}, c_{i}\right)$ 的不定方程它的解数比较有限, 这可能导致我们对它作过多数论上的分析, 忽视与其他条件的联系而碰壁。事实上本题的证明过程并没有太多地用到整分量的条件, 可以看出只要 $a_{i}, b_{i}, c_{i}$ 都是代数整数且 $p \geq 3$, 则结论仍然成立. 本题需要好的想法, 难度中等。

2018.3 一个村庄有 $k$ 条街道和 $k(n-1)+1$ 个俱乐部, 每个俱乐部有 $n$ 个成员, 每个人住在某条街道上, 并且加入了某些俱乐部. 如果两个人住在同一条街道上或至少加入了同一个俱乐部, 则他们相互认识.

证明: 可以从某 $n$ 个俱乐部中找出 $n$ 个人, 一个俱乐部找出一个人, 使得这 $n$ 个人两两相互认识.

证明 设第 $i$ 个街道的居民组成集合 $A_{i}, i=1,2, \cdots, k$; 第 $j$ 个俱乐部的成员组成集合 $B_{j}, j=1,2, \cdots, k(n-1)+1$.
情况 (1). $B_{1}, B_{2}, \cdots B_{k(n-1)+1}$ 有相异代表系. 即存在

$$
x_{1} \in B_{1}, x_{2} \in B_{2}, \cdots, x_{k(n-1)+1} \in B_{k(n-1)+1}
$$

使 $x_{1}, x_{2}, \cdots, x_{k(n-1)+1}$ 互异.

由抽屉原理, 其中有至少 $\left[\frac{k(n-1)+1}{k}\right\rceil=n$ 个在同一个 $A_{i}$ 中, 设为 $x_{i_{1}}, \cdots, x_{i_{n}}$.则这 $n$ 个人是从 $n$ 个不同俱乐部中选出的, 并且住在同一街道上, 因而两两认识. 结论成立.

情况 $(2) . B_{1}, B_{2}, \cdots, B_{k(n-1)+1}$ 无相异代表系.

那么我们定义如下算法: 任取 $x_{1} \in B_{1}$. 假设已取出了 $x_{1}, x_{2}, \cdots, x_{s}$, 当 $B_{s+1} \backslash\left\{x_{1}, x_{2}, \cdots, x_{s}\right\} \neq \phi$ 时, 任取 $x_{s+1} \in B_{s+1}$; 当 $B_{s+1} \backslash\left\{x_{1}, x_{2}, \cdots, x_{s}\right\}=\phi$ 时,终止算法.

由于每个 $B_{s}$ 有 $n$ 个元素, 从而我们一定可取出至少 $n$ 个元素. 并且因 $B_{1}, B_{2}, \cdots, B_{k(n-1)+1}$ 无相异代表系, 故这个算法将终止于某个 $B_{r}(n<r \leq$ $k(n-1)+1)$.

这说明已从 $B_{1}$ 中取出 $x_{1}, B_{2}$ 中取出 $x_{2}, \cdots, B_{r-1}$ 中取出 $x_{r-1}, B_{r} \subseteq$ $\left\{x_{1}, x_{2}, \cdots, x_{r-1}\right\}$. 设 $B_{r}=\left\{x_{i_{1}}, x_{i_{2}}, \cdots, x_{i_{n}}\right\}$, 则 $x_{i_{1}}, x_{i_{2}}, \cdots, x_{i_{n}}$ 是从 $n$ 个俱乐部中选出的, 又都加入了同一个俱乐部, 因而两两认识, 结论成立.

综上所述, 结论得证.

评注 数字 $k(n-1)+1$ 提示我们考虑相异代表系. 在无相异代表系时, 由 Hall 定理可自然导出一个约束条件. 这个条件是关于某些 $B_{j}$ 之并的一个上界,利用起来不太方便且与结论仍有一定距离. 如果改换 (较为朴素的) 视角, 递归地选择相异代表系, 则可越过这一障碍. 本题容易做得复杂, 具有一定难度.

## 2017 年

2017.1 给定 $\triangle A B C$, 分别在边 $B C, C A, A B$ 上独立随机等概率取点 $A^{\prime}, B^{\prime}, C^{\prime}$. 对平面上一点 $Z, p(Z)$ 表示 $Z$ 含在直线 $A A^{\prime}, B B^{\prime}, C C^{\prime}$ 构成的三角形内 (不含边界) 的概率. 求平面上的所有点 $Z$, 使得 $p(Z)$ 取到最大值.

解 由于直线 $A A^{\prime}, B B^{\prime}, C C^{\prime}$ 构成的三角形一定含在 $\triangle A B C$ 中, 故只用考虑 $Z$ 在 $\triangle A B C$ 内部的情形. 设 $Z$ 对 $\triangle A B C$ 的 Ceva 三角形为 $\triangle D E F$,

$$
\frac{B D}{D C}=u, \frac{C E}{E A}=v, \frac{A F}{F B}=w
$$

则 $u, v, w>0$, 且由 Ceva 定理知 $u v w=1$.

用 $(X Y)$ 表示除去端点 $X, Y$ 的开线段 $X Y$. 易知 $Z$ 含在直线 $A A^{\prime}, B B^{\prime}, C C^{\prime}$



构成的三角形内 (不含边界) 当且仅当下述 (1)、(2) 之一成立:

(1) $A^{\prime} \in(B D), B^{\prime} \in(C E), C^{\prime} \in(A F)$;

(2) $A^{\prime} \in(D C), B^{\prime} \in(E A), C^{\prime} \in(F B)$.

显然 (1)、(2) 不同时发生. 由几何概型知,

$$
\begin{aligned}
P(Z) & =\frac{u v w}{(u+1)(v+1)(w+1)}+\frac{1}{(u+1)(v+1)(w+1)} \\
& =\frac{2}{(u+1)(v+1)(w+1)} \\
& \leq \frac{1}{4} \text { (赫尔德不等式), }
\end{aligned}
$$

等号取到当且仅当 $u=v=w=1$. 即当且仅当 $Z$ 是 $\triangle A B C$ 重心时, $p(Z)$ 取到最大值.

评注 将概率表为显式再应用代数的方法求最值. 题中的变量实际上就是 $D, E, F$ 在三边上所截的比例, 但这些比例的不同设参方法对解题的复杂度有一定影响. 本题是简单题.

2017.2 是否存在实系数多项式 $p(x)$ 和 $q(x)$, 使得 $(p(x))^{3}-(q(x))^{2}$ 是非常数的线性函数?

解 不存在这样的 $p(x), q(x)$.

假设不然, 设

$$
(p(x))^{3}-(q(x))^{2}=a x+b(a, b \in \mathbb{R}, a \neq 0) \text {, }
$$

等式两边求导得 $3(p(x))^{2} p^{\prime}(x)-2 q(x) q^{\prime}(x)=a$. 该式两边乘以 $p(x)$, 结合 $(*)$式消去 $(p(x))^{3}$ 得

$$
3\left(a x+b+(q(x))^{2}\right) p^{\prime}(x)-2 p(x) q(x) q^{\prime}(x)=a p(x),
$$

故 $q(x) \mid 3(a x+b) p^{\prime}(x)-a p(x)$.
若 $3(a x+b) p^{\prime}(x)-a p(x) \neq 0$, 则 $\operatorname{deg} q \leq \operatorname{deg} p$, 又易知 $p(x)$ 非常数, 故分析 $(*)$ 两边次数得 $3 \operatorname{deg} p=1$, 不可能.

若 $3(a x+b) p^{\prime}(x)=a p(x)$, 设 $p(x)$ 首项系数为 $t$, 分析该式两边首项系数得

$$
3 a t \operatorname{deg} p=a t \text {. }
$$

由 $a t \neq 0$ 知 $\operatorname{deg} p=\frac{1}{3}$, 不可能.

评注 该问题来源于 Davenport 定理: 若 $f, g$ 是非常数多项式使得 $f^{3}-g^{2} \neq$ 0 , 则有 $\operatorname{deg}\left(f^{3}-g^{2}\right) \geq \frac{1}{2} \operatorname{deg} f-1$, 与著名的 Mason-Stothers 定理有关, 有兴趣的读者可参考 $[1],[2]$. 求导在这里得到了更多信息, 是这类问题的经典手法. 本题有一定难度。

2017.3 在一个 $n \times n$ 方格表的每个单位格中填入一个整数, 使得同一行中的数两两不同. 证明: 可以将每行中的数分别适当重排, 使得同一列的数两两不同.

证明 设表中一共出现了 $k$ 个不同的数, 对 $k$ 归纳证明结论.

显然 $k \geq n$, 当 $k=n$ 时, 不妨设各行的 $n$ 个数均为 $1,2, \cdots, n$. 则可经重排使得第 $i$ 行第 $j$ 列填数 $a_{i j}, a_{i j} \equiv i+j(\bmod n)(1 \leq i, j \leq n)$, 符合要求.

假设 $k-1(k \geq n+1)$ 个不同数时结论成立, 当恰有 $k$ 个不同数时, 设各数出现次数的最小值为 $m$. 对 $m$ 归纳证明结论.

$m=1$ 时, 不妨设 $a_{11}=a$ 恰出现一次. 由于一共有 $k \geq n+1$ 个不同数, 因此存在一个数 $b$ 不在第一行出现. 将 $a$ 换为 $b$, 则表中仅有 $k-1$ 个不同数, 且同行的数两两不同, 应用归纳假设, 可以适当重排使得同列的数两两不同. 将 $a$ 换回, 因该数仅出现一次, 故同列的数仍然两两不同.

假设 $m-1$ 时结论成立, 对于 $m$ 时, 不妨设 $a_{11}=a$ 恰出现 $m$ 次. 同 $m=1$的情形选择数 $b$, 将 $a_{11}$ 换为 $b$, 则 $a$ 出现了 $m-1$ 次. 应用归纳假设适当重排,不妨设 $a_{11}$ 的位置不动.

假设将 $a_{11}$ 由 $b$ 换回 $a$ 之后, 存在同列的两数相同, 则这两数只能是 $a_{11}$ 和 $a_{i 1}(2 \leq i \leq n)$, 它们都等于 $a$. 因为同行的两数不同, 故 $a$ 至多出现 $n$ 次, 因此存在 $2 \leq j \leq n, a$ 不在第 $j$ 列出现.

下面只要适当调换第 1 列和第 $j$ 列中某些同行的数, 使得第 1 列和第 $j$ 列中同列的两数不同.

令 $t_{1}=1$, 对正整数 $s$, 若 $a_{t_{s}, j}$ 在第一列出现, 因为 $a_{t_{s}, j} \neq a$, 故存在唯一的
$t_{s+1}$ 使得 $a_{t_{s}, j}=a_{t_{s+1}, 1}$.

若 $a_{t_{s}, j}$ 不在第一列出现, 则终止过程.

若存在 $s<s^{\prime}$ 使得 $t_{s}=t_{s^{\prime}}$, 则由 $a_{t_{s^{\prime}-1}, j}=a_{t_{s^{\prime}, 1}} \neq a$ 知 $t_{s^{\prime}} \neq t_{1}$, 故 $s>1$. 取这样的最小的 $s$, 则 $a_{t_{s-1}, j}=a_{t_{s}, 1}=a_{t_{s^{\prime}}, 1}=a_{t_{s^{\prime}-1}, j}$, 因为第 $j$ 列各数已两两不同,故 $t_{s-1}=t_{s^{\prime}-1}$, 与 $s$ 最小性矛盾!

故 $t_{1}, t_{2}, \cdots$ 两两不同, 这过程必终止于某个 $t_{r}$. 于是 $a_{t_{r}, j}$ 不在第 1 列出现,将 $a_{t_{s}, 1}$ 与 $a_{t_{s}, j}(1 \leq s \leq r)$ 互换, 容易验证第 1 列和第 $j$ 列满足要求, 即证.

评注 我们利用归纳得到一个几乎满足要求的表格, 再进行局部调整以满足要求. 运用类似的办法, 可以证明更强的命题: 将条件 “同行两数不同”改为“任一个数在表中出现至多 $n$ 次”, 结论仍成立.

本题是 Dinitz 定理的特例, 后者和二部图的稳定匹配有关, 可以参阅 [3] 进行了解.

## 2016 年

2016.1 给定整数 $1 \leq k \leq n$, 我们至多可以从 $\{1,2, \cdots, n\}$ 中取出多少个 $k$ 元子集, 使得对任意两个取出的集合, 其中一个由它们的并中最小的 $k$ 个元素组成?

解 至多 $n-k+1$ 个.

由已知,易知任两个取出的 $k$ 元子集最大元不同. 设 $A_{1}, A_{2}, \cdots, A_{m}$ 是所有取出的 $k$ 元集合, 不妨设 $\max A_{1}<\max A_{2}<\cdots<\max A_{m}$. 则有

$$
k \leq \max A_{1}<\max A_{2}<\cdots<\max A_{m} \leq n
$$

知 $m \leq n-k+1$.

例子: $A_{i}=\{1,2, \cdots k,-1, k-1+i\}, i=1,2, \cdots, n-k+1$.

评注 只要注意到所取出的不同子集的最大元不同, 结合这些最大元的平凡界即可得估计. 本题是简单题.

2016.2 证明: 对任意正整数的有限集合 $A$, 存在 $A$ 的子集 $B$ 满足:

(1) 对 $B$ 中任意两个不同元素 $b_{1}, b_{2}, b_{1}$ 与 $b_{2}$ 之间无倍数关系, $b_{1}+1$ 与 $b_{2}+1$之间也无倍数关系;

(2) 对任意 $a \in A$, 存在 $b \in B$ 使 $a \mid b$ 或 $b+1 \mid a+1$.

证明 对 $A$ 的元素个数 $|A|$ 归纳证明结论.
$|A|=1$ 时, 结论显然. 假设元素个数小于 $|A|$ 时结论成立, 令

$$
\begin{gathered}
C=\left\{c \in A \mid \text { 不存在 } c^{\prime} \in A, c^{\prime} \neq c, c \mid c^{\prime}\right\}, \\
D=\left\{d \in C \mid \text { 不存在 } d^{\prime} \in C, d^{\prime} \neq d, d^{\prime}+1 \mid d+1\right\} .
\end{gathered}
$$

则 $A \supseteq C \supseteq D \neq \emptyset$.

引理 对任意 $a \in A$, 均存在 $c \in C$, 使得 $a \mid c$.

事实上, 若 $a \in C$, 则令 $c=a$ 即可. 若 $a \neq c$, 则由 $C$ 的定义知存在 $a_{1} \in A, a_{1}>a, a \mid a_{1}$. 以 $a_{1}$ 代 $a$ 讨论, 得到一列正整数 $a<a_{1}<a_{2}<\cdots$ 满足 $a\left|a_{1}, a_{1}\right| a_{2}, \cdots$. 这过程必终止于某个 $a_{k}$, 则 $a_{k} \in C, a \mid a_{k}$.

同理可证对任意 $c \in C$, 均存在 $d \in D$ 使得 $d+1 \mid c+1$.

回到原题, 若 $C=D$, 则由 $C, D$ 定义知 $D$ 满足条件 (1). 由引理知 $C(=D)$满足条件 (2), 故集合 $D$ 即为所求.

若 $D \varsubsetneqq C$, 则 $|A \backslash(C \backslash D)|<|A|$. 对 $A \backslash(C \backslash D)$ 应用归纳假设知存在集合 $B \subseteq A \backslash(C \backslash D) \subseteq A$ 满足条件 (1), 且对任意 $a \in A \backslash(C \backslash D)$, 都存在 $b \in B$ 使 $a \mid b$ 或 $b+1 \mid a+1$.

此时对任意 $a \in C \backslash D$, 由引理知存在 $d \in D$ 使 $d+1 \mid a+1$, 由 $B$ 的定义知存在 $b \in B, d \mid b$ 或者 $b+1 \mid d+1$. 但 $d \in D \subset C$, 故由 $C$ 的定义知必有 $b+1 \mid d+1$, 因此有 $b+1 \mid a+1$.

这便说明了集合 $B$ 满足条件 (1), (2), 证毕.

评注 $a$ 与 $a+1$ 的因子缺乏联系, 因此问题的本质是处理两个偏序关系. 集合 $B$ 应当从链的首、末项中选取, $C, D$ 的选取即是基于此考量.

此后阻扰我们满足要求的问题都出在 $C \backslash D$ 之中, 为此可以针对它尝试不同的归纳法或者算法处理. 最后直接对 $A \backslash(C \backslash D)$ 应用归纳假设得到的集合 $B$ 就满足条件颇令人意外, 有些柳暗花明的意味. 本题可能需要比较多的尝试和想法改进, 较为困难。

2016.3 若实系数多项式 $P, Q$ 满足 $P(P(x))=(Q(x))^{2}$, 是否一定存在实系数多项式 $R$ 满足 $P(x)=(R(x))^{2}$ ?

解 结论是肯定的, 下面给出两种证法.

法 1 若 $\operatorname{deg} P=0$, 命题平凡成立, 下设 $\operatorname{deg} P>0$. 设

$$
P(x)=a_{n} x^{n}+a_{n-1} x^{n-1}+\cdots+a_{1} x+a_{0}\left(a_{i} \in \mathbb{R}, n>0, a_{n} \neq 0\right) \text {, }
$$

则 $P(P(x))$ 的最高次项为 $a_{n}^{n+1} x^{n^{2}}$. 从而由已知得 $2 \mid n^{2}$, 故 $2 \mid n$, 可设 $n=2 m$.
同时还需要 $a_{n}^{n+1}=a_{2 m}^{2 m+1}>0$, 故 $a_{2 m}>0$.

递归地可以解出实数 $b_{m}, b_{m-1}, \cdots, b_{0}$ 满足

$$
\left\{\begin{array}{c}
b_{m}^{2}=a_{2 m} \\
b_{m} b_{m-1}+b_{m-1} b_{m}=a_{2 m-1} \\
\cdots \\
b_{m} b_{0}+b_{m-1} b_{1}+\cdots+b_{0} b_{m}=a_{m}
\end{array}\right.
$$

令 $R(x)=b_{m} x^{m}+b_{m-1} x^{m-1}+\cdots+b_{1} x+b_{0}$, 则 $\operatorname{deg} R=m$. 设

$$
S(x)=P(x)-(R(x))^{2}
$$

则由上面的方程组可知 $\operatorname{deg} S \leq m-1$.

此时有

$$
(Q(x))^{2}=P(P(x))=(R(P(x)))^{2}+S(P(x)),
$$

即

$$
(Q(x)+R(P(x)))(Q(x)-R(P(x)))=S(P(x)) \text {. }
$$

注意到

$$
\operatorname{deg} Q=\operatorname{deg}(R(P(x)))=2 m^{2}, \operatorname{deg}(S(P(x))) \leq(m-1) m<2 m^{2},
$$

因此由 $(*)$ 式知必有 $S(P(x))=0$.

由于 $P(x)$ 不是常数, 故由代数基本定理知 $S(x)=0$, 即 $P(x)=(R(x))^{2}$.

法 2 若 $P$ 是常数, 命题平凡成立. 下设 $\operatorname{deg} P=n>0$, 则

$$
2 \operatorname{deg} Q=\operatorname{deg} Q^{2}=\operatorname{deg}(P \circ P)=n^{2},
$$

故 $n$ 是偶数.

设 $P(x)=A\left(x-z_{1}\right)^{\alpha_{1}} \cdots\left(x-z_{k}\right)^{\alpha_{k}}$ 为 $P$ 在 $\mathbb{C}$ 上的标准分解 ( $z_{i}$ 互异, $\alpha_{i}>$ $\left.0, \sum \alpha_{i}=n\right)$.

先证 $\alpha_{i}$ 全为偶数. 若这不然, 由 $\sum \alpha_{i}=n$ 为偶数知至少有两个 $\alpha_{i}$ 为奇, 不妨设 $\alpha_{1}, \alpha_{2}$ 为奇数.

注意到

$$
Q(x))^{2}=P(P(x))=A\left(P(x)-z_{1}\right)^{\alpha_{1}} \cdots\left(P(x)-z_{k}\right)^{\alpha_{k}}
$$

的所有复根重数为偶数, 且 $n$ 个多项式 $P(x)-z_{i}(1 \leq i \leq t)$ 两两之间无公共根, 故由 $\alpha_{1}, \alpha_{2}$ 为奇数可知多项式

$$
P_{1}(x)=P(x)-z_{1}, P_{2}(x)=P(x)-z_{2}
$$

的复根重数全为偶数, 即存在 $R_{1}, R_{2} \in \mathbb{C}[x]$, 使得

$$
P_{1}(x)=\left(R_{1}(x)\right)^{2}, P_{2}(x)=\left(R_{2}(x)\right)^{2} .
$$

相减即有

$$
z_{1}-z_{2}=\left(R_{2}(x)-R_{1}(x)\right)\left(R_{2}(x)+R_{1}(x)\right) .
$$

比较上式两边次数知 $R_{1}= \pm R_{2}$, 从而 $P_{1}=P_{2}$, 导致 $z_{1}=z_{2}$, 矛盾.

故所有 $\alpha_{i}$ 为偶数, 设

$$
\alpha_{i}=2 \beta_{i}, \beta_{i} \in \mathbb{N}^{*}
$$

由 $P \circ P=Q^{2}$ 知 $A>0$, 则对

$$
R(x)=\sqrt{A} \prod_{i=1}^{t}\left(x-z_{i}\right)^{\beta_{i}}
$$

有 $P(x)=(R(x))^{2}$. 又由实系数多项式虚根成对定理, $P$ 的虚根成对. 故 $R$ 的虚根成对, 从而是实系数的. 结论得证.

评注 法 1 的基本想法是拟合, 首先通过比较系数解线性方程组把可能的 “平方根” 确定下来, 再证明它就是 $\sqrt{P(x)}$. 用同样的手段可解决下面的问题:

设 $f$ 是首一的偶数次整系数多项式, 满足存在无穷多个整数 $x$, 使得 $f(x)$为完全平方数. 证明: $f$ 是一个整系数多项式的平方.

(2007 保加利亚数学奥林匹克)

法 2 的基本想法是首先在 $\mathbb{C}$ 中考虑, 从而 $P$ 为平方式可化为对 $P$ 复根重数奇偶性的讨论.

对代数基本功较好的同学, 本题应可确保在掌握之中.

## 2015 年

2015.1 假设玩家 $A$ 与 $B$ 玩一个游戏, 先得 15 分者胜. 在任意一个时刻, $A$得下一分的概率为 $p(0<p<1), B$ 得下一分的概率为 $q=1-p$, 但是他们不能同时得分. 假设在某一时刻 $A$ 得分 $14-k, B$ 得 $14-l$ 分 $(0 \leq k, l \leq 14)$. 若接下来 $A$ 得了一分, 则其获胜概率比得这一分前的获胜概率大多少?

解 先证明一个引理.

引理 假设某一刻 $A$ 得分为 $14-k, B$ 得分为 $14-l(0 \leq k, l \leq 14)$, 则 $A$ 获胜的概率为 $\sum_{t=0}^{l} p^{k+1} q^{t}\left(\begin{array}{c}t+k \\ t\end{array}\right)$.

事实上, 对于此后 $A$ 获胜的每种情况, 都对应着一个 $A, B$ 的得分序列. 因 $A$ 需得 $k+1$ 分才能获胜, 故这个序列中有 $k+1$ 个 $A$, 并且序列最后一项是 $A$.
序列中的其他项是 $t(\leq l)$ 个 $B$, 这样的得分序列出现的可能性为 $p^{k+1} q^{t}$.

对给定的 $t \leq l$, 这样的序列数目即为不定方程 $x_{1}+x_{2}+\cdots+x_{k+1}=t$的非负整数解 $\left(x_{1}, x_{2}, \cdots, x_{k+1}\right)$ 的数目, 等于 $\left(\begin{array}{c}t+k \\ t\end{array}\right)$. 因此 $A$ 获胜的概率为 $\sum_{t=0}^{l} p^{k+1} q^{t}\left(\begin{array}{c}t+k \\ t\end{array}\right)$.

由引理, 所说的增量即为

$$
\begin{aligned}
& \sum_{t=0}^{l} p^{k} q^{t}\left(\begin{array}{c}
t+k-1 \\
t
\end{array}\right)-\sum_{t=0}^{l} p^{k+1} q^{t}\left(\begin{array}{c}
t+k \\
t
\end{array}\right) \\
= & \sum_{t=0}^{l} p^{k} q^{t}\left(\begin{array}{c}
t+k-1 \\
t
\end{array}\right)-\sum_{t=0}^{l} p^{k}\left(q^{t}\left(\begin{array}{c}
t+k \\
t
\end{array}\right)-q^{t+1}\left(\begin{array}{c}
t+k \\
t
\end{array}\right)\right) \\
= & p^{k} \sum_{t=0}^{l} q^{t}\left(\left(\begin{array}{c}
t+k-1 \\
t
\end{array}\right)-\left(\begin{array}{c}
t+k \\
t
\end{array}\right)\right)+p^{k} \sum_{t=0}^{l} q^{t+1}\left(\begin{array}{c}
t+k \\
t
\end{array}\right) \\
= & -p^{k} \sum_{t=0}^{l} q^{t}\left(\begin{array}{c}
t+k-1 \\
t-1
\end{array}\right)+p^{k} \sum_{t=0}^{l} q^{t+1}\left(\begin{array}{c}
t+k \\
t
\end{array}\right) \\
= & -p^{k} \sum_{t=1}^{l} q^{t}\left(\begin{array}{c}
t+k-1 \\
t-1
\end{array}\right)+p^{k} \sum_{t=1}^{l+1} q^{t}\left(\begin{array}{c}
t+k-1 \\
t-1
\end{array}\right) \\
= & p^{k} q^{l+1}\left(\begin{array}{c}
l+k \\
l
\end{array}\right) .
\end{aligned}
$$

评注 本题考察了基本的计数模型和代数变形, 是简单题.

2015.2 在 $\triangle A B C$ 中, 点 $D$ 在边 $A B$ 上, $I$ 是 $\triangle A B C$ 内在 $\angle A C B$ 平分线上的一点. $A I, C I$ 与 $\odot(A C D)$ 的第二个交点分别为 $P, Q, B I, C I$ 与 $\odot(B C D)$的第二个交点分别为 $R, S$.

证明: 若 $P \neq Q, R \neq S$, 则直线 $A B, P Q, R S$ 三线共点.



证明 如图连接辅助线, 则有

$$
\angle S R D=\angle S C D=\angle Q C D=\angle Q A D=180^{\circ}-\angle Q P D \text {. }
$$

因此若 $P Q / / R S$, 则 $P D / / R D$, 即 $P, D, R$ 共线. 但由 $I$ 在 $\triangle A B C$ 内部知 $R$ 在 $\odot(B C D)$ 不含 $B$ 的弧 $C D$ 上, $Q$ 在 $\odot(A C D)$ 不含 $A$ 的弧 $C D$ 上, $P, D, R$不可能共线, 矛盾.

故 $P Q$ 与 $R S$ 有交点 $T$, 且 $T, P, R, D$ 四点共圆. 因为 $\angle I P C=\angle B D C=$ $\angle B R C$, 故 $I, P, R, C$ 共圆. 从而

$$
\begin{aligned}
\angle P D T & =\angle P R T=\angle C R T-\angle C R P \\
& =\angle C D S-\left(180^{\circ}-\angle C I P\right) \\
& =\angle C D S-(\angle I C A+\angle I A C) \\
& =\angle C D S-(\angle I C B+\angle P D C) \\
& =\angle C D S-\angle B D S-\angle P D C \\
& =\angle P D B,
\end{aligned}
$$

即 $B, T, D$ 共线. 故 $A B, P Q, R S$ 共点 $T$.

评注 图形中具有丰富的角度关系, 加以探索便可以得到许多好用的性质,故我们可以寄希望于同一法这种最直接的方式证明共点. 本题还可以借助其他工具解决, 难度中等。

2015.3 设 $n$ 是正整数, $Q=\{0,1\}^{n}, A$ 是 $Q$ 的 $2^{n-1}$ 元子集. 证明: 存在至少 $2^{n-1}$ 对 $(a, b) \in A \times(Q \backslash A)$, 使得 $a$ 与 $b$ 恰在一个分量上不同.

证明 我们证明更一般的命题：对 $Q$ 的分划 $Q=A \cup B$, 至少存在 $\min \{|A|,|B|\}$ 对 $(a, b) \in A \times B$, 使得 $a$ 与 $b$ 恰在一个分量上不同. 这样的对子 $(a, b)$ 称为好的.

对 $n$ 归纳, $n=1$ 时结论平凡成立. 假设 $n$ 时成立, 考虑 $n+1$ 的情形. 对于 $Q=\{0,1\}^{n+1}$ 的分划 $Q=A \cup B$, 不妨设 $|A| \leq|B|$. 设集合

$$
Q_{1}=\{q \in Q \mid q \text { 的第一个分量为 } 1\}, Q_{2}=Q \backslash Q_{1} \text {, }
$$

并令 $A_{1}=A \cap Q_{1}, A_{2}=A \cap Q_{2}, B_{1}=B \cap Q_{1}, B_{2}=B \cap Q_{2}$.

记 $\left|A_{1}\right|=x,\left|A_{2}\right|=y$ ，不妨设 $x \leq y$ ，则

$$
\left|B_{1}\right|=2^{n}-x,\left|B_{2}\right|=2^{n}-y, x+y=|A| \leq 2^{n} .
$$

由归纳假设, 至少有 $\min \left\{\left|A_{1}\right|,\left|B_{1}\right|\right\}=\min \left\{x, 2^{n}-x\right\}$ 对 $(a, b) \in A_{1} \times B_{1}$是好的, 至少有 $\min \left\{\left|A_{1}\right|,\left|B_{1}\right|\right\}=\min \left\{y, 2^{n}-y\right\}$ 对 $(a, b) \in A_{2} \times B_{2}$ 是好的.又注意到至少有 $\left|A_{2}\right|+\left|B_{1}\right|-2^{n}=y-x$ 对 $(a, b) \in A_{2} \times B_{1}$, 它们恰在第一个分
量上不同, 故一共至少

$$
\begin{aligned}
& \min \left\{x, 2^{n}-x\right\}+\min \left\{y, 2^{n}-y\right\}+y-x \\
\geq & \min \{x, y\}+\min \{y, x\}+y-x \\
= & x+y=|A|=\min \{|A|,|B|\}
\end{aligned}
$$

对 $(a, b) \in A \times B$ 是好的.

从而一般命题得证.

评注 按某个分量取值分类是常用的办法, 并且可以预见地看出将这种分类和抽屈原理结合可以构造出一部分好对. 然而经分类不能保持 $|A|=\frac{1}{2}|Q|$, 为此加强命题. 寻找好对后的放缩需要细致处理. 本题有一定难度.

## 2014 年

2014.1 设整数 $n \geq 4$, 某个公司有 $n$ 个人, 每个人认识其他的人中的至少 1 个, 但没有人认识除他自己外的所有人. 证明: 可以选出 4 人, 安排在圆桌周围, 使得 4 个人中每一个恰认识他的两个邻居之一.

证明 将问题转化为图论语言: 设 $G=(V, E)$ 是一个 $n$ 阶简单图, 满足对任意 $v \in V$, 均有 $0<\operatorname{deg} v<n-1$. 要求证明存在四个不同的顶点 $a, b, c, d$ 使得 $a b \in E, b c \notin E, c d \in E, d a \notin E$.

事实上, 设 $x$ 是 $G$ 中度最大的顶点, 由条件知存在顶点 $y, z, y x \notin E, y z \in E$.

我们说明一定存在顶点 $w$, 使得 $w x \in E, w z \notin E$. 因为若这样的 $w$ 不存在,则 $x$ 的邻居均是 $z$ 的邻居. 但 $z y \in E, x y \notin E$, 即有 $\operatorname{deg} z \geq \operatorname{deg} x+1$, 与 $\operatorname{deg} x$的最大性矛盾. 因此这样的 $w$ 存在, 进而知 $x, w, z, y$ 即为合要求的四个顶点.

评注 通过取极端元, 可以导出与之相关的顶点的邻接信息. 上面较为简短的证明是通过不断优化讨论得到的. 本题是简单题.

2014.2 给定锐角 $\triangle A B C$ 及其内部一点 $P, P$ 不在高线 $A A_{1}, B B_{1}, C C_{1}$ 上,直线 $A P, B P, C P$ 交 $\triangle A B C$ 外接圆于点 $A_{2}, B_{2}, C_{2}$. 证明: $\odot A A_{1} A_{2}, \odot B B_{1} B_{2}$, $\odot C C_{1} C_{2}$ 三圆有两个公共点.

证明 注意到 $A A_{1}, B B_{1}, C C_{1}$ 过 $\triangle A B C$ 的垂心, 且

$$
\overline{H A} \cdot \overline{H A_{1}}=\overline{H B} \cdot \overline{H B_{1}}=\overline{H C} \cdot \overline{H C_{1}} .
$$

又由圆幂定理，

$$
\overline{P A} \cdot \overline{P A_{2}}=\overline{P B} \cdot \overline{P B_{2}}=\overline{P C} \cdot \overline{P C_{2}},
$$



而 $P \neq H$, 故 $P H$ 即为题述三圆之公共根轴.

由 $\triangle A B C$ 是锐角三角形, 及 $P$ 在 $\triangle A B C$ 内部, 知 $P, H$ 分别在线段 $A_{2} A, A_{1} A$ 上, $\odot A A_{1} A_{2}$ 交 $P H$ 于两点 $X, Y$. 进而由 (*) 知题述三圆两两交于点 $X, Y$, 证毕.

评注 如果想到直接给出三个圆的公共根轴, 则问题迎刃而解. 证明三圆共轴的常用办法还有同一法结合角度计算, 寻找旋转相似, 以及应用Casey的圆幂定理等，当然需要因地制宜地运用它们。本题是简单题.

2014.3 设 $K$ 是平面上的一个闭凸多边形, $X$ 是 $K$ 所在平面上一点. 证明:存在关于 $K$ 的边的一列反射, 使得 $X$ 在该列反射下的像含在 $K$ 中.

证明 称对平面上的点的一个变换是 $K$-好的, 若它由一列关于 $K$ 的边的反射组成.

引理 1 如果一个变换是 $L^{*}-$ 好的, 则它也是 $L-$ 好的. 这里 $L^{*}$ 是 $L$ 关于自身的一边 $b$ 反射所得到的像.

证明 设 $a^{*}$ 是 $L^{*}$ 的一边, $a^{*}$ 是 $L$ 的边 $a$ 关于 $b$ 反射所得到的像. 那么关于 $a^{*}$ 的反射等价于关于 $b$ 的反射复合关于 $a$ 的反射, 再复合关于 $b$ 的反射. 由此易知引理 1 成立.

由引理 1 , 只要一列多边形 $K=L_{0}, L_{1}, \cdots, L_{k}$ (这里 $L_{i+1}$ 是 $L_{i}$ 关于 $L_{i}$ 的边 $b_{i}$ 的反射像) 使得 $L_{k}$ 覆盖点 $X$ 即可. 这是因为此时存在被 $L_{i}$ 覆盖的点 $X_{i}(0 \leq i \leq k)$, 使得 $X_{i+1}$ 为 $X_{i}$ 关于边 $b_{i}$ 的反射像, $X_{k}=X$. 而变换 $X_{i+1} \leftrightarrow X_{i}$是 $L_{i}$-好的, 由引理 1 知它是 $K-$ 好的. 因此变换 $X \leftrightarrow X_{0}$ 是 $K-$ 好的, 此即要证的结论.

故只需证明如下的引理 2.
引理 2 从 $K$ 开始, 将它关于自身所有的边进行反射. 之后, 从每个已有的多边形继续进行这一操作, 则可以通过这样的操作覆盖平面上的任意一点.

证明 先证明存在 $d_{0}>0$ 使得操作有限次之后, 可以覆盖距离 $K$ 的边界至多 $d_{0}$ 的任何点. 为此, 对 $K$ 的任意一边 $A B$, 显然存在 $r>0$ 使得操作有限次之后, 可以覆盖住分别以 $A, B$ 为中心, $r$ 为半径的两个圆盘. 设 $K^{*}$ 是 $K$ 关于边 $A B$ 的反射像, $K^{*}$ 与上述两个圆盘分别相交于点 $A_{1}, B_{1}$. 由于 $K$ 是凸的, 故每个距离 $A B$ 至多 $d_{A B}=\min \left\{d\left(A_{1}, A B\right), d\left(B_{1}, A B\right)\right\}$ 的点均可被覆盖. 对所有边 $A B$ 取 $d_{A B}$ 的最小值作为 $d_{0}$ 即可.

任取一点 $O \in K$, 我们证明对任意正整数 $n$, 以 $O$ 为中心, 半径为 $n d_{0}$ 的圆盘在有限次操作之后可以被覆盖.

对 $n$ 归纳, 归纳奠基已证. 假设某个以 $n d_{0}$ 为半径的圆盘被 $K$ 反射得到的图形 $F$ 覆盖, 那么由上述结论知通过有限次操作之后可以覆盖距离 $F$ 的边界至多 $d_{0}$ 的任何点. 这样, 以 $O$ 为中心, $n d_{0}+d_{0}$ 为半径的圆盘就被完全覆盖.

从而如果要覆盖点 $X$, 取 $n>\frac{O X}{d_{0}}$ 即可. 故引理 2 得证, 进而原题得证.

评注 本解法参考自 AoPS. 引理 1 及之后的转化可以很快意识到, 但证明它需要开动脑筋. 此后要证明多边形的反射像可以覆盖整个平面, 只用证明可以覆盖多边形边界向外扩张 “一圈”。这是关键的想法, 充分体现了从简单到复杂的原则. 简化后的命题是直观的, 但需注意说理严谨. 本题有一定难度.

## 2013 年

2013.1 设正实数 $a, b$ 满足 $2 a b=a-b$. 对正整数 $k$, 用 $x_{k}$ 和 $y_{k}$ 分别表示与 $a k$ 和 $b k$ 距离最近的整数 (如果有两个距离最近的整数, 取较大的那个). 证明: 对任意正整数 $n, n$ 出现在序列 $\left(x_{k}\right)_{k \geq 1}$ 中, 当且仅当 $n$ 出现在序列 $\left(y_{k}\right)_{k \geq 1}$中至少三次.

证明 由条件知 $\frac{1}{b}-\frac{1}{a}=2$, 我们有:

$$
\begin{aligned}
n \text { 在 }\left(x_{k}\right)_{k \geq 1} \text { 中出现 } & \Leftrightarrow \text { 存在 } k \in \mathbb{N}^{*}, a k \in\left[n-\frac{1}{2}, n+\frac{1}{2}\right) \\
& \Leftrightarrow \text { 存在 } k \in \mathbb{N}^{*}, k \in\left[\frac{n-\frac{1}{2}}{a}, \frac{n+\frac{1}{2}}{a}\right) .
\end{aligned}
$$

$$
\begin{aligned}
& n \text { 在 }\left(y_{k}\right)_{k \geq 1} \text { 中出现至少三次 } \\
& \Leftrightarrow \text { 存在 } k \in \mathbb{N}^{*},(k-1) b, k b,(k+1) b \in\left[n-\frac{1}{2}, n+\frac{1}{2}\right)
\end{aligned}
$$

$$
\Leftrightarrow \text { 存在 } k \in \mathbb{N}^{*},\left\{\begin{array}{r}
(k-1) b \geq n-\frac{1}{2}, \\
(k+1) b<n+\frac{1}{2} .
\end{array}\right.
$$

注意到

$$
(k-1) b \geq n-\frac{1}{2} \Leftrightarrow k-1 \geq\left(n-\frac{1}{2}\right)\left(\frac{1}{a}+2\right) \Leftrightarrow k \geq \frac{n-\frac{1}{2}}{a}+2 n,
$$

同理

$$
(k+1) b<n-\frac{1}{2} \Leftrightarrow k<\frac{n+\frac{1}{2}}{a}+2 n
$$

故

$$
\begin{aligned}
(*) & \Leftrightarrow \text { 存在 } k \in \mathbb{N}^{*}, k \in\left[\frac{n-\frac{1}{2}}{a}+2 n, \frac{n+\frac{1}{2}}{a}+2 n\right), \\
& \Leftrightarrow \text { 存在 } k \in \mathbb{N}^{*}, k \in\left[\frac{n-\frac{1}{2}}{a}, \frac{n+\frac{1}{2}}{a}\right) .
\end{aligned}
$$

由此可见欲证命题成立.

评注 寻求充分必要条件, 细心地刻画问题结构即可得到结论. 本题是简单题.

2013.2 设 $P_{1}, P_{2}, P_{3}$ 为闭多边形区域, 满足对任意三点 $A \in P_{1}, B \in P_{2}, C \in$ $P_{3}$, 都有 $[\triangle A B C] \leq 1$.(这里 $[X]$ 表示多边形 $X$ 的面积). 证明:

(a) $\min \left\{\left[P_{1},\right]\left[P_{2},\right]\left[P_{3}\right]\right\}<4$.

(b) 试构造 $P_{1}, P_{2}, P_{3}$ 满足条件, 使得 $\left[P_{1}\right]>4,\left[P_{2}\right]>4$.

证明 (a) 设 $d$ 是 $P_{1}, P_{2}, P_{3}$ 中不在同一集合中的两点的距离的最大值, 由于 $P_{1}, P_{2}, P_{3}$ 是闭多边形, 故 $d$ 存在. 不妨设存在 $X \in P_{1}, Y \in P_{2}$ 使得 $d=|X Y|$.则由 $d$ 的定义, 对于 $P_{1}, P_{2}, P_{3}$ 中任意一点 $Z$, 有

$$
Z \in \odot(X, d) \cap \odot(Y, d)
$$

其中 $\odot(X, d), \odot(Y, d)$, 分别表示以 $X, Y$ 为圆心, 半径为 $d$ 的圆盘.

对于任意一点 $Z \in P_{3}$, 由于 $[X Y Z] \leq 1$, 故点 $Z$ 到直线 $X Y$ 距离不超过 $\frac{2}{d}$.从而 $P_{3}$ 中的点在以 $X Y$ 为一条中线, 且相邻边长分别为 $d, \frac{4}{d}$ 的矩形 $R$ 中. 因此有

$$
\left[P_{3}\right] \leq[R]=d \cdot \frac{4}{d}=4
$$

由 $(*)$ 可知上式等号不成立, 从而 (a) 得证.

(b) 待定正整数 $n$, 取 $P_{1}, P_{2}$ 是半径为 $\sqrt{\frac{5}{\pi}}$ 的圆的内接正 $n$ 边形, 且 $P_{1}, P_{2}$
重合. $P_{3}$ 是外接圆半径为 0.01 的正方形, 满足其外接圆圆心与 $P_{1}, P_{2}$ 外接圆圆心 $O$ 重合. 利用 $\lim _{x \rightarrow 0} \frac{\sin x}{x}=1$ 知可令正整数 $n$ 充分大, 使得

$$
\begin{aligned}
{\left[P_{1}\right]=\left[P_{2}\right] } & =n \cdot \frac{1}{2}\left(\sqrt{\frac{5}{\pi}}\right)^{2} \sin \frac{2 \pi}{n} \\
& =\frac{5}{\pi} \cdot \frac{n}{2} \sin \frac{2 \pi}{n}>4
\end{aligned}
$$

此时对任意三点 $A \in P_{1}, B \in P_{2}, C \in P_{3}$, 有

$$
\begin{aligned}
{[\triangle A B C] } & \leq \frac{1}{2} A C \cdot B C \\
& \leq \frac{1}{2}(A O+O C)(B O+O C) \\
& \leq \frac{1}{2}\left(\sqrt{\frac{5}{\pi}}+0.01\right)^{2}<1 .
\end{aligned}
$$

从而这个构造满足条件.

评注 本题难度中等. (a) 是Kömal 杂志问题 A608(2014) 的弱化情形, 原题如下：在题给的条件下，证明中某两个之和不大于 8.

它的证明和评注可参见 [4]. 两者的证明都用到了取极端的想法, 这可以对整个图形的大小做一个掌控, 在组合几何中有许多应用。

2013.3 对任意整数 $n \geq 2$ 以及非负实数 $l_{i j}(1 \leq i<j \leq n)$, 是否总是可以找到非负实数序列 $a_{1}, a_{2}, \cdots, a_{n}$ 满足 $\sum_{i=1}^{n} a_{i} \leq \sum_{1 \leq i<j \leq n} l_{i j}$, 且对任意整数 $1 \leq i<j \leq n$ 都有 $\left|a_{i}-a_{j}\right| \geq l_{i j}$ ?

解 结论是肯定的, 补充定义 $l_{j i}=l_{i j}(1 \leq i<j \leq n)$.

令 $i_{1}=1, a_{i_{1}}=0$, 假设已取好 $a_{i_{1}}, \cdots, a_{i_{k-1}}(2 \leq k \leq n)$, 设 $i_{k} \neq i_{1}, i_{2}, \cdots, i_{k-1}$满足

$$
\sum_{t=1}^{k-1} l_{i_{t}, i_{k}}=\min _{i \neq i_{1}, \cdots, i_{k-1}}\left\{\sum_{t=1}^{k-1} l_{i_{t}, i}\right\}
$$

则取 $a_{i_{k}}=\sum_{t=1}^{k-1} l_{i_{t}, i_{k}}$. 如此下去得到 $i_{1}, i_{2}, \cdots, i_{n}$, 这是 $1,2, \cdots, n$ 的一个排列. 此时对任意 $1 \leq k<k^{\prime} \leq n$, 有

$$
\begin{aligned}
a_{i_{k^{\prime}}}-a_{i_{k}} & =\sum_{t=1}^{k^{\prime}-1} l_{i_{t}, i_{k^{\prime}}}-\sum_{t=1}^{k-1} l_{i_{t}, i_{k}} \\
& =\left(\sum_{t=1}^{k-1} l_{i_{t}, i_{k^{\prime}}}-\sum_{t=1}^{k-1} l_{i_{t}, i_{k}}\right)+\sum_{t=k+1}^{k^{\prime}-1} l_{i_{t}, i_{k^{\prime}}}+l_{i_{k}, i_{k^{\prime}}} \\
& \geq \sum_{t=k+1}^{k^{\prime}-1} l_{i_{t}, i_{k^{\prime}}}+l_{i_{k}, i_{k^{\prime}}}
\end{aligned}
$$

$$
\geq l_{i_{k}, i_{k^{\prime}}}(>0)
$$

其中第一个“ $\geq$ ” 用到了 $i_{k}$ 的定义, 第二个 “ $\geq$ ” 用到了 $l_{i j} \geq 0$. 又

$$
\sum_{i=1}^{n} a_{i}=\sum_{k=1}^{n} a_{i_{k}}=\sum_{k=1}^{n} \sum_{t=1}^{k-1} l_{i_{t}, i_{k}}=\sum_{1 \leq t<k \leq n} l_{i_{t}, i_{k}}=\sum_{1 \leq i<j \leq n} l_{i j}
$$

因此 $a_{1}, a_{2}, \cdots, a_{n}$ 满足要求.

评注 我们希望 $\sum_{i=1}^{n} a_{i}=\sum_{1 \leq i<j \leq n} l_{i j}$, 这可以如下实现. 考虑以 $1,2, \cdots, n$ 为顶点的完全图 $K_{n}$, 边 $(i, j)$ 上标数 $l_{i j}$. 找一个 $K_{n}$ 的定向, 并令 $a_{i}=\sum_{j \rightarrow i} l_{i j}$ 即可.

此时对于 $j \rightarrow i$, 有 $a_{i}-a_{j}=l_{i j}+\left(\sum_{i^{\prime} \rightarrow i} l_{i i^{\prime}}-\sum_{j^{\prime} \rightarrow j} l_{j j^{\prime}}\right)$. 故要满足条件只要保证括号内非负, 解答中的取法即基于此. 本题需要巧思, 具有一定难度.

## 2012 年

2012.1 设 $J_{A}, J_{B}$ 分别是 $\triangle A B C$ 的 $A$-旁心和 $B$-旁心, $\odot(A B C)$ 的弦 $P Q$平行于 $A B$, 且与线段 $A C$ 和 $B C$ 相交. 设直线 $A B$ 与 $C P$ 交于 $R$. 证明: $\angle J_{A} Q J_{B}+\angle J_{A} R J_{B}=180^{\circ}$.

证明 显然 $J_{B}, C, J_{A}$ 共线. 结合旁心的性质易知

$$
\triangle C J_{B} A \sim \triangle C B J_{A}, \triangle C A Q \sim \triangle C R B .
$$

所以

$$
C J_{B} \cdot C J_{A}=C Q \cdot C R=C A \cdot C B,
$$

且 $C Q, C R ; C J_{B}, C J_{A}$ 是 $\angle A C B$ 的两对等角线.



因此 $\triangle C R J_{B} \sim \triangle C J_{A} Q, \triangle C J_{A} R \sim \triangle C Q J_{B}$, 故

$$
\angle J_{A} R J_{B}=\angle J_{A} R C+\angle C R J_{B}=\angle C J_{B} Q+\angle C J_{A} Q
$$

由此可知结论成立.
评注 图形结构初看不具有对称意义, 稍作分析后可发现是轴反射反演的构型. 本题是简单题.

2012.2 用 $E(n)$ 表示正整数 $n$ 的二进制表示中 1 的个数. 若 $E(n) \mid n$, 则称 $n$ 是有趣的, 证明:

(a) 不存在连续 5 个有趣数;

(b) 有无穷多个正整数 $n$ 使得 $n, n+1, n+2$ 都是有趣的.

证明 (a) 对任意 5 个连续的正整数, 易知存在非负整数 $k$, 使得 $4 k+1$ 和 $4 k+2$ 都在其中. 注意 $E(4 k+1)=E(4 k+2)$, 但 $4 k+1$ 与 $4 k+2$ 互素, 因此如果它们都是有趣数, 则由 $E(4 k+1)=E(4 k+2)$ 知它们只能都为 1 , 故 $k=0$. 故这 5 个数只能为 $1,2,3,4,5$, 但 3 不是有趣数, 结论得证.

(b) 对任意整数 $t \geq 10$, 令

$$
n=2^{6 t}+110=(\underbrace{10 \cdots 001101110}_{6 t+1 \text { 位 }})_{2},
$$

则 $E(n)=6$. 而

$$
\begin{aligned}
& n+1=(\underbrace{10 \cdots 001101111}_{6 t+1 \text { 位 }})_{2}, \quad E(n+1)=7, \\
& n+2=(\underbrace{10 \cdots 01110000}_{6 t+1 \text { 位 }})_{2}, \quad E(n+2)=4 \text {. }
\end{aligned}
$$

又注意到 $2^{6 t}+110 \equiv 1+2 \equiv 0(\bmod 3)$ ，故 $6 \mid 2^{6 t}+110 ; 2^{6 t}+111 \equiv(64)^{t}+111 \equiv$ $112 \equiv 0(\bmod 7)$, 故 $7 \mid 2^{6 t}+111$. 而显然 $4 \mid 2^{6 t}+112$, 故 $n, n+1, n+2$ 都是有趣的.

评注题述的“有趣数”通常被称作 (2 进制下的) Niven 数, 是数论中有趣的一个研究对象. 我们列举一些与之相关的结果, 它们均可作为有难度的练习题.

（1）对任意进制，存在任意长的由 Niven 数构成的等差数列，然而该进制下的Niven数密度为零;

(2) 存在一个不含十进制 Niven 数的无穷等差数列;

(3) 存在任意位数的十进制 Niven 数, 且它的每一位上都不为零.

2012.3 设 $n$ 是正整数, $n$ 个事件每个发生的概率为 $\frac{1}{2}$, 任意两个事件同时发生的概率为 $\frac{1}{4}$, 证明:

(a) 这些事件均不发生的概率至多为 $\frac{1}{n+1}$;

(b) 存在无穷多个正整数 $n$, 使得 (a) 中等号可取到.
证明 设 $n$ 个事件为 $A_{1}, A_{2}, \cdots, A_{n}$.

(a) 对 $n$ 归纳易证, 存在正整数 $m$ 和 $m$ 个互斥 (不同时发生) 的事件 $X_{1}, X_{2}, \cdots, X_{m}$, 以及 $n$ 个的 $\{1,2 \cdots m\}$ 子集 $T_{1}, T_{2}, \cdots, T_{n}$ 使得 $A_{i}=\bigcup_{t \in T_{i}} X_{t}$.

对 $t \in\{1,2, \cdots, m\}$, 设 $T_{1}, T_{2}, \cdots, T_{n}$ 中有 $d_{t}$ 个集合含有 $t$, 用 $\operatorname{Pr}(X)$ 表示事件 $X$ 发生的概率. 则由已知, 有

$$
\begin{gathered}
\frac{n}{2}=\sum_{i=1}^{n} \operatorname{Pr}\left(A_{i}\right)=\sum_{i=1}^{n} \sum_{t \in T_{i}} \operatorname{Pr}\left(X_{t}\right)=\sum_{t=1}^{m} d_{t} \operatorname{Pr}\left(X_{t}\right) \\
\frac{1}{4}\left(\begin{array}{l}
n \\
2
\end{array}\right)=\sum_{1 \leq i<j \leq n} \operatorname{Pr}\left(A_{i} \cap A_{j}\right)=\sum_{1 \leq i<j \leq n} \sum_{t \in T_{i} \cap T_{j}} \operatorname{Pr}\left(X_{t}\right)=\sum_{i=1}^{m}\left(\begin{array}{c}
d_{t} \\
2
\end{array}\right) \operatorname{Pr}\left(X_{t}\right) .
\end{gathered}
$$

$2 \times(2)+(1)$ 得:

$$
\begin{aligned}
& \frac{1}{4} n(n+1)=\sum_{t=1}^{m} d_{t}^{2} \operatorname{Pr}\left(X_{t}\right) \\
\geq & \left(\sum_{t=1}^{m} d_{t} \operatorname{Pr}\left(X_{t}\right)\right)^{2} /\left(\sum_{t=1}^{m} \operatorname{Pr}\left(X_{t}\right)\right) \text { (Cauchy不等式) } \\
= & \frac{n^{2}}{4 \operatorname{Pr}\left(A_{1} \cup \cdots \cup A_{n}\right)} .
\end{aligned}
$$

从而 $\operatorname{Pr}\left(\overline{A_{1} \cup \cdots \cup A_{m}}\right)=1-\operatorname{Pr}\left(A_{1} \cup \cdots \cup A_{m}\right) \leq \frac{1}{n+1}$.

(b) 令矩阵

$$
M_{1}=\left[\begin{array}{cc}
1 & -1 \\
-1 & -1
\end{array}\right], M_{k+1}=\left[\begin{array}{cc}
-M_{k} & M_{k} \\
M_{k} & M_{k}
\end{array}\right] \text {. }
$$

对 $r$ 归纳易证如下结论: $M_{r}$ 是 $2^{r}$ 阶矩阵, 且若设

$$
M_{r}=\left(\bar{v}_{1}, \bar{v}_{2}, \cdots, \bar{v}_{2^{r}}\right),
$$

则

$$
\bar{v}_{2^{r}}=(\underbrace{-1,-1, \cdots,-1}_{2^{r}})^{T} \text {, }
$$

$\bar{v}_{i}\left(1 \leq i \leq 2^{r}-1\right)$ 恰有 $2^{r-1}$ 个分量为 1 , 其余为 -1 , 且最后一个分量为 -1 . 同时对 $1 \leq i<j \leq n$, 均有 $\bar{v}_{i} \cdot \bar{v}_{j}=0$.

现令 $n=2^{r}-1$, 考虑 $n+1$ 个互斥的等概率事件 $X_{1}, X_{2}, \cdots, X_{n+1}$. 定义集合

$$
T_{i}=\left\{t \mid 1 \leq t \leq n+1, \bar{v}_{i} \text { 的第 } t \text { 个分量为 } 1\right\}(1 \leq i \leq n) \text {, }
$$

则由 $(*)$ 知 $\left|T_{i}\right|=\frac{n+1}{2}$. 对 $1 \leq i<j \leq n$, 由 $\bar{v}_{i} \cdot \bar{v}_{j}=0$ 知 $\bar{v}_{i}$ 与 $\bar{v}_{j}$ 相同分量恰 $2^{r-1}$ 个, 结合 $\bar{v}_{i}, \bar{v}_{j}$ 各恰有 $2^{r-1}$ 个分量为 1 知, 它们恰有 $2^{r-2}$ 个分量同为 1 , 因此

$$
\begin{aligned}
& \left|T_{i} \cap T_{j}\right|=\frac{n+1}{4} . \\
& \text { 令 } A_{i}=\bigcup_{t \in T_{i}} X_{t}, \text { 由 } \operatorname{Pr}\left(X_{t}\right)=\frac{1}{n+1}(1 \leq t \leq n+1) \text { 及上述知 } \operatorname{Pr}\left(A_{i}\right)=\frac{1}{2}, \text { 且 } \\
& \quad \operatorname{Pr}\left(A_{i} \cap A_{j}\right)=\frac{1}{4}(1 \leq i<j \leq n), \operatorname{Pr}\left(\overline{A_{1} \cup \cdots \cup A_{m}}\right)=\frac{1}{n+1} .
\end{aligned}
$$

由于 $r \geq 2$ 可任取, 故这样的 $n$ 有无穷多个.

评注 (a) 是经典的算两次办法, 不过需要注意应引入有限个 $X_{i}$. 对于 (b),取 $\operatorname{Pr}\left(X_{t}\right)$ 全相等, 则要求 $\left|T_{i}\right|=\frac{m}{2},\left|T_{i} \cap T_{j}\right|=\frac{m}{4}(i<j)$, 且 (a) 中不等号取等.取 $m=n+1$, 则可算得 $d_{t}=\frac{n+1}{2}(1 \leq t \leq n), d_{n+1}=0$. 由这些推出 $T_{i}$ 的 $1,-1$示性向量两两几乎是正交的, 因此考虑 Hadamard 矩阵并稍作修改. 如果对这些理论不熟悉, 构造可能比较困难。

## 2011 年

2011.1 设 $a_{1}, a_{2}, \cdots$ 是无穷正整数序列, 使得对任意正整数 $k, l, a_{k+l}$ 均被 $a_{k}, a_{l}$ 的最大公约数整除. 证明: 对任意整数 $1 \leq k \leq n, a_{n} a_{n-1} \cdots a_{n-k+1}$ 是 $a_{k} a_{k-1} \cdots a_{1}$ 的倍数.

证明 对整数 $1 \leq k \leq n$, 记

$$
B(n, k)=\frac{a_{n} a_{n-1} \ldots a_{n-k+1}}{a_{k} a_{k-1} \ldots a_{1}}
$$

则 $B(n, n)=1$. 补充定义 $B(n, 0)=1$, 下面对 $n+k$ 归纳证明 $B(n, k)$ 是整数.归纳奠基平凡, 假设对于 $n+k$ 较小时结论成立, 现在不妨假设 $0<k<n$, 则有

$$
B(n, k)=\frac{a_{n}}{a_{k}} B(n-1, k-1)=\frac{a_{n}}{a_{n-k}} B(n-1, k) \text {. }
$$

由裴蜀定理, 存在整数 $x, y$ 使得 $x a_{k}+y a_{n-k}=\left(a_{k}, a_{n-k}\right)$, 记 $d=\left(a_{k}, a_{n-k}\right)$,则

$$
\begin{aligned}
B(n, k) & =\frac{x a_{k}+y a_{n-k}}{d} B(n, k) \\
& =\frac{x a_{k}}{d} \cdot \frac{a_{n}}{a_{k}} B(n-1, k-1)+\frac{y a_{n-k}}{d} \cdot \frac{a_{n}}{a_{n-k}} B(n-1, k) \\
& =\frac{x a_{n}}{d} B(n-1, k-1)+\frac{y a_{n}}{d} B(n-1, k) .
\end{aligned}
$$

由归纳假设, $B(n-1, k-1), B(n-1, k)$ 均为整数, 而由已知, $\frac{a_{n}}{d}$ 是整数. 因此 $B(n, k)$ 是整数, 结论得证.

评注 问题的结构和二项式系数的形式十分相似，因此我们仿照对二项式系数的处理进行递推分析. 这样做不从标准分解的角度 “正面攻击” 问题，避免了计算素数幂时较繁杂的变形放缩手段. 本题是简单题.

2011.2 对于正整数 $n$, 记 $a(n)$ 为拆分 $n=x_{1}+x_{2}+\cdots$ 的方法数, 其中 $x_{1} \leq x_{2} \leq \cdots$ 是正整数且 $x_{i}+1$ 均为 2 的方幂 (即形如 $1,2, \cdots$ 的数); 记 $b(n)$为拆分 $n=y_{1}+y_{2}+\cdots$ 的方法数, 其中 $y_{i}$ 均为正整数且 $2 y_{i} \leq y_{i+1}$. 证明: $a(n)=b(n)$.

证明 对于 $b(n)$ 所记录的任意一种拆分方式 $n=y_{1}+y_{2}+\ldots+y_{m}$, 由 $2 y_{i} \leq y_{i+1}$ 知存在非负整数 $w_{1}, w_{2}, w_{3}, \cdots$ 使得

$$
\left\{\begin{aligned}
y_{1}= & 1+w_{1} \\
y_{2}= & 2+2 w_{1}+w_{2} \\
y_{3}= & 4+4 w_{1}+2 w_{2}+w_{3} \\
& \vdots \\
y_{m}= & 2^{m-1}+2^{m-1} w_{1}+2^{m-2} w_{2}+2^{m-3} w_{3}+\ldots+w_{m}
\end{aligned}\right.
$$

将其代入 $n=y_{1}+y_{2}+\ldots+y_{m}$ 可得

$$
n=w_{m}+3 w_{m-1}+\ldots+\left(2^{m-1}-1\right) w_{2}+\left(2^{m}-1\right)\left(w_{1}+1\right)
$$

这便得到了 $a(n)$ 所记录的一种拆分. 其中 $w_{j}$ 即为 $2^{m+1-j}-1$ 在 $x_{i}$ 中出现的次数 $(2 \leq j \leq m)$, 而 $w_{1}+1$ 为 $2^{m}-1$ 在 $x_{i}$ 中出现的次数, $w_{1}+1>0$ 表示 $x_{i}$ 中的最大者即为 $2^{m}-1$.

容易看出这是两种分拆方式之间的一一对应, 从而 $a(n)=b(n)$.

评注 本题在六年后被选作亚太数学奥林匹克 (APMO 2017) 的第三题. 结论的简洁提示着只需要一种巧妙的对应就可以解决问题. 可以尝试将 $x_{i}$ 写为一行二进制表示并排成一列，对这些 1 进行探索. 如果想到将每行最右边的 1 (所对应的 2 的方幂) 相加, 再将余下的 1 中每行最右边的 1 (所对应的 2 的方幂) 相加, 以此类推, 则逐步确定出来了 $y_{m}, y_{m-1}, y_{m-2}, \cdots$. 用严谨一些的语言写出就得到了本题的证明过程, 本题难度中等.

2011.3 设 $n$ 是正整数, 给定平面上 $3 n$ 条直线和 $2 n$ 个点. 证明: 存在平面上一点 $P$, 使得 $P$ 到 $3 n$ 条直线的距离之和小于 $P$ 到 $2 n$ 个点的距离之和.

证明 任取平面上异于已知点的一点 $Q$, 取正实数 $R$ 充分大. 考虑以 $Q$ 为圆心, 半径为 $R$ 的圆 $\Omega$, 使得 $2 n$ 个已知点都在 $\Omega$ 的内部.

对于 $\Omega$ 的一个内接正六边形 $H$ 以及一条已知直线 $l$, 称 $H$ 是 $l$ 好的, 如果 $l$恰好与 $H$ 的一组对边相交. 先证明存在 $R$ 和 $H$ 使得对于每条已知直线 $l, H$ 都是 $l$ 好的.
事实上, 设 $H=P_{1} P_{2} P_{3} P_{4} P_{5} P_{6}$, 则 $H$ 由 $P_{1}$ 的位置唯一确定. 对任意一条已知直线 $l$, 设 $Q$ 到 $l$ 的距离是 $d$, 则如图可知 $H$ 不是 $l$ 好的当且仅当 $P_{1}$ 属于 $\Omega$的某六段弧之并, 每段这样的弧所对的圆心角为 $2 \arcsin \frac{d}{R}$.



当 $R$ 充分大时这个角度总是小于 $\frac{2 \pi}{18 n}$, 从而对所有的 $l$, 这样圆弧之并的长度小于 $2 \pi$, 知存在所说的 $H$.

对平面上任意一点 $P$, 用 $f(P)=\sum_{X} d(P, X)-\sum_{l} d(P, l)$ 表示 $P$ 到各点距离之和减去 $P$ 到各直线距离之和. 我们说明存在 $1 \leq i \leq 6$ 使得 $f\left(P_{i}\right)>0$, 这只要证明 $\sum_{i=1}^{6} f\left(P_{i}\right)>0$.

注意到

$$
\sum_{i=1}^{6} f\left(P_{i}\right)=\sum_{X} \sum_{i=1}^{6} d\left(P_{i}, X\right)-\sum_{i} \sum_{i=1}^{6} d\left(P_{i}, l\right)
$$

由三角不等式, 对 $1 \leq i \leq 6$ 均有 (下标模 6 考虑)

$$
d\left(P_{i}, X\right)+d\left(P_{i+3}, X\right) \geq d\left(P_{i}, P_{i+3}\right)=2 R
$$

故

$$
\sum_{X} \sum_{i=1}^{6} d\left(P_{i}, X\right) \geq \sum_{X} 3 \cdot 2 R=12 n R
$$

等号不能取到, 否则每个已知点 $X$ 都同时在线段 $P_{1} P_{4}, P_{2} P_{5}, P_{3} P_{6}$ 上, 即 $X=Q$,这与 $Q$ 的选取矛盾.

另一方面，对每条已知直线 $l$, 因为 $H$ 是 $l$ 好的，故不妨设 $l$ 与线段 $P_{1} P_{2}, P_{4} P_{5}$ 相交. 于是有

$$
\begin{aligned}
& d\left(P_{1}, l\right)+d\left(P_{2}, l\right) \leq d\left(P_{1}, P_{2}\right)=R, \\
& d\left(P_{4}, l\right)+d\left(P_{5}, l\right) \leq d\left(P_{4}, P_{5}\right)=R, \\
& d\left(P_{3}, l\right)+d\left(P_{6}, l\right) \leq d\left(P_{3}, P_{6}\right)=2 R .
\end{aligned}
$$

故

$$
\sum_{l} \sum_{i=1}^{6} d\left(P_{i}, l\right) \leq \sum_{l}(R+R+2 R)=12 n R<\sum_{X} \sum_{i=1}^{6} d\left(P_{i}, X\right)
$$

这便证明了所说结论.

评注 考虑极端的情形: 所有的已知点全部重合于一点 $O$, 每条直线都经过 $O$. 如果此时存在异于 $O$ 的一点 $P$ 满足要求, 则直线 $O P$ 上任何一点都满足要求. 这提示我们只需在距离各已知点相当远处选取点 $P$, 同时在这种考量下, 任意一种初始的分布都可以近似看做上述极端情形.

这容易引导出, 在 $\Omega$ 上利用平均值原理选取点 $P$ 这一主要想法. 这之后还可以通过在 $\Omega$ 上对 $f$ 积分, 得到更好的估计. 本题是一个难题.

## 2010 年

2010.1 设 $n$ 是正整数, $n$ 把钥匙可以打开 $n$ 个上锁的箱子, 每把钥匙恰能打开一个箱子. 为了确定每个箱子对应的铜匙, 每次尝试取一把铜匙和一个箱子, 并可以试出钥匙是否能打开箱子. 求最小的正整数 $P(n)$, 使得用 $P(n)$ 次尝试就一定可以找出 $n$ 个上锁的箱子分别对应的钥匙.

解 $P(n)=\frac{1}{2} n(n-1)$.

一方面, 显然 $P(1)=0, P(2)=1$. 对 $n \geq 3$, 任取一个钥匙并用它去试开各个箱子, 经至多 $n-1$ 次就能确定它所对应的箱子. 余下 $n-1$ 把钥匙和 $n-1$个箱子, 因此 $P(n) \leq P(n-1)+n-1$, 由此递归知 $P(n) \leq \frac{1}{2} n(n-1)$.

另一方面, 为说明 $P(n) \geq \frac{1}{2} n(n-1)$. 考虑二部图 $G=(X \cup Y, E), X$ 是 $n$把钥匙的集合, $Y$ 是 $n$ 个箱子的集合. 把试图用少于 $\frac{1}{2} n(n-1)$ 次尝试确定对应关系的人称为甲, 则整个过程可叙述为:

起初, $G$ 是完全二部图, $M$ 是 $G$ 中的一个完美匹配 (即 $n$ 条两两无公共端点的边). 甲的每一次尝试, 选择当前 $G$ 中的一条边 $e$, 他将获知 $e$ 是否属于 $M$. 若 $e \notin M$, 则甲从 $G$ 中去掉 $e$; 若 $e \in M$, 则甲将 $e$ 标红.

甲试图用少于 $\frac{1}{2} n(n-1)$ 次尝试, 使得最终得到的图 $G$ 中有且仅有唯一的完美匹配包含所有红边, 从而只能是 $M$.

注意到若甲某次选择的边 $e$ 满足, 从当前的 $G$ 中去掉边 $e$ 则不再有完美匹配, 那么甲可不经这次尝试而直接断定 $e \in M$, 进而将其标红. 换言之, 甲每次选取的 $e$ 都应满足: 从当前的图 $G$ 中去掉 $e$, 仍有完美匹配.

在 $(*)$ 的策略下, 我们说明若甲运气不佳, 则可能每次尝试的结果都
是 “ $e \notin M$ ”. 这是因为 $M$ 有可能就是去掉 $e$ 之后, 图 $G$ 中剩余的某个完美匹配.

因此若甲运气不佳, 则他在少于 $\frac{1}{2} n(n-1)$ 次尝试中每次尝试都去掉一条边, 期间按自己的判断标红了一些边. 于是由这些边的定义（去掉它则不再有完美匹配）可知, 对最后得到的图 $G$ 的任意一个完美匹配, 都含有所有红边.

又对最终的 $G$ 必有 $M \subseteq G$, 因此由下面的引理可知甲无法经少于 $\frac{1}{2} n(n-1)$ 次尝试确保达成目标.

引理 设二部图 $H=(X \cup Y, E)$ 满足 $|X|=|Y|=n,|E|>n^{2}-\frac{1}{2} n(n-1)=$ $\frac{1}{2} n(n+1)$. 若 $H$ 有完美匹配 $M$, 则 $H$ 有异于 $M$ 的完美匹配.

证明 对 $n$ 归纳, $n=2$ 时结论显然. 假设 $n-1$ 时结论成立, 考虑 $n$ 的情形.

若 $H$ 中有度为 1 的顶点, 不妨设为 $v \in X, v$ 唯一的邻点为 $u$. 将 $u, v$ 连同以它们为端点的所有边去掉, 共去掉至多 $n$ 条边, 应用归纳假设即可.

若 $H$ 中任意一个顶点的度不小于 2 . 任取 $v_{1} \in X$, 设 $v_{1}$ 在 $M$ 中的邻点为 $u_{1}$, 则 $u_{1}$ 有异于 $v_{1}$ 的邻点 $v_{2}$, 类似定义 $u_{2}, v_{3}, u_{3} \cdots$. 这样下去必得到一个圈 $v_{k} u_{k} v_{k+1} u_{k+1} \cdots v_{l} u_{l} v_{k}\left(v_{i} \in X, u_{i} \in Y, l>k\right)$.

将 $M$ 中的边 $v_{k} u_{k}, v_{k+1} u_{k+1}, \cdots, v_{l} u_{l}$ 替换为 $v_{k+1} u_{k}, v_{k+2} u_{k+1}, \cdots, v_{k} v_{l}$, 得到了异于 $M$ 的完美匹配,引理得证.

评注 本题说理严谨并不简单. 仔细分析可以想到, 假设排除一切干扰, 则只要证明引理, 但是引理的证明需要一定的巧思。为了证明甲总是可能落入引理代表的情形，我们说明了 $(*)$ 原则的合理性，以及甲始终得到“ $e \notin M$ ”信息的可能性. 这是不断润色表述得到的. 本题比较困难.

2010.2 在 $\triangle A B C$ 中, $A_{1}, A_{2} \in(B C), B_{1}, B_{2} \in(C A), C_{1}, C_{2} \in(A B)$ 且 $A C_{1}<A C_{2}, B A_{1}<B A_{2}, C B_{1}<C B_{2}$ (其中 $(X Y)$ 表示去掉端点的开线段 $X Y$ ).设 $\odot\left(A B_{1} C_{1}\right)$ 与 $\odot\left(A B_{2} C_{2}\right)$ 交于点 $A^{*} \neq A, \odot\left(B C_{1} A_{1}\right)$ 与 $\odot\left(B C_{2} A_{2}\right)$ 交于点 $B^{*} \neq B, \odot\left(C A_{1} B_{1}\right)$ 与 $\odot\left(C A_{2} B_{2}\right)$ 交于 $C^{*} \neq C$. 证明: $A A^{*}, B B^{*}, C C^{*}$ 共点.

证明 由两圆相交的性质, 知 $\Delta A^{*} C_{1} C_{2}$ 与 $\Delta A^{*} B_{1} B_{2}$ 相似, 对 $B^{*}, C^{*}$ 有类似结论成立. 于是由正弦定理有

$$
\prod_{c y c} \frac{\sin \angle B A A^{*}}{\sin \angle A^{*} A C}=\prod_{c y c} \frac{C_{2} A^{*}}{A^{*} B_{2}}=\prod_{c y c} \frac{C_{2} C_{1}}{B_{2} B_{1}}=1 .
$$

对 $\triangle A B C$ 及直线 $A A^{*}, B B^{*}, C C^{*}$, 由角元 Ceva 定理知 $A A^{*}, B B^{*}, C C^{*}$ 共点.



评注 这类问题通常使用 Ceva 定理或其角元形式. 从一个侧面切入如果能将边与角的关系解释清楚 (通常需要一定计算), 则由轮换对称性即可解决问题.本题是简单题.

2010.3 求所有的正整数 $n, k$, 使得存在整数 $a_{1}, a_{2}, \cdots, a_{n}$ 及 $b_{1}, b_{2}, \cdots, b_{k}$满足乘积 $a_{i} b_{j}(1 \leq i \leq n, 1 \leq j \leq k)$ 模 $n k$ 两两不同.

解 存在这样的 $a_{1}, \cdots, a_{n}, b_{1}, \cdots, b_{k}$ 当且仅当 $n, k$ 互素.

首先若 $(n, k)=1$, 由中国剩余定理, 可取 $a_{1}, \cdots, a_{n}, b_{1}, \cdots, b_{k}$ 满足

$$
\left\{\begin{array}{l}
a_{i} \equiv i(\bmod n) \\
a_{i} \equiv 1(\bmod k)
\end{array}(1 \leq i \leq n),\left\{\begin{array}{l}
b_{j} \equiv j(\bmod k) \\
b_{j} \equiv 1(\bmod n)
\end{array}(1 \leq j \leq k)\right.\right.
$$

不难验证这取法满足要求.

下面证明若存在这样的 $a_{1}, \cdots, a_{n}, b_{1}, \cdots, b_{k}$ (即 $a_{i} b_{j}(1 \leq i \leq n, 1 \leq j \leq k)$遍历模 $n k$ 的完系), 则 $(n, k)=1$. 首先容易证明如下引理.

引理 设 $M \in \mathbb{N}^{*}, C, D \in \mathbb{Z}$, 则 $M \mid C D$ 蕴含了 $M \mid(M, C) \times(M, D)$.

回到原题, 由假设知存在 $i, a_{i} b_{i} \equiv 0(\bmod n k)$, 不妨设 $n k \mid a_{1} b_{1}$. 于是由引理,

$$
n k \mid\left(a_{1}, n k\right) \times\left(b_{1}, n k\right) \text {. }
$$

记 $d=\left(a_{1}, n k\right)$, 则 $a_{1} b_{1}, a_{1} b_{2}, \cdots, a_{1} b_{k}$ 是 $k$ 个 $d$ 的倍数, 而由条件, 它们模 $n k$ 互异. 因在一个模 $n k$ 完系中恰有 $\frac{k n}{d}$ 个 $d$ 的倍数, 故 $k \leq \frac{k n}{d},\left(a_{1}, n k\right)=d \leq n$. 同理 $\left(b_{1}, n k\right) \leq k$. 结合 $(*)$ 可知

$$
\left(a_{1}, n k\right)=n,\left(b_{1}, n k\right)=k .
$$

考虑等号成立条件, 即知

$$
A=\left\{a_{1} b_{1}, a_{1} b_{2}, \cdots, a_{1} b_{k}\right\}
$$

是模 $n k$ 的完系中所有 $n$ 的倍数的集合,

$$
B=\left\{b_{1} a_{1}, b_{1} a_{2}, \cdots, b_{1} a_{n}\right\}
$$

是模 $n k$ 的完系中所有 $k$ 的倍数的集合.

由条件可知 $|A \cap B|=\left|\left\{a_{1}, b_{1}\right\}\right|=1$, 又由上述知

$$
|A \cap B|=\mid\{x \in\{1, \cdots, n k\} \mid n \text { 和 } k \text { 均整除 } x\} \left\lvert\,=\frac{n k}{[n, k]}=(n, k)\right. \text {. }
$$

故 $(n, k)=1$, 证毕.

评注 对中国剩余定理了解的同学应很快能猜测 $(n, k)=1$ 并给出构造. 证明时，通过对 “零点” 的研究可以找出一个特殊结构，在这个结构中用计数手段导出结论. 这一系列想法还可以解决如下的问题:

设 $p$ 是素数, $a_{k}, b_{k}\left(1 \leq k \leq p^{2}\right)$ 是整数. 已知对任意不全被 $p$ 整除的整数 $x, y, p^{2}$ 个数 $a_{k} x+b_{k} y\left(1 \leq k \leq p^{2}\right)$ 取到模 $p$ 的每个余数恰好 $p$ 次. 证明: 对任意整数 $m, n$, 都存在 $1 \leq k \leq p^{2}$ 使得 $a_{k} \equiv m(\bmod p), b_{k} \equiv n(\bmod p)$.

通过素数或其它角度还可以给出本题 $(n, k)=1$ 的不同证明. 本题需要找到适宜的切入点, 比较困难.

## 2009 年

2009.1 给定正整数 $n, k$, 在 $n \times k$ 的方格表每一行中填入 $1,2, \cdots, k$ 的一个排列, 计算每列的和. 设 $S$ 是这些和中最大者, 求 $S$ 的最小值.

解 $n=1$ 时显然 $S$ 最小值为 $k$, 下设 $n \geq 2$. 此时方格表中各数之和为 $\frac{k(k+1)}{2} \cdot n$, 因此一定有一列各数之和不小于 $\left\lceil\frac{k+1}{2} \cdot n\right\rceil$, 下面给出使各列数之和均不大于 $\left\lceil\frac{k+1}{2} \cdot n\right\rceil$ 的例子.

$1^{\circ} n$ 为偶数

此时奇数行从左到右依次填 $1,2, \cdots, k-1, k$, 偶数行填 $k, k-1, \cdots, 2,1$ 即可.

$2^{\circ} n$ 为奇数

对于前 $n-2$ 行, 填法同 $1^{\circ}$. 对于后两行, 分两种情况:
a) $k$ 为偶数, 令 $k=2 t$, 则分别填

| $t+1$ | $t+2$ | $\cdots$ | $2 t-1$ | $2 t$ | 1 | 2 | $\cdots$ | $t-1$ | $t$ |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| $2 t$ | $2 t-2$ | $\cdots$ | 4 | 2 | $2 t-1$ | $2 t-3$ | $\cdots$ | 3 | 1 |

b) $k$ 为奇数, 令 $k=2 t+1$, 则分别填

| $2 t+1$ | $t$ | $2 t$ | $t-1$ | $2 t-1$ | $t-2$ | $\cdots$ | 2 | $t+2$ | 1 | $t+1$ |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| $t+1$ | $2 t+1$ | $t$ | $2 t$ | $t-1$ | $2 t-1$ | $\cdots$ | $t+3$ | 2 | $t+2$ | 1 |

评注 构造可以研究 $k=5,6$ 时的特例, 加以推广需要细致. 本题是简单题.

2009.2 求所有正整数对 $(a, b)$ 使得正整数集可划分为集合 $H_{1}, H_{2}$, 满足 $a, b$ 均不能表示为 $H_{i}$ 中两数之差, $i=1,2$.

解 设 $a=2^{\alpha} x, b=2^{\beta} y,(x y, 2)=1$. 下证 $a, b$ 满足条件当且仅当 $\alpha=\beta$.

若 $\alpha \neq \beta$ 且 $a, b$ 满足条件, 不妨设 $\alpha>\beta$, 且 $1 \in H_{1}$. 于是

$$
1+a \in H_{2}, 1+2 a \in H_{1}, 1+3 a \in H_{2}, \cdots
$$

归纳知 $1+2 k a \in H_{1}, k \in \mathbb{N}^{*}$, 同理 $1+2 n b \in H, n \in \mathbb{N}^{*}$. 从而由条件, 方程

$$
(1+2 k a)-(1+2 n b)=a
$$

无正整数解 $(n, k)$.

注意到 $(*)$ 即

$$
a=\frac{2 b n}{2 k-1}
$$

我们取 $n_{0}=2^{\alpha-\beta-1} \cdot x^{2}, k_{0}=\frac{x y+1}{2}$, 则由 $\alpha>\beta$ 知 $\left(n_{0}, k_{0}\right)$ 是 $(* *)$ 的正整数解,矛盾.

若 $\alpha=\beta$, 我们给出 $H_{1}, H_{2}$ 的构造: 记 $\bar{n}$ 为整数 $n$ 模 $2^{\alpha+1}$ 的最小正剩余, 取

$$
H_{1}=\left\{n \in \mathbb{N}^{*} \mid 1 \leq \bar{n} \leq 2^{\alpha}\right\}, H_{2}=\left\{n \in \mathbb{N}^{*} \mid 2^{\alpha}+1 \leq \bar{n} \leq 2^{\alpha+1}\right\} .
$$

容易验证 $H_{1}, H_{2}$ 满足条件. 综上便说明了 $a, b$ 满足条件当且当 $\alpha=\beta$.

评注 顺推可以知道 $(* *)$ 无解 $(n, k)$, 这导出 $\alpha \leq \beta$, 同理 $\alpha \geq \beta$, 故 $\alpha=\beta$.对 $\alpha$ 归纳也可给出可行的构造. 本题难度中等.

2009.3 求所有函数 $f: \mathbb{Z} \rightarrow \mathbb{Q}$ 满足: 若 $f(x)<c<f(y)$ 对某个 $c \in \mathbb{Q}$ 成立, 则 $f$ 可取到 $c$. 并且对任意和为零的整数 $x, y, z$, 均有

$$
f(x)+f(y)+f(z)=f(x) f(y) f(z) .
$$

解 易验证 $f \equiv 0$ 满足条件, 下证 $f$ 只能恒等于零. 用 $P(x, y, z)$ 代表条件式 $f(x)+f(y)+f(z)=f(x) f(y) f(z)$.

$$
P(0,0,0) \Rightarrow(f(0))^{3}=3 f(0)
$$

又 $f(0) \in \mathbb{Q}$, 故 $f(0)=0$.

$$
P(x,-x, 0) \Rightarrow f(-x)=-f(x)
$$

故 $f$ 是奇函数.

若有 $x$ 使 $f(x) \geq 1$, 则由 $f(0)=0$ 及已知, 存在 $y$ 使得 $f(y)=1$.

$$
P(y, y,-2 y) \Rightarrow 2+f(-2 y)=f(-2 y)
$$

不可能.

因此总有 $f(x)<1$, 由 $f$ 是奇函数知总有 $|f(x)|<1$.

若有 $x$ 使 $f(x)>0$,

$$
\begin{aligned}
P(x, x,-2 x) & \Rightarrow 2 f(x)-f(2 x)=-(f(x))^{2} f(2 x) \\
& \Rightarrow f(2 x)=\frac{2 f(x)}{1-(f(x))^{2}}>2 f(x) .
\end{aligned}
$$

因此对 $n \in \mathbb{Z}_{+}$, 递归得 $f\left(2^{n} x\right)>2^{n} f(x)$. 令 $n \rightarrow \infty$ 得 $f\left(2^{n} x\right) \geq 1$, 矛盾.

故总有 $f(x) \leq 0$, 由 $f$ 是奇函数知 $f \equiv 0$.

评注 初看条件可能会觉得 $f$ 和 (双曲) 正切函数有关, 但稍加推理即可否定大多数情形. 由题给条件容易发现 $f$ 是奇函数, 后面的论证一气呵成, 有少许分析的思想. 本题作为第 3 题过于简单，可能是介值条件太强导致的.

## 2008 年

2008.1 用 $d(n)$ 表示正整数 $n$ 的正因数个数. 求最小常数 $c$ 使得 $d(n) \leq$ $c \sqrt{n}$ 对所有正整数 $n$ 成立.

解 设正整数 $n$ 的标准分解为 $n=p_{1}^{\alpha_{1}} \cdots p_{k}^{\alpha_{k}},\left(k \geq 0, \alpha_{i} \geq 1\right)$, 我们来求出 $\left(\frac{d(n)}{\sqrt{n}}\right)^{2}=\prod_{i=1}^{k} \frac{\left(\alpha_{i}+1\right)^{2}}{p_{i}^{\alpha_{i}}}$ 的最大值.

对 $p_{i} \geq 5$, 注意到

$$
p_{i}^{\alpha_{i}} \geq\left((\sqrt{5})^{\alpha_{i}}\right)^{2}>\left((\sqrt{5}-1) \alpha_{i}+1\right)^{2}>\left(\alpha_{i}+1\right)^{2}
$$

即有 $\frac{\left(\alpha_{i}+1\right)^{2}}{p_{i}^{\alpha_{i}}}<1$ 成立.

对 $p_{i}=3$, 注意到 $\frac{(\alpha+1)^{2}}{3^{\alpha}} \geq \frac{\alpha^{2}}{3^{\alpha-1}}$ 对 $\alpha \in \mathbb{N}^{*}$ 仅在 $\alpha=1$ 时成立, 故

$$
\max _{\alpha \in \mathbb{N}^{*}} \frac{(\alpha+1)^{2}}{3^{\alpha}}=\left.\frac{(\alpha+1)^{2}}{3^{\alpha}}\right|_{\alpha=1}=\frac{4}{3}
$$

类似地, 对 $p_{i}=2$ 有

$$
\max _{\alpha \in \mathbb{N}^{*}} \frac{(\alpha+1)^{2}}{2^{\alpha}}=\left.\frac{(\alpha+1)^{2}}{2^{\alpha}}\right|_{\alpha=2}=\frac{9}{4}
$$

因此 $\prod_{i} \frac{\left(\alpha_{i}+1\right)^{2}}{p_{i}^{\alpha_{i}}} \leq \frac{4}{3} \times \frac{9}{4}=3$, 故 $\frac{\alpha(n)}{\sqrt{n}} \leq \sqrt{3}$. 等号在 $n=12$ 成立, 故 $c$ 的最小值为 $\sqrt{3}$.

评注 我们知道 $d(n)$ 是达不到的幕函数量级的 (用本题解法中的表示即可证明这一点), 但对于本题仍需进行标准分解细致讨论每一项的最值. 本题是简单题.

2008.2 设 $n \geq 2$ 及 $a_{1}<a_{2}<\cdots<a_{n}$ 为整数, 定义集合

$$
\begin{gathered}
S=\left\{(i, j) \mid 1 \leq i<j \leq n, a_{j}-a_{i} \text { 为 } 2 \text { 的幂 }\right\}, \\
T=\{(i, j) \mid 1 \leq i<j \leq n, j-i \text { 为 } 2 \text { 的幂 }\},
\end{gathered}
$$

这里 2 的幂形如 $1,2,4, \cdots$. 证明: $|S| \leq|T|$.

解 即要证明 $|S| \leq \sum_{k=0}^{\left[\log _{2} n\right]}\left(n-2^{k}\right)$, 对 $n$ 归纳证明这一结论.

$n=2$ 时命题平凡成立, 对 $n \geq 3$, 设命题对于小于 $n$ 的正整数成立, 考虑 $n$的情形.

不妨设所有的 $a_{j}-a_{i}$ 中至少有一个奇数, 从而在 $a_{i}(1 \leq i \leq n)$ 中奇数和偶数都有, 将其中奇数从小到大排列为 $c_{1}<c_{2}<\cdots<c_{s}$, 偶数为 $d_{1}<d_{2}<\cdots<d_{t}$. 其中 $s, t \in \mathbb{N}^{*}$, 不妨设 $s \leq t$.

注意若 $a_{j}, a_{i}$ 为一奇一偶且 $a_{j}-a_{i}$ 是 2 的幂, 则 $a_{j}-a_{i}=1$, 这样的 $(i, j)$ 对子不多于 $\min \{n-1,2 s\}$ 个. 从而若设

$$
\begin{aligned}
& C=\left\{(i, j) \mid 1 \leq i<j \leq s, c_{j}-c_{i}=2^{k}\right\} \\
& D=\left\{(i, j) \mid 1 \leq i<j<s, d_{i}-d_{j}=2^{k}\right\},
\end{aligned}
$$

则 (对 $a_{i}-a_{j}$ 的奇偶性讨论) $|S| \leq|C|+|D|+\min \{n-1,2 s\}$.

下证上式右端的值不大于 $\sum_{k=0}^{\left[\log _{2} n\right]}\left(n-2^{k}\right)$. 记 $p=\left[\log _{2} n\right]$. 则有

$$
s \leq \frac{1}{2}(s+t)=\frac{1}{2} n<2^{p}, 2^{p-1} \leq t<2^{p+1} .
$$

进一步分类讨论如下:

(1) $2^{p-1} \leq s<2^{p}$, 且 $2^{p-1} \leq t<2^{p}$. 则由归纳假设,

$$
\begin{aligned}
|C|+|D|+\min \{n-1,2 s\} & \leq \sum_{k=0}^{p-1}\left(s-2^{k}\right)+\sum_{k=0}^{p-1}\left(t-2^{k}\right)+n-1 \\
& =\sum_{k=0}^{p-1}\left((s+t)-2^{k+1}\right)+n-1
\end{aligned}
$$

$$
=\sum_{k=0}^{p}\left(n-2^{k}\right)
$$

(2) $2^{p-1} \leq s<2^{p}, t \geq 2^{p}$. 则由归纳假设,

$$
\begin{aligned}
& |C|+|D|+\min \{n-1,2 s\} \\
\leq & \sum_{k=0}^{p-1}\left(s-2^{k}\right)+\sum_{k=0}^{p}\left(t-2^{k}\right)+2 s \\
= & \sum_{k=0}^{p-1}\left((s+t)-2^{k+1}\right)+t-2^{p}+2 s .
\end{aligned}
$$

故只用证

$$
t-2^{p}+2 s \leq n-1 .
$$

而这等价于 $s-2^{p} \leq-1$, 由此种情形的前提知成立.

(3) $s<2^{p-1}, 2^{p-1} \leq t<2^{p}$. 设 $\left[\log _{2} s\right]=q$, 则 $q<p-1$, 类似 (1) 知只用证

$$
\sum_{k=0}^{q}\left(s-2^{k}\right)+\sum_{k=0}^{p-1}\left(t-2^{k}\right)+2 s \leq \sum_{k=0}^{p-1}\left(s-2^{k}\right)+\sum_{k=0}^{p-1}\left(t-2^{k}\right)+n-1 .
$$

这等价于

$$
\begin{aligned}
& 2 s+\sum_{k=q+1}^{p-1}\left(2^{k}-s\right) \leq n-1 \\
\Leftrightarrow & 2^{p}-2^{q+1}-(p-1-q) s+2 s \leq n-1 .
\end{aligned}
$$

注意 $p-1-q \geq 1$, 故只用证

$$
2^{p}-2^{q+1}+s \leq n-1 .
$$

由 $s \leq 2^{q+1}-1,2^{p} \leq n$ 知上式成立.

(4) 若 $s<2^{p-1}, 2^{p} \leq t<2^{p+1}$. 类似于 (3), 设 $q=\left[\log _{2} s\right]$, 则只需证

$$
2 s+\sum_{k=q+1}^{p-1}\left(2^{k}-s\right)+t-2^{p} \leq n-1
$$

这等价于

$$
-2^{q+1}-(p-1-q) s+s+n \leq n-1
$$

由 $p-1-q \geq 1,-2^{q+1}<-1$. 知上式成立.

综上所述, 命题归纳得证.

需要想到归纳法本题才好入手, 讨论细节也比较繁琐. 本题较为困难.

2008.3 在一个遥远的国度里, 某些城市之间建有直达的火车或汽车线路,不一定可双向到达. 已知对任两城 $A, B$, 可以从 $A$ 到 $B$ 或从 $B$ 到 $A$ 只用汽车或只用火车.
证明：存在一座城市, 从它到达其他任何一座城市可以只用一种交通工具 (到不同城市用的交通工具不必相同).

证明 构造图 $G$ 如下: $G$ 的顶点为各个城市, 对任意两座城市 $u \neq v$, 不妨设从 $u$ 到 $v$ 只用一种交通工具, 则连边 $u \rightarrow v$ 并染上这种交通工具对应的颜色(特别注意这里的连边不是依据从 $u$ 到 $v$ 是否可以直达, 而是依据是否可以到达. 当然即便我们假设可以直达, 不难看出这与原命题仍然是等价的). 于是 $G$ 是竞赛图, 边被二染色. 要求证明存在一个顶点 $w$, 从它出发到任意一个顶点都有单色有向路, 这样的顶点 $w$ 称为“枢纽”.

设 $G$ 的顶点集为 $V$, 对 $G$ 的元素数目 $n$ 归纳. $n=2$ 时显然, 假设结论在 $n-1$ 时成立, 考虑 $n$ 的情形.

假设结论不成立. 由归纳假设, 对任意 $v \in V$, 在 $V \backslash\{v\}$ 的诱导子图中都有枢纽, 设为 $s(v)(\neq v)$. 于是对任意的 $v \neq v^{\prime}$, 有 $s(v) \neq s\left(v^{\prime}\right)$, 否则 $s(v)$ 是 $G$ 中的枢纽. 从而 $s$ 是 $V$ 到自身的单射, 因 $V$ 是有限集, 故 $s$ 是双射. 令 $s^{-1}=f$.

由反证法假设, 对任意顶点 $v, v$ 到除了 $f(v)$ 之外的各顶点均有单色有向路.

因此 $f$ 没有不动点, 故 $f$ 必有映射圈, 即存在正整数 $k$ 以及 $v_{1}, v_{2}, \cdots, v_{k} \in$ $V$, 使得

$$
f\left(v_{i}\right)=v_{i+1}\left(1 \leq i \leq k, v_{k+1}=v_{i}\right)
$$

若 $k<n$, 则 $G$ 限制在 $\left\{v_{1}, v_{2}, \cdots, v_{k}\right\}$ 上的诱导子图没有枢纽, 与归纳假设矛盾. 故 $k=n$, 即 $v=\left\{v_{1}, v_{2}, \cdots, v_{n}\right\}$, 映射圈是一个 Hamilton 圈.

对任意的 $u \neq v, u, v \in V$, 从 $u$ 到 $v$ 不能同时有两种颜色的单色有向路. 否则从 $u$ 到 $f(u)$ 可以中途经过 $v$ 形成单色有向路(因为 $v$ 到 $f(u)$ 有单色有向路),矛盾. 因此对 $v \neq f(u)$, 可设 $c(u v)$ 是从 $u$ 到 $v$ 的单色有向路的唯一颜色, 并且 $c(u v) \neq c(v f(u))$.

于是 $c(u v) \neq c(v f(u)) \neq c(f(u) f(v))$, 故 $c(u v)=c(f(u) f(v))$ 对 $u \neq$ $v \neq f(u)$ 均成立. 此即对任意 $1 \leq k \leq n, m>1$ 有 $c\left(v_{k} v_{k+m}\right)=c\left(v_{k+1} v_{k+m+1}\right)$,进而递推得

$$
c\left(v_{k} v_{k+m}\right)=c\left(v_{k+m} v_{k+2 m}\right)(\text { 下标按模 } n \text { 理解 }) \text {. }
$$

取 $m>1$ 且 $m$ 与 $n$ 互素, 由此及 $(*)$ 即知对任意 $u \neq v$, 都有从 $u$ 到 $v$ 的 $c\left(v_{0} v_{m}\right)$ 色有向路, 与反证假设矛盾. 故原题得证.

评注 用尽归纳假设可以帮我们处理掉大多情况, 并引出映射 $f$, 较清楚地
刻画图的连通结构. $c$ 的引入及相关推理需要观察和巧思, 这之后可以考虑证明映射 $f$ 对应的有向图具有某种连通性. 本题的思维链比较长, 并且推理容易找不到方向, 有相当难度.

## 参考文献

[1] Victor V.Prasolov.Polynomials [M]. Berlin:Springer, 2010:155.

[2] H.Davernport. On $f^{3}(t)-g^{2}(t)[\mathrm{J}]$. Norske Vid.Selsk.Forh. 38(1965):86-87.

[3] Martin Aigner,Günter M. Ziegler. Proofs from The Book, 3E[M]. Berlin: Springer, 2004:185-190.

[4] 冷岗松. 数学竞赛问题与感悟, 第二卷, 研究文集 $[M]$. 上海: 华东师范大学出版社, 2019.


[^0]:    修订日期: 2020-03-17.

