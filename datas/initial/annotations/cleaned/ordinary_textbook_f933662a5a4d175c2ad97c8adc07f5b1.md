$$
\frac{\text { 数学新星网 } \text { 学生专栏 }}{\text { www.nsmath.cn/xszl }}
$$

# 一个组合问题的推广 

段钦瀚

(湖南省雅礼中学, 410007)

组合问题中常出现一些有特定数值的题, 若猜想将这个数值变为一般的数,即可以将一个简单问题归纳到一个一般问题, 当然其中的方法可能类似, 也可能需要更具普遍性的思路去解决问题. 反过来看, 一些题目具有一定的难度, 但如果我们对较为简单特殊的情况分析, 也许会帮助我们找到思路, 得出答案. 本文介绍一个实例, 由一个较为简单的组合问题引发思考, 从而推广到一般情形.首先介绍一个具有特殊值的较易问题:

问题 1. 一只老鼠吃 $3 \times 3 \times 3$ 立方体的乳酪, 其方法是借助于打洞通过所有的 27 个 $1 \times 1 \times 1$ 小立方体. 如果它在一个角开始, 然后依次走向未吃的立方体, 问它吃完时能否恰在立方体的中心?

解 答案是否定的. 下面运用反证法证明: 假设存在这样一种方法满足题意.

定义有公共面的小立方体为 “相邻的” 。如图所示,按如下方式将 $3 \times 3 \times 3$ 的立方体染色: 任选一个角上的小立方体染为红色, 与红色小立方体相邻的小立方体染为蓝色, 与蓝色小立方体相邻的小立方体染为红色. 则红色


小立方体有 14 个, 蓝色的有 13 个. 中心的小立方体为蓝色.

作二部图 $G\left(V_{1}, V_{2}, E\right)$, 点集 $V_{1}$ 中的每个点对应一个红色小立方体, $V_{2}$ 中的每个点对应一个蓝色小立方体. 当且仅当两小立方体为相邻的时将对应顶点连边. 显然老鼠任一种满足题意的走法中, 所走的立方体是红蓝相间的，由于第一块立方体是红色的, 最后一块立方体是蓝色的. 故老鼠必走过偶数块立方体, 而有奇数块立方体, 则老鼠必定未吃完所有奶酪. 矛盾!

因此, 不存在满足题意的方法.

上面这个问题稍加思索就能发现答案是否定的, 命题证明的思路也比较自收稿日期: 2017-11-12； 修订日期: 2017-12-19.
然. 但我们注意到 “ 3 ” 这个数字对于这个题的证明似乎意义不大, 而结论引发我们思考这样两个问题:

(1) 对于怎样的立方体, 它不存在这样的一种走法?

(2) 对于怎样的立方体, 它存在这样的一种走法?

故我们尝试将 “ 3 ” 推广到奇数 “ $n$ ” $(n$ 为奇数保证存在唯一的中心小立方体), 从而尝试解决上面提出的两个问题. 考虑到上述问题中, 悬空的乳酪在题设中是不掉落的, 这不符合物理常识, 因此我们将背景稍作改动, 但不改变题意.

问题 2. 某款游戏内每个小方块均为 $1 \times 1 \times 1$ 的立方体并且小方块可以悬浮在空中. 现在游戏内有一个由小方块组成的 $n \times n \times n$ 立方体的大方块. 定义有公共面的小方块是相邻的. 现在需要按如下游戏规则敲掉这个大方块: 任选大方块一个角上的小方块并敲去, 之后每一次只能敲去与上一次敲去的小方块相邻的一个小方块. 求所有的正奇数 $n$ 使得存在一种方法, 满足最后敲去的小方块为大方块的中心。

其实根据 “ 3 ” 的情形所运用的方法, 我们得到答案并不困难. 但对符合条件的 $n$ 的构造需要一些好的想法才能做到.

解 $n=4 k+1(k \in \mathbb{N})$ 为所求, 理由如下:

当 $n=4 k+3$ 时不存在这样的方法, 证明的方法与问题 1 的证明方法完全相同, 这里不再叙述.

当 $n=4 k+1$ 时, 有 $k=0$ 时显然成立, 下考虑 $k \geq 1$ 的情形.

首先证明一个引理:

引理 1. 若能够按照题目要求的规则敲去一个由小方块组成的 $s \times t \times 1$ ( $s, t$ 为大于 1 的奇数) 长方体方块, 则对任意正整数 $r$, 均能按照题目要求的规则敲去一个由小方块组成的 $s \times t \times(4 r+1)$ 长方体方块.

引理证明 对于 $s \times t \times(4 r+1)$ 长方体方块, 考虑其俯视图为一个由 $s t$ 个 $1 \times 1$ 正方形组成的 $s \times t$ 矩形.

由题意, 存在一种敲去 $s \times t \times 1$ 长方体方块方法, 不妨设为 $M$.

如图所示, 设 $M$ 中敲去的第一个方块称为 $A$, 第二个方块称为 $C$, 敲去的最后一个方块称为 $B$. 由 $s, t \geq 3$ 可知 $B \neq C$.

设从 $B$ 到 $A$ 按 $M$ 原路返回的方法为 $N$.

$M$ 中从 $C$ 到 $B$ 的方法为 $M^{\prime}$ (即在 $M$ 中去掉 $A$ ).



$N$ 中从 $B$ 到 $C$ 的方法为 $N^{\prime}$ (即在 $N$ 中去掉 $A$ ).
设 $s \times t \times(4 r+1)$ 长方体的方块以 $s \times t$ 矩形为底面由下往上数依次为第 $1,2, \cdots, 4 r+1$ 层, 第 $i$ 层中 $A, B, C$ 对应的方块为 $A_{i}, B_{i}, C_{i}(i=1,2, \cdots, 4 r+1)$.

下面给出敲去 $s \times t \times(4 r+1)$ 长方体的构造.

从 $A_{1}$ 开始敲, 按照 $M$ 从 $A_{1}$ 敲到 $B_{1}$, 然后敲 $B_{2}$ ( $B_{2}$ 在 $B_{1}$ 上方), 再按照 $N$从 $B_{2}$ 敲到 $A_{2}$. 再敲 $A_{3}\left(A_{3}\right.$ 在 $A_{2}$ 上方 $)$, 从 $A_{3}$ 开始重复上述操作可敲到 $A_{4}$, 以此类推不断重复上述操作, 则由 $A_{1}$ 一直敲到 $A_{2 r}$.

由于 $A_{i+1}$ 在 $A_{i}$ 上方 $(1 \leq i \leq 4 r)$, 则可从 $A_{2 r}$ 一直往上敲至 $A_{4 r+1}$, 然后敲 $C_{4 r+1}\left(C_{4 r+1}\right.$ 与 $A_{4 r+1}$ 相邻).

接下来按照 $M^{\prime}$ 从 $C_{4 r+1}$ 敲到 $B_{4 r+1}$, 然后敲 $B_{4 r}$ ( $B_{4 r}$ 在 $B_{4 r+1}$ 下方), 再按照 $N^{\prime}$ 从 $B_{4 r}$ 敲到 $C_{4 r}$. 再敲 $C_{4 r-1}\left(C_{4 r-1}\right.$ 在 $C_{4 r}$ 下方 $)$, 从 $C_{4 r-1}$ 开始重复上述操作可敲到 $C_{4 r-2}$, 以此类推不断重复上述操作, 则由 $C_{4 r+1}$ 一直敲到 $C_{2 r+2}$.

再敲 $C_{2 r+1}$, 最后按照 $M^{\prime}$ 从 $C_{2 r+1}$ 敲到 $B_{2 r+1}$.

至此我们敲掉了 $s \times t \times(4 r+1)$ 长方体的所有小方块.

注意到 $B_{2 r+1}$ 为中心的小方块, 故引理得证.

回到原题, 对于 $n=4 k+1$,

由引理 1 只需证明存在方法 $M$ 使得可以按照题意敲去 $n \times n \times 1$ 长方体方块. 运用归纳法证明上述命题对奇数 $n$ 均成立.

当 $n=1$ 是显然成立. 若对 $n-2(n \geq 3)$ 成立, 考虑 $n$ 的情形, 首先依次敲去最外围的 $4 n-4$ 个小方块, 剩余部分为 $(n-2) \times(n-2) \times 1$ 长方体, 显然接下来敲去的小方块必为该立方体的一角, 由归纳假设, 对 $n$ 成立.

由此可知, 方法 $M$ 是存在的, 因此 $n=4 k+1$ 为题目所求.

尽管这个问题做完了, 不过其中有些细节还需要加以说明.

首先, 关于敲去 $n \times n \times 1$ 长方体方块, 构造是显然的 (归纳仅是为了方便叙述), 实际上即从最外圈一圈一圈地往里面敲. (如图所示为 $n=5$ 的情形)

因此, 我们希望引理 1 是成立的. 进一步, 我们发现,由于上述 $n$ 为奇数时均成立, 故引理 1 的成立, 同样可以推出对于奇数 $n$ 及正整数 $r$, 我们可以按照规则敲去 “ $n \times n \times(4 r+1)$ ” 的长方体方块.

由此, 我希望找到所有满足条件的长方体, 故将题目进一步推广:



问题 3. 某款游戏内每个小方块均为 $1 \times 1 \times 1$ 的立方体并且小方块可以悬浮在空中. 现在游戏内有一个由小方块组成的 $x \times y \times z(x, y, z$ 为正奇数) 长方
体的大方块. 定义有公共面的小方块是相邻的. 现在需要按如下游戏规则敲掉这个大方块: 任选大方块一个角上的小方块并敲去, 之后每一次只能敲去与上一次敲去的小方块相邻的一个小方块. 求所有的 $(x, y, z)$ 使得存在一种方法, 满足最后敲去的小方块为大方块的中心。

首先, 我们用与问题 1 同样的方法可以发现, 当 $x y z \equiv 3(\bmod 4)$ 时是不成立的, 那么我们考虑 $x y z \equiv 1(\bmod 4)$ 能否成立呢?

首先排除掉一些小情况 (有至少两个值为 1 时: 全为 1 可以, 但恰有两个 1 是不行的), 然后注意到, 当 $x, y, z$ 中至多一个是 1 且 $x y z \equiv 1(\bmod 4)$ 时, $x, y, z$中必有一个是模 4 余 1 的, 不妨设为 $z$, 我们就会发现, 此时如果可以按照规则敲去 “ $x \times y \times 1$ ” 的长方体方块, 那么由引理 1 可知当 $x y z \equiv 1(\bmod 4)$ 时是可以满足题意的. 事实上这是成立的, 并且可与问题二中一样运用归纳法说明, 有异曲同工之妙. (然而此时直接构造并不显然)

解 满足 $x y z \equiv 1(\bmod 4)$ 且 $x, y, z$ 中至多一个 1 的 $(x, y, z)$ 及 $(1,1,1)$ 为所求.

首先 $(x, y, z)=(1,1,1)$ 显然成立. 而当 $x, y, z$ 中恰有两个 1 时显然不成立.

当 $x y z \equiv 3(\bmod 4)$ 时不存在这样的方法, 证明的方法与问题 1 的证明方法完全相同, 这里不再叙述.

当 $x y z \equiv 1(\bmod 4)$ 且 $x, y, z$ 中至多一个 1 时, 先证明两个引理:

引理 1 . 同问题 2 中的引理 1.

引理 2. 能够按照题目要求的规则敲去一个由小方块组成的 “ $x \times y \times 1$ ”长方体方块, 其中 $x \equiv y(\bmod 4)$ 且 $x, y$ 为大于 1 的正奇数.

引理证明 首先证明, 能够按照题目要求的规则敲去一个由小方块组成的 “ $n \times 3 \times 1$ ” 长方体方块, 其中正整数 $n$ 满足 $4 \mid n+1$. 设 $n=4 b+3(b \in \mathbb{N})$.

设第 $i$ 行第 $j$ 列的数为 $a_{i j}(1 \leq i \leq 3,1 \leq j \leq n)$, 不妨设首先敲去 $a_{11}$, 依次敲去 $a_{12}, a_{13}, \cdots, a_{1(2 b+1)}$, 进一步敲去 $a_{2(2 b+1)}, a_{2(2 b)}, \cdots, a_{21}$, 再依次敲去 $a_{31}, a_{32}, \cdots, a_{3 n}$. 接着依次敲去 $a_{2 n}, a_{1 n}, a_{1(n-1)}, a_{2(n-1)}, a_{2(n-2)}, a_{1(n-2)}, \cdots$, $a_{1(2 b+3)}, a_{1(2 b+2)}, a_{2(2 b+2)}$. 成立!

(特别地, 如图所示为 “ $7 \times 3 \times 1$ ” 长方体的构造)

下面运用数学归纳法证明引理:

不妨设 $x \geq y$. 对 $m=x+y$ 归纳:

(注意 $m \geq 6$ 且 $m \equiv 2(\bmod 4)$ )



当 $m=6$ 时 $x=y=3$, 在上述命题中取 $n=3$, 成立.
假设命题对 “ $m-4$ ” $(m \geq 10)$ 成立, 考虑 “ $m$ ” 的情形: 对于 “ $x \times y \times 1$ ”长方体 $(m=x+y)$. 若 $y=3$, 在上述命题中取 $n=m-3$, 则 $n \equiv 3(\bmod 4)$,成立.

若 $y \geq 5$, 依次敲去最外围的 $2 m-4$ 个小方块, 剩余部分为 “ $(x-2) \times(y-$ 2) $\times 1$ ” 长方体, 显然接下来敲去的小方块必为该长方体的一角, 由归纳假设,成立. 由归纳原理, 则引理 2 获证!

回到原题, 由 $x y z \equiv 1(\bmod 4)$ 可知存在 $x, y, z$ 中的一个数模 4 余 1 , 不妨设为 $z$, 若 $x, y, z$ 中有一个数为 1 , 由引理 2 成立.

否则, $x, y, z \geq 3$. 由引理 2 , 存在按照题目要求的规则敲去一个由小方块组成的 “ $x \times y \times 1$ ” 长方体方块的方法, 由引理 1 , 进一步推出存在按照题目要求的规则敲去一个由小方块组成的 “ $x \times y \times z$ ” 长方体方块的方法.

综上所述, 所有满足 $x y z \equiv 1(\bmod 4)$ 且 $x, y, z$ 中至多一个 1 的 $(x, y, z)$ 及 $(1,1,1)$ 为所求.

可以发现, 这样的一个三维问题, 我们的构造看似复杂, 其实是由简单的二维情形入手, 分别进行解决, 最后通过两个二维问题的构造得到问题的解答. 值得注意的是, 我们对于证明问题 2 中首先证明的命题的方法, 可以用其对引理 2 直接构造证明, 当然归纳可以简洁的说明, 但归纳的构造又与直接构造有不同之处, 因此其实对于这样的问题, 我们需要大胆猜测, 大胆构造, 便会发现表面上复杂的构造其实上手并不困难, 当然或许还有其他更为精巧的证明.

至此, 我们成功地将一个简单而有趣的组合问题得到了一个具有一般性的推广, 并且推广得到问题 3 具有一定的难度, 是一道不错的训练题.

最后感谢读者的阅读, 文中如有不恰当或错误之处, 希望读者不吝指正.

## 参考文献

[1] 熊斌, 郑仲义 编著. 数学奥林匹克小丛书 (第二版). 高中卷 12 . 图论 $[\mathrm{M}]$. 上海: 华东师范大学出版社, 2011.12.

