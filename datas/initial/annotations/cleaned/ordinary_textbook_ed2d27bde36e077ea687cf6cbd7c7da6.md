数学新星网 $\%$ 教师专栏

www.nsmath.cn/jszl

# 第 57 届国际数学奥林匹克 

翟振华

(华东师范大学数学系, 200241)

中国 香港

第一天

7月 11 日 9:00-13:30

1. 已知三角形 $B C F$ 中, 角 $B$ 是直角. 在直线 $C F$ 上取点 $A$, 使得 $F A=$ $F B$, 且 $F$ 在点 $A$ 和 $C$ 之间. 取点 $D$, 使得 $D A=D C$, 且 $A C$ 是 $\angle D A B$ 的内角平分线. 取点 $E$, 使得 $E A=E D$, 且 $A D$ 是 $\angle E A C$ 的内角平分线. 设 $M$ 是线段 $C F$的中点. 取点 $X$ 使得 $A M X E$ 是一个平行四边形 (这里 $A M / / E X, A E / / M X$ ).

证明: 直线 $B D, F X$ 和 $M E$ 三线共点.

(比利时 供题)

证明 如图所示.



收稿日期: 2016-07-22.
由条件, 我们有

$$
\angle F A B=\angle F B A=\angle D A C=\angle D C A=\angle E A D=\angle E D A,
$$

记为 $\theta$. 由于 $\triangle A B F \sim \triangle A C D$, 有 $\frac{A B}{A C}=\frac{A F}{A D}$, 于是 $\triangle A B C \sim \triangle A F D$. 又 $E A=$ $E D$, 有

$$
\angle A F D=\angle A B C=90^{\circ}+\theta=180^{\circ}-\frac{1}{2} \angle A E D .
$$

于是 $F$ 在以 $E$ 为圆心, $E A$ 为半径的圆周上, 特别地, $E F=E A=E D$. 再由

$$
\angle E F A=\angle E A F=2 \theta=\angle B F C
$$

可知, $B, F, E$ 共线. 由于 $\angle E D A=\angle M A D$, 因此 $E D / / A M$, 从而 $E, D, X$共线. 由 $M$ 是直角三角形 $C B F$ 斜边 $C F$ 的中点可得, $M F=M B$. 在等腰三角形 $E F A$ 和 $M F B$ 中, $\angle E F A=\angle M F B, A F=B F$, 因此它们全等, 从而 $B M=A E=X M$, 且

$$
B E=B F+F E=A F+F M=A M=E X .
$$

从而 $\triangle E M B \cong \triangle E M X$. 又由于 $E F=E D, D, F$ 关于 $E M$ 对称， $X, B$ 也关于 $E M$ 对称, 从而直线 $B D$ 和 $X F$ 关于 $E M$ 对称. 由此即得 $B D, F X$ 和 $M E$三线共点.

2. 确定所有正整数 $n$, 使得可在一张 $n \times n$ 方格表的每一小方格中填入字母 $I, M, O$ 之一, 满足下列条件:

- 在每一行及每一列中, 恰有三分之一的小方格填入字母 $I$, 三分之一的小方格填入字母 $M$, 三分之一的小方格填入字母 $O$; 并且
- 在每条对角线上, 若该对角线上的小方格个数是三的倍数, 则恰有三分之一的小方格填入字母 $I$, 三分之一的小方格填入字母 $M$, 三分之一的小方格填入字母 $O$.

注 一张 $n \times n$ 方格表的行与列按自然的顺序标记为 1 至 $n$. 由此每个小方格对应于一个正整数对 $(i, j)$, 其中 $1 \leq i, j \leq n$. 对 $n>1$, 这张方格表有两类共计 $4 n-2$ 条对角线. 一条第一类对角线是由 $i+j$ 是某个常数的所有小方格 $(i, j)$ 构成, 一条第二类对角线是由 $i-j$ 是某个常数的所有小方格 $(i, j)$ 构成.

(澳大利亚 供题)

解 答案是所有 9 的倍数.
首先, 对下述 $9 \times 9$ 的表格,

$$
\left(\begin{array}{lllllllll}
I & I & I & M & M & M & O & O & O \\
M & M & M & O & O & O & I & I & I \\
O & O & O & I & I & I & M & M & M \\
I & I & I & M & M & M & O & O & O \\
M & M & M & O & O & O & I & I & I \\
O & O & O & I & I & I & M & M & M \\
I & I & I & M & M & M & O & O & O \\
M & M & M & O & O & O & I & I & I \\
O & O & O & I & I & I & M & M & M
\end{array}\right),
$$

容易直接验证满足条件. 对 $n=9 k, k$ 是正整数, 将 $n \times n$ 的方格表分成 $k^{2}$个 $9 \times 9$ 的小方格表, 每个小方格表按上表方式填入 $I, M, O$. 每一行, 每一列,以及每条小方格个数是三的倍数的对角线, 与每个 $9 \times 9$ 的小方格表的交也是一行, 一列或一条小方格个数是三的倍数的对角线, 或是空集, 因此 $I, M, O$ 的个数相同.

下面假设在一张 $n \times n$ 方格表中存在满足要求的填写方式, 我们证明 $9 \mid n$.由于每行中有相同数目的 $I, M, O$, 因此 $n$ 是 3 的倍数. 设 $n=3 k$, 其中 $k$ 是正整数. 将这张表格分成 $k^{2}$ 个 $3 \times 3$ 的小方格表, 每个小方格表的中心方格称为关键方格, 经过关键方格的线 (行线, 列线或对角线) 均称为关键直线. 考察所有对子 $(\ell, c)$ 构成的集合 $S$, 其中 $\ell$ 是一条关键直线, $c$ 是填入 $M$ 的一个小方格,且 $c$ 在 $\ell$ 上. 用两种方式来计算 $S$ 的元素个数.

一方面, 在每条关键直线 $\ell$ 上, 恰有三分之一的小方格填入了 $M$. 若 $\ell$ 是行线或列线 (共有 $k$ 条关键行线和 $k$ 条关键列线), 则 $\ell$ 上恰有 $k$ 个方格填入 $M$.再对关键对角线计算, 第一类关键对角线分别含有 $3,6,9, \cdots, 3 k, 3 k-3, \cdots, 3$个小方格, 第二类关键对角线也是相同情况, 因此

$$
|S|=2 k \cdot k+2 \times(1+2+\cdots+k+(k-1)+\cdots 1)=2 k^{2}+2 k^{2}=4 k^{2} .
$$

另一方面, 对每个填入 $M$ 的小方格 $c$, 要么 $c$ 恰在一条关键直线上, 要么 $c$ 恰在 4 条关键直线上 (这仅当 $c$ 是关键方格). 由于整张表格中有 $3 k^{2}$ 个小方格填入 $M, 1 \equiv 4(\bmod 3)$, 因此

$$
|S| \equiv 3 k^{2} \quad(\bmod 3) .
$$

从而 $4 k^{2}=|S| \equiv 3 k^{2}(\bmod 3)$, 这导致 $3 \mid k$, 从而 $9 \mid n$. 结论获证.

3. 设 $P=A_{1} A_{2} \cdots A_{k}$ 是平面上的一个凸多边形. 顶点 $A_{1}, A_{2}, \cdots, A_{k}$ 的纵横坐标均为整数, 且都在一个圆上. $P$ 的面积记为 $S$. 设 $n$ 是一个正奇数, 满足 $P$ 的每条边长度的平方是被 $n$ 整除的整数.

证明: $2 S$ 是整数, 且被 $n$ 整除.

(俄罗斯 供题)

证明 由 Pick 定理知, $S$ 是半整数, 因此 $2 S$ 是整数. 以下只需对 $n=p^{t}$ 是奇素数方幂的情形来证明 $n \mid 2 S$.

对 $P$ 的边数 $k$ 进行归纳. 若 $P$ 是三角形, 设 $P$ 的三边长分别为 $a, b, c$, 由假设 $a^{2}, b^{2}, c^{2}$ 都被 $n$ 整除. 根据海伦公式,

$$
16 S^{2}=2 a^{2} b^{2}+2 b^{2} c^{2}+2 c^{2} a^{2}-a^{4}-b^{4}-c^{4} \equiv 0 \quad\left(\bmod n^{2}\right)
$$

因此 $2 S$ 被 $n$ 整除.

假设 $k \geq 4$, 且结论在小于 $k$ 时均成立. 我们说明 $P$ 有一条对角线, 其长度的平方是被 $n$ 整除的整数. 若此结论成立, 用这条对角线将 $P$ 分成两个凸多边形 $P_{1}, P_{2}$, 设面积分别为 $S_{1}, S_{2}$. 由归纳假设可知, $2 S_{1}, 2 S_{2}$ 都是被 $n$ 整除的整数, 因此 $2 S=2 S_{1}+2 S_{2}$ 也被 $n$ 整除, 从而结论获证.

用反证法来证明我们所需的结论, 假设 $P$ 没有一条对角线长度的平方被 $n=p^{t}$ 整除. 用 $v_{p}(N)$ 表示正整数 $N$ 中素因子 $p$ 的次数. 在所有对角线 $A_{i} A_{j}$中, 选取其中一条使得 $v_{p}\left(A_{i} A_{j}^{2}\right)$ 最小, 不妨设

$$
v_{p}\left(A_{1} A_{m}^{2}\right)=\alpha=\min v_{p}\left(A_{i} A_{j}^{2}\right)<t
$$

这里 $2<m<k$.

对圆内接四边形 $A_{1} A_{m-1} A_{m} A_{m+1}$ 应用托勒密定理, 设 $A_{1} A_{m-1}=a$, $A_{m-1} A_{m}=b, \quad A_{m} A_{m+1}=c, \quad A_{m+1} A_{1}=d, \quad A_{m-1} A_{m+1}=e, \quad A_{1} A_{m}=f$,则 $a c+b d=e f$, 两边平方即得

$$
a^{2} c^{2}+b^{2} d^{2}+2 a b c d=e^{2} f^{2}
$$

由于 $a^{2}, b^{2}, c^{2}, d^{2}, e^{2}, f^{2}$ 都是正整数, 我们有 $2 a b c d$ 也是正整数. 分析等式两边素因子 $p$ 的次数.

$$
v_{p}\left(a^{2} c^{2}\right)=v_{p}\left(c^{2}\right)+v_{p}\left(a^{2}\right) \geq t+\alpha,
$$

$$
\begin{aligned}
v_{p}\left(b^{2} d^{2}\right) & =v_{p}\left(b^{2}\right)+v_{p}\left(d^{2}\right) \geq t+\alpha \\
v_{p}(2 a b c d) & =\frac{1}{2}\left(v_{p}\left(a^{2} c^{2}\right)+v_{p}\left(b^{2} d^{2}\right)\right) \geq t+\alpha
\end{aligned}
$$

因此

$$
v_{p}\left(a^{2} c^{2}+b^{2} d^{2}+2 a b c d\right) \geq t+\alpha .
$$

另一方面，

$$
v_{p}\left(e^{2} f^{2}\right)=v_{p}\left(e^{2}\right)+v_{p}\left(f^{2}\right)<t+\alpha
$$

矛盾. 结论获证.

$$
\text { 第二天 }
$$

7月 12 日 9:00-13:30

4. 一个由正整数构成的集合称为 “芳香集”，若它至少有两个元素，且其中每个元素都与其它元素中的至少一个元素有公共的素因子. 设 $P(n)=$ $n^{2}+n+1$. 试问: 正整数 $b$ 最小为何值时能够存在一个非负整数 $a$, 使得集合

$$
\{P(a+1), P(a+2), \cdots, P(a+b)\}
$$

是一个芳香集?

(卢森堡 供题)

解 $b$ 的最小值为 6 . 先证明以下一些结论.

(i) $(P(n), P(n+1))=1$.

这是因为

$$
\begin{aligned}
(P(n), P(n+1)) & =\left(n^{2}+n+1,(n+1)^{2}+(n+1)+1\right)=\left(n^{2}+n+1,2 n+2\right) \\
& =\left(n^{2}+n+1, n+1\right)=(1, n+1)=1 .
\end{aligned}
$$

(ii) $(P(n), P(n+2))=1$ 除非 $n \equiv 2(\bmod 7)$, 此时 $(P(n), P(n+2))=7$.由于

$$
\begin{aligned}
(P(n), P(n+2)) & =\left(n^{2}+n+1,(n+2)^{2}+(n+2)+1\right)=\left(n^{2}+n+1,4 n+6\right) \\
& =\left(n^{2}+n+1,2 n+3\right)=\left(4 n^{2}+4 n+4,2 n+3\right)=(7,2 n+3),
\end{aligned}
$$

仅当 $7 \mid 2 n+3$, 即 $n \equiv 2(\bmod 7)$ 时, $(P(n), P(n+2))=7$, 否则 $(P(n), P(n+$ 2)) $=1$.

(iii) $(P(n), P(n+3))=1$ 除非 $n \equiv 1(\bmod 3)$, 此时 $3 \mid(P(n), P(n+3))$.
当 $n \equiv 1(\bmod 3)$ 时, $3 \mid P(n)$, 故 $3 \mid(P(n), P(n+3))$. 当 $n \not \equiv 1(\bmod 3)$时, $3 \nmid P(n)$, 从而

$$
\begin{aligned}
(P(n), P(n+3)) & =\left(n^{2}+n+1,(n+3)^{2}+(n+3)+1\right)=\left(n^{2}+n+1,6 n+12\right) \\
& =\left(n^{2}+n+1, n+2\right)=\left(4 n^{2}+4 n+4, n+2\right)=(3, n+2)=1 .
\end{aligned}
$$

(iv) $(P(n), P(n+4))=1$ 除非 $n \equiv 7(\bmod 19)$, 此时 $(P(n), P(n+4))=19$.

由于

$$
\begin{aligned}
(P(n), P(n+4)) & =\left(n^{2}+n+1,(n+4)^{2}+(n+4)+1\right)=\left(n^{2}+n+1,8 n+20\right) \\
& =\left(n^{2}+n+1,2 n+5\right)=\left(4 n^{2}+4 n+4,2 n+5\right)=(19,2 n+5),
\end{aligned}
$$

仅当 $19 \mid 2 n+5$, 即 $n \equiv 7(\bmod 19)$ 时, $(P(n), P(n+4))=19$, 否则 $(P(n), P(n+$ $4))=1$.

$b=2$ 时, $P(a+1)$ 与 $P(a+2)$ 互素, 不存在芳香集.

$b=3$ 时, $P(a+2)$ 与 $P(a+1), P(a+3)$ 均互素, 也不存在芳香集.

$b=4$ 时若存在芳香集, 则 $P(a+2)$ 与 $P(a+4)$ 不互素, $P(a+3)$ 与 $P(a+1)$不互素, 这仅当 $a+1 \equiv a+2 \equiv 2(\bmod 7)$ 时发生, 但这不可能.

$b=5$ 时, 假设存在芳香集. 则 $P(a+3)$ 与 $P(a+1), P(a+5)$ 之一不互素, 这表明 $a+1 \equiv 2(\bmod 7)$ 或 $a+3 \equiv 2(\bmod 7)$. 此时 $P(a+2)$ 与 $P(a+4)$互素, 从而只可能 $(P(a+2), P(a+5))>1,(P(a+4), P(a+1))>1$. 这仅当 $a+1 \equiv a+2 \equiv 1(\bmod 3)$, 也不可能.

最后我们说明 $b=6$ 时存在芳香集. 由中国剩余定理, 存在正整数 $a$, 使得

$$
a+1 \equiv 1 \quad(\bmod 3), \quad a+2 \equiv 7 \quad(\bmod 19), \quad a+3 \equiv 2 \quad(\bmod 7)
$$

则 $(P(a+1), P(a+4))>1,(P(a+2), P(a+6))=19,(P(a+3), P(a+5))=7$,从而 $\{P(a+1), P(a+2), \cdots, P(a+6)\}$ 是一个芳香集.

5. 在黑板上写有方程

$$
(x-1)(x-2) \cdots(x-2016)=(x-1)(x-2) \cdots(x-2016),
$$

其中等号两边各有 2016 个一次因式. 试问：正整数 $k$ 最小为何值时，可以在等号两边擦去这 4032 个一次因式中的恰好 $k$ 个, 使得等号每一边都至少留下一个一次因式, 且所得到的方程没有实数根?

(俄罗斯 供题)
解 答案是 2016 .

若要使得所得方程无实数根, 同一个一次因式在等号两边不能都有, 至少删去其中一个, 故总共至少需要删去 2016 个一次因式.

下面说明, 如果在等式左边删去所有一次因式 $x-k, k \equiv 2,3(\bmod 4)$, 在等式右边删去所有一次因式 $x-m, m \equiv 0,1(\bmod 4)$, 所得方程

$$
\prod_{j=0}^{503}(x-4 j-1)(x-4 j-4)=\prod_{j=0}^{503}(x-4 j-2)(x-4 j-3)
$$

无实数根. 对实数 $x$ 分情况说明 (1) 式不成立.

情形 $1 . x=1,2, \cdots, 2016$.

在此情形下, (1) 式一边等于零, 另一边不等于零, 因此 (1) 式不成立.

情形 $2 . x \in(4 k+1,4 k+2) \cup(4 k+3,4 k+4)$, 其中 $k \in\{0,1, \cdots, 503\}$.

对 $j \in\{0,1, \cdots, 503\}$, 若 $j \neq k$, 则

$$
(x-4 j-1)(x-4 j-4)>0, \quad(x-4 j-2)(x-4 j-3)>0 ;
$$

若 $j=k$, 则

$$
(x-4 k-1)(x-4 k-4)<0, \quad(x-4 k-2)(x-4 k-3)>0,
$$

将这些不等式相乘得 (1) 式左边小于零, 右边大于零, 因此 (1) 式不成立.

情形 $3 . x<1$, 或 $x>2016$, 或 $x \in(4 k, 4 k+1)$, 其中 $k \in\{1,2, \cdots, 503\}$.

对 $j \in\{0,1, \cdots, 503\}$, 我们有

$$
0<(x-4 j-1)(x-4 j-4)<(x-4 j-2)(x-4 j-3),
$$

将这些不等式相乘得 (1) 式左边小于右边, (1) 式不成立.

情形 $4 . x \in(4 k+2,4 k+3)$, 其中 $k \in\{0,1, \cdots, 503\}$.

对 $j \in\{1,2, \cdots, 503\}$, 我们有

$$
0<(x-4 j+1)(x-4 j-2)<(x-4 j)(x-4 j-1),
$$

此外 $x-1>x-2>0, x-2016<x-2015<0$, 将这些不等式相乘得

$$
\prod_{j=0}^{503}(x-4 j-1)(x-4 j-4)<\prod_{j=0}^{503}(x-4 j-2)(x-4 j-3)<0 .
$$

(1) 式不成立.

综上所述, 所需删去一次因式个数的最小值为 2016 .

6. 在平面上有 $n \geq 2$ 条线段, 其中任意两条线段都交叉, 且没有三条线段
相交于同一点. 杰夫在每条线段上选取一个端点并放置一只青蛙在此端点上,青蛙面向另一个端点. 接着杰夫会拍 $n-1$ 次手. 每当他拍一次手时, 每只青蛙都立即向前跳到它所在线段上的下一个交点. 每只青蛙自始至终不改变跳跃的方向. 杰夫的愿望是能够适当地放置青蛙, 使得在任何时刻不会有两只青蛙落在同一个交点上.

(a) 证明: 若 $n$ 是奇数, 则杰夫总能实现他的愿望.

(b) 证明: 若 $n$ 是偶数, 则杰夫总不能实现他的愿望.

(捷克 供题)

证明 取一个大圆盘覆盖所有线段, 延长线段使得与圆周 $\omega$ 交于两点, 不妨假设最初时线段的两个端点就在此圆周上, 这不影响题目. 因此我们将 $n$ 条线段看作是 $\omega$ 的 $n$ 条弦, 每两条在内部相交, 且没有三条弦相交于同一点. 在 $\omega$ 上按顺时针方向将这 $n$ 条弦的 $2 n$ 个端点依次记为 $A_{1}, A_{2}, A_{3}, \cdots, A_{2 n}$.

(a) 杰夫可将青蛙放在 $A_{1}, A_{3}, \cdots, A_{2 n-1}$ 上. 首先每条弦两侧各有 $n-1$ 个端点, 因此这 $n$ 条弦为 $A_{i} A_{i+n}, i=1,2, \cdots, n$, 由于 $n$ 是奇数, $i, i+n$ 一奇一偶, 杰夫确实在每条弦的一个端点上放置了一只青蛙. 为证明任何时刻不会有两只青蛙落在同一个交点上, 我们考察任意两只青蛙, 假设它们是在 $A_{i}, A_{i+2 k}$上的两只青蛙, 这里 $1 \leq k<\frac{n}{2}$, 下标按模 $2 n$ 理解. 设弦 $A_{i} A_{i+n}$ 与 $A_{i+2 k} A_{i+2 k+n}$相交于点 $P$. 只需说明线段 $A_{i} P$ 内部的交点个数与线段 $A_{i+2 k} P$ 内部的交点个数不相同. 对于弦 $A_{j} A_{j+n}, j=i+1, i+2, \cdots, i+2 k-1$, 每条弦恰与线段 $A_{i} P, A_{i+2 k} P$ 中的一条相交. 对于其它的弦, 要么同时与线段 $A_{i} P, A_{i+2 k} P$ 相交, 要么同时不相交, 因此线段 $A_{i} P$ 和 $A_{i+2 k} P$ 内部的交点总数是奇数, 从而不会相等.

(b) 对杰夫的任意一种放置青蛙的方法, 一定有两只青蛙放置在相邻的 $A_{i}, A_{i+1}$ 上, 若不然青蛙相间地放置在圆周上, 但 $n$ 是偶数, 这导致有某个 $i$,使得 $A_{i}, A_{i+n}$ 上都有青蛙, 不合要求. 设弦 $A_{i} A_{i+n}$ 与 $A_{i+1} A_{i+n+1}$ 交于点 $P$. 对于其它任意一条弦, 要么同时与线段 $A_{i} P, A_{i+1} P$ 相交, 要么同时不相交, 因此线段 $A_{i} P, A_{i+1} P$ 内部的交点个数相同, 这样在某个时刻, $A_{i}, A_{i+1}$ 上的青蛙就会同时落在交点 $P$ 上.

