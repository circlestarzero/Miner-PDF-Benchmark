数学新星网 $*$ 教师专栏

www.nsmath.cn/jszl

# 2019 年第 85 届圣彼得堡数学竞赛组合题解析 

王广廷

(上海市上海中学, 200231)

俄罗斯的数学竞赛很多, 除了国家级别的一些竞赛外,一些城市的数学竞赛也特别有名, 如圣彼得堡数学竞赛, 莫斯科数学竞赛, 前者似乎有百年的历史, 也曾被称为全球“难度最大”的数学竞赛, 圣彼得堡数学竞赛的组合问题更是选材丰富, 立意新颖, 难度大.

我们选取了 2019 年圣彼得堡数学竞赛的九道组合题, 其中第 $1,2,3$ 题是九年级竞赛题, 第 $4,5,6$ 题是十年级竞赛题, 第 $7,8,9$ 题是十一年级竞赛题. 所选的题目中第 $1,2,6,7,8$ 题是联赛二试难度的题; 第 $3,4,5$ 题是冬令营难度的题. 总体而言, 今年的题目与 2018 年难度差不多.

第 1 题 一个城市有 2019 座地铁站. 若干对地铁站用隧道连接. 从任意地铁站可以通过隧道到达其他任意地铁站, 市长想要计划若干个地铁班次: 每个班次包含若干个不同的地铁站, 依次用隧道相连 (若干班次可以共用一条隧道). 每个地铁站必须至少有一个班次, 为了省钱, 不能超过 $k$ 个班次, 结果, 市长的计划不可行. $k$ 的最大是多少时, 这点可能发生?

解 $k$ 的最大值为 1008 .

将原问题用图论语言叙述.

设 $G(V, E)$ 是一个图, 其中顶点集 $V$ 为城市, 两顶点之间连边当且仅当这两个城市间有隧道, 则每个地铁班次是一条路.

一方面, 考虑 2019 个顶点的图, 其中一点 $u$ 与其他 2018 个顶点 $v_{1}, v_{2}, \cdots$, $v_{2018}$ 均相连, $v_{i} v_{j}(1 \leq i, j \leq 2018)$ 均不相连, 由于每条路至多经过 $v_{i}(1 \leq i \leq$ 2018) 中的两个, 故至少有 1009 条路, 即 $k=1008$ 时, 市长的计划不可行.

另一方面, 我们证明当 $k \leq 1009$ 时, 市长的计划一定可行. 只需证明 $k=1009$ 时可行即可 (当 $k>1009$ 时, 多余任班次任意安排).

修订日期: 2020-01-23.
由于 $G$ 连通, 故可取 $G$ 的一棵支撑树 $T_{2019}$.

首先证明下面的引理:

引理 设 $m$ 是正整数, $T_{2 m+1}$ 是一棵树, 则存在不超过 $m$ 条路, 使得每个顶点至少有一条路经过.

证明 对 $m$ 进行归纳.

当 $m=1$ 时, 显然成立.

假设命题对 $\leq m$ 成立. 下面考虑 $m+1$ 的情况.

由于 $T$ 是树, 故必存在度为 1 的顶点 $u$, 设 $u$ 与 $v$ 之间连边. 考虑图 $H=$ $T-\{v\}$, 则 $H$ 在各个连通分支且每个连通分支不是孤立点就是树, $H$ 至少有一个孤立点 $u$, 除了 $u$ 之外, $H$ 至少还有一个连通分支的顶点数为奇数, 不妨设为 $H_{0}$, 由于 $T$ 连通, 故存在顶点 $v_{0} \in V\left(H_{0}\right)$, 使得 $v_{0}$ 与 $v$ 连边.

考虑将 $T_{2 m+1}$ 删去两条边 $u v, v v_{0}$ 及点 $u$ 之后得到新图 $T^{\prime}$, 则 $T^{\prime}$ 是两棵树 (或孤立点) 的并, 其中一棵树 (或孤立点) 就是 $H_{0}$, 它的顶点数为奇数, 则另一棵树 (或孤立点) 的顶点数也为奇数.

由归纳假设知 $m+1$ 时命题成立.

综上可知, 引理得证.

回到原题, 由引理中 $m=1009$ 的情况, 知市长的计划可行.

综上可知, $k$ 的最大值为 1008 .

评注 这是一道较简单的组合题. 转化为图论语言后, 构造时为了让每条路能经过尽量少的顶点, 容易想到星图. 证明时取出图的生成树并讨论它的叶子不难想到可以使用归纳法.

第 2 题 奥利亚在卡片上写了具有形式 $\frac{1}{n}$ 的分数, 其中 $n$ 为 $6^{100}$ 的所有约数 (包括 1 和 $6^{100}$ 本身), 他将这些卡片按照一定的顺序排列, 然后他写出第一张卡片上的数, 第一张和第二张卡片的数之和, 前三张卡片的数之和等等, 最后写出所有卡片的数之和. 问: 黑板上最少会有多少种分母?

解 注意到每张卡片上的数 $\frac{1}{n}$ 均可写成 $\frac{1}{n}=\frac{m}{6^{100}}$ 的形式且 $m$ 恰是 $6^{100}$ 的全体正约数. 故原题等价于:

设 $a_{1}, a_{2}, \cdots, a_{k}, k=\tau\left(6^{100}\right)=101^{2}$ 是 $6^{100}$ 的所有正约数的一个排列, $S_{i}=\sum_{j=1}^{i} a_{j}(1 \leq i \leq k)$, 问 $\operatorname{gcd}\left(S_{i}, 6^{100}\right)(1 \leq i \leq k)$ 至少有多少种不同的取值?

先证明: 至少有 2 个不同的取值.
假设结论不成立, 则仅有一种取值, 设为 $d$, 注意到

$$
\begin{aligned}
S_{k}=a\left(6^{100}\right) & =\left(1+2^{1}+\cdots+2^{100}\right)\left(1+3^{1}+\cdots+3^{100}\right) \\
& =\left(2^{101}-1\right) \cdot \frac{3^{101}-1}{2}
\end{aligned}
$$

故 $\operatorname{gcd}\left(S_{k}, 6^{100}\right)=1$, 即 $d=1$.

这要求, 对任意 $1 \leq i \leq k, 2 \nmid S_{i}$, 即 $S_{1} \equiv S_{2} \equiv \cdots \equiv S_{k} \equiv 1(\bmod 2)$, 所以对任意 $2 \leq i \leq k, a_{i}=S_{i}-S_{i-1}=0(\bmod 2)$, 但 $6{ }^{100}$ 有 101 个奇因数, 矛盾!

所以 $\operatorname{gcd}\left(S_{i}, 6^{100}\right)$ 至少有 2 不同的取值.

再证明: 可以仅有两种不同的取值.

令 $a_{1}=1, a_{2 i}=2^{2 i}(1 \leq i \leq 50), a_{2 i-1}=2^{2 i-1}(1 \leq i \leq 50), a_{j+101}=3^{j}(1 \leq$ $j \leq 100), a_{202}, \cdots, a_{k}$ 是 $6^{100}$ 的倍数的约数的任一排列.

我们证明: $\operatorname{gcd}\left(S_{i}, 6^{100}\right)$ 仅有 1,2 两种取值.

为此, 仅需证明: 对任意 $1 \leq i \leq k, 3 \nmid S_{i}, 4 \nmid S_{i}$.

先证明 $3 \nmid S_{i}(1 \leq i \leq k)$.

注意到 $2^{2 i} \equiv 1(\bmod 3), 2^{2 i-1} \equiv 2(\bmod 3)$, 所以

$$
S_{2 i-1} \equiv 1 \quad(\bmod 3)(1 \leq i \leq 51), S_{2 i} \equiv 2(\bmod 3)(1 \leq i \leq 50)
$$

又注意到对任意 $j>101,3 \mid a_{j}$, 故

$$
S_{i} \equiv S_{101} \equiv 1(\bmod 3)(i>101)
$$

即 $3 \nmid S_{i}$.

再证明 $4 \nmid S_{i}(1 \leq i \leq k)$.

注意到 $a_{1}=1, a_{2}=4, a_{3}=2$, 当 $4 \leq i \leq 101$ 时, $4 \mid a_{i}$, 所以

$$
S_{1}=1, S_{2} \equiv 1 \quad(\bmod 4), S_{101} \equiv S_{100} \equiv \cdots S_{3} \equiv 3 \quad(\bmod 4)
$$

注意到 $3^{2 i-1} \equiv 3(\bmod 4), 3^{2 i} \equiv 1(\bmod 4)$, 所以

$$
S_{2 i+100} \equiv 2 \quad(\bmod 4)(1 \leq i \leq 50), S_{2 i+101} \equiv 3 \quad(\bmod 4)(1 \leq i \leq 50)
$$

特别地 $S_{201} \equiv 1(\bmod 2)$, 又注意到对任意 $j>201,2 \mid a_{j}$, 故 $S_{i} \equiv S_{201} \equiv 1$ $(\bmod 2)$. 即 $4 \nmid S_{i}$.

综上可知, 所求最小值为 2 .

评注 这是一道简单的组合题, 发现答案是 2 后, 先将分数化成更好处理的整数, 之后证明不能是 1 是平凡的, 构造时先处理掉所有 2 的幂和 3 的幂之后每加一个数模 6 不变, 利用此性质很快便可完成构造。
第 3 题 有 2019 个盘子围成一圈, 每个盘子里有一块蛋糕, 彼得和瓦夏进行了一个游戏. 每次操作, 彼得选择一块蛋糕并声明 1 到 16 中的一个数 $m$. 瓦夏将该蛋糕顺时针或逆时针移动 $m$ 个盘子 (每次方向由瓦夏选择). 彼得希望某个时候某个盘子里至少有 $k$ 块蛋糕, 而瓦夏想阻止他, 对于什么样的最大的 $k$, 彼得总能成功?

解 (周书涵) $k$ 的最大值为 32 .

首先证明: 彼得可以让一个盘子里至少有 32 块蛋糕.

为此我们仅需证明: 彼得可以使只有 64 个盘子里有蛋糕 (这样由抽屉原理就有一个盘子里至少有 $\left\lceil\frac{2019}{64}\right\rceil=32$ 块蛋糕).

以任意位置开始, 顺时针给盘子标上数 $0,1, \cdots, 2018$.

断言: 彼得可以让只有编号为 32 的倍数的盘子有蛋糕 $(0,1, \cdots, 2018$ 中恰有 64 个 32 的倍数).

第一步. 让所有蛋糕集中到 $0 \sim 2016$ 号盘子上. 仅需对 2017,2018 号盘子各声明 2 即可.

第二步. 让所有蛋糕集中到偶数号盘子上. 仅需对所有处在奇数号盘子的蛋糕各声明 1 即可.

第三步. 让所有蛋糕集中到 4 的倍数的盘子上. 仅需对所有处在模 4 余 2 的盘子的蛋糕 (注意 2018 号盘子无蛋糕) 各声明 2 即可.

第四步. 让所有蛋糕集中到 8 的倍数号盘子上. 仅需对所有处在模 8 余 4 的盘子的蛋糕各声明 4 即可.

第五步. 让所有蛋糕集中到 16 的倍数号盘子上. 仅需对所有处在模 16 余 8 的盘子的蛋糕各声明 8 即可.

第六步. 让所有蛋糕集中到 32 的倍数号盘子上. 仅需对所有处在模 32 余 16 的盘子的蛋糕各声明 16 即可.

所以综上可知 (1) 成立.

再证明: 瓦夏可以让每个盘子最多有 32 块蛋糕.

我们仍从任意位置开始, 顺时针给盘子标上数 $0,1, \cdots, 2018$, 同时给蛋糕也标上数 $0,1, \cdots, 2018$, 使得每个蛋糕所标的数与他初始位置的盘子编号相同.

断言：若一个蛋糕编号为 $a$, 瓦夏可以让它所处的盘子的编号始终属于 $\{a-15, a-14, \cdots, b+16\}$.

事实上, 我们对操作次数归纳.

初始时满足.
假设第 $k$ 次操作前满足, 下面考虑第 $k$ 次操作.

不妨设彼得选择了蛋糕 $a$ (否则已成立), 并声明数 $x$, 设第 $k$ 次操作前 $a$ 在盘子 $a+i(-15 \leq i \leq 16)$ 处.

(i) 若 $i \geq 1$, 瓦夏选择逆时针移动;

(ii) 若 $i \leq 0$, 瓦夏选择顺时针移动.

此时蛋糕 $a$ 所处的盘子编号仍属于 $\{a-15, a-14, \cdots, a+16\}$. 故由归纳法知 (2) 成立.

注意到, 若瓦夏保证 (3) 恒成立, 那么对于任意一个盘子 $b$, 它里面的蛋糕的编号一定属于 $\{b-16, b-15, \cdots, b+15\}$, 所以它里面的蛋糕至多 32 块. 即 (3)成立.

综上可知, $k$ 的最大值为 32 .

评注 这是一道偏难的组合题. 可以先通过较小的情况猜出答案的大致范围 (32 或 33). 彼得的操作相对自然, 其本质就是不断增加蛋糕所在盘子编号含有 2 的幂次, 而瓦夏的操作需要一定的灵感,不能单纯的将 2019 个盘子分成若干段,瓦夏保证每次操作都不将蛋糕移除它所在的段 (由于 2019 不是 32 的倍数, 这样只能做到 33), 而要采取上述做法.

第 4 题 卢里塔尼亚的 $n$ 个城市中的任意两个都由两家航空公司之一运营航线. 支持垄断委员会想要使一家航空公司运营至少 $k$ 条航线. 为了达到这点,每天可选任意三个城市, 将它们两两之间的航线改为由另一家航空公司运营. 求最大的 $k$, 使得无论一开始怎么分配, 委员会都可以通过若千次调整达到目标?

解 1 (周书涵) $k$ 的最大值:

$$
k_{\max }= \begin{cases}\frac{(n-1)^{2}}{2}, & n \text { 为奇数; } \\ \frac{n(n-1)}{2}-\left\lfloor\frac{n}{4}\right\rfloor, & n \text { 为偶数. }\end{cases}
$$

用图论语言描述原问题: 作图 $G$, 将城市作为 $G$ 的顶点.

若两个城市之间的航线由航空公司 $A$ 运营, 将它们对应定点的连线染为红色; 若两个城市之间的航线由航空公司 $B$ 运营, 将它们对应定点的连线染为蓝色.

原问题中委员会的每次操作都选择一个三角形, 将其三边均变色.

对 $G$ 的一条边的红蓝二染色 $\varphi$, 对 $G$ 的任一顶点 $v$, 用 $R_{\varphi}(v)$ 表示顶点 $v$ 连出的红边条数, $B_{\varphi}(v)$ 表示 $v$ 连出的蓝边条数, 则对任意 $v \in V(G)$, 有

$$
R_{\varphi}(v)+B_{\varphi}(v)=n-1 .
$$

首先证明下面的引理.

对于同一个图 $G$ 的两个红蓝二染色 $\varphi_{1}, \varphi_{2}$, 它们可以通过有限次操作得到 $\Leftrightarrow$ 对任一顶点 $v$, 有 $R_{\varphi_{1}}(v) \equiv R_{\varphi_{2}}(v)(\bmod 2)\left(\right.$ 或 $\left.B_{\varphi_{1}}(v) \equiv B_{\varphi_{2}}(v)(\bmod 2).\right)$

证明 必要性: 因为每次操作均改变了每个点偶数条边的颜色 (0 或 2$)$, 所以 $R_{\varphi}(v)$ 奇偶性不变, 故

$$
R_{\varphi_{1}}(v) \equiv R_{\varphi_{2}}(v)(\bmod 2)
$$

充分性：对 $|V(G)|$ 归纳.

$|V(G)|=1$ 时, 显然成立;

假设 $|V(G)|=n-1$ 时, 下面考虑 $|V(G)|=n$ 的情况:

由于操作是可逆的, 故只需证明通过操作能从 $\varphi_{1}$ 变到 $\varphi_{2}$, 对任意 $v \in V(G)$,设 $u_{1}, u_{2}, \cdots, u_{t}$ 是所有满足边 $v u_{i}(1 \leq i \leq t)$ 在 $\varphi_{1}, \varphi_{2}$ 中不同色的边.

由于 $R_{\varphi_{1}}(v)=R_{\varphi_{2}}(v)$, 则 $t$ 是偶数, 设 $t=2 l$, 对 $\triangle v u_{2 i-1} u_{2 i}(1 \leq i \leq l)$各操作一次, 得到 $\varphi_{1}^{\prime}$, 则对任意 $1 \leq i \leq t, v u_{i}$ 均改变颜色, 那此时 $v$ 连出的边的颜色情况已与 $\varphi_{2}$ 中相同, 又每次操作 $R_{\varphi}(v)$ 的奇偶性不变, 所以对任意 $u \in V(G) \backslash\{v\}$,

$$
R_{\varphi}(u) \equiv R_{\varphi_{1}}(u) \equiv R_{\varphi_{2}}(u)(\bmod 2) .
$$

考虑 $G^{\prime}=G-\{v\}$ 及 $\varphi_{1}, \varphi_{2}$ 在 $G^{\prime}$ 上的诱导染色 $\widetilde{\varphi_{1}^{\prime}}, \widetilde{\varphi_{2}^{\prime}}$, 则由于在 $G$ 中, $v$连出的边在 $\varphi_{1}^{\prime}, \varphi_{2}^{\prime}$ 中染色情况相同, 所以, 对任意 $u \in V\left(G^{\prime}\right)$,

$$
R_{\widetilde{\varphi_{1}^{\prime}}}(u) \equiv R_{\widetilde{\varphi_{2}^{\prime}}}(u)(\bmod 2)
$$

由归纳假设, $\widetilde{\varphi_{1}^{\prime}}$ 可以操作得到 $\widetilde{\varphi_{2}}$, 又此过程中 $v$ 不受影响 (因为没有操作 $v$连出的边), 所以 $\varphi_{1}$ 可操作得到 $\varphi_{2}$, 即 $|V(G)|=n$ 时成立.

综上可知, 充分性成立.

回到原题.

(1) 若 $n$ 是奇数. 考虑图 $G: G$ 中 $n-1$ 个点的红度为 1,1 个点的红度为 0 $\left(\frac{n-1}{2}\right.$ 个红匹配), 则存在 $n-1$ 个点, 它们的红度, 蓝度均为奇数, 由引理, 无论怎样操作, 这 $n-1$ 个点的红度, 蓝度均为奇数, 所以

$$
k \leq \frac{n(n-1)}{2}-\frac{n-1}{2}=\frac{(n-1)^{2}}{2} .
$$

另一方面, 由于红度为奇数的点必有偶数个, 设 $v_{1}, v_{2}, \cdots, v_{2 t}$ 的红度为奇数, 考虑 $\varphi^{*}: v_{2 i-1} v_{2 i}$, 染红 $(1 \leq i \leq t)$, 其余染蓝, 此时蓝边有

$$
\frac{n(n-1)}{2}-t \geq \frac{n(n-1)}{2}-\frac{n-1}{2}=\frac{(n-1)^{2}}{2} .
$$

所以 $k_{\text {max }}=\frac{(n-1)^{2}}{2}$.

(2) 若 $n$ 为偶数. 考虑图 $G: 2\left\lfloor\frac{n}{4}\right\rfloor$ 个点的红度为 $1,2\left\lceil\frac{n}{4}\right\rceil$ 个点的红度是 0 ( $\left\lfloor\frac{n}{4}\right\rfloor$ 个红匹配), 则有 $2\left\lfloor\frac{n}{4}\right\rfloor$ 个点的红度为奇数, $2\left\lceil\frac{n}{4}\right\rceil$ 个点的蓝度为奇数, 所以无论怎样操作, 红边至少有 $\left\lfloor\frac{n}{4}\right\rfloor$ 条, 蓝边至少有 $\left\lceil\frac{n}{4}\right\rceil$ 条, 故 $k \leq \frac{n(n-1)}{2}-\left\lfloor\frac{n}{4}\right\rfloor$.

另一方面, 由于对任意 $v \in V(G), R_{\varphi}(v)+B_{\varphi}(v)=n-1 \equiv 1(\bmod 2)$, 故 $R_{\varphi}(v), B_{\varphi}(v)$ 一奇一偶. 不妨设 $R_{\varphi}(v)$ 中奇数较少, 又 $R_{\varphi}(v)$ 是奇数的顶点 $v$ 有偶数个, 不妨设为 $v_{1}, v_{2}, \cdots, v_{2 t}$, 则 $t \leq\left\lfloor\frac{n}{4}\right\rfloor$.

考虑 $\varphi^{*}: v_{2 i-1} v_{2 i}$ 染红 $(1 \leq i \leq t)$, 其余染蓝, 由引理, $\varphi$ 可通过操作得到 $\varphi^{*}$, 此时蓝边有

$$
\frac{n(n-1)}{2}-t \geq \frac{n(n-1)}{2}-\left\lfloor\frac{n}{4}\right\rfloor
$$

所以 $k_{\text {max }}=\frac{n(n-1)}{4}-\left\lfloor\frac{n}{4}\right\rfloor$.

综上可知,

$$
k_{\max }= \begin{cases}\frac{(n-1)^{2}}{2}, & n \text { 为奇数 } \\ \frac{n(n-1)}{4}-\left\lfloor\frac{n}{4}\right\rfloor, & n \text { 为偶数. }\end{cases}
$$

## 解 2 (李逸凡)

对于有限简单图 $G$, 定义一次“操作”如下: 若 $G$ 中三个顶点两两之间至少连了两条边, 则可改变这三个点之间两两的连边情况 (连边变为不连, 不连变为连边). 即
![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-07.jpg?height=518&width=512&top_left_y=1698&top_left_x=754)

我们证明如下引理:

若 $G$ 中恰有 $k$ 个点的度为奇数. 则可以通过有限次操作使 $G$ 中只有 $\frac{k}{2}$ 条边.

证明 我们对 $G$ 反复进行操作. 由于每次操作使 $G$ 中的边数严格减少, 故操作一定会停止, 此时无法对 $G$ 进行操作, 故必有 $G$ 中每个点的度不超过 1 (否则存在 ${ }^{u}{ }^{v}{ }_{w}^{v}$, 无论连成或不连成都可对这三点操作).
注意到每次操作不改变任意顶点度的奇偶性, 故最终状态下 $G$ 中仍有 $k$ 个点度为奇, 因此此时 $G$ 恰有 $k$ 个点度为 1 , 剩余点度为 0 , 从而 $G$ 有 $\frac{k}{2}$ 条边.

引理得证.

回到原题. 建立图 $G, H$, 其顶点都是给定的 $n$ 个城市. $G$ 中的边对应 $A$ 公司运营的航线, $H$ 中的边对应 $B$ 公司运营的航线, 则 $G$ 与 $H$ 互为补图. 以下分 $n$奇偶性情况讨论:

(1) $n$ 是奇数. 由于 $G$ 中至多 $n-1$ 个顶点度为奇数, 由引理可知委员会可以在若干次操作后使 $G$ 中至多有 $\frac{n-1}{2}$ 条边. 此时有至少 $\left(\frac{n}{2}\right)-\frac{n-1}{2}=\left(\frac{n-1}{2}\right)^{2}$ 条航线由 $B$ 公司运营. 要说明这个最大的, 我们考虑如下初始情况:

![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-08.jpg?height=254&width=417&top_left_y=895&top_left_x=794)

$G$ 由一个孤立点与其余点两两配对组成. $H$ 为 $G$ 的补图. 此时 $G$ 和 $H$ 中都恰有 $\frac{n-1}{2}$ 个顶点度为奇数. 即委员会无论选哪家公司, 都不可能使另一家公司的航线数少于 $\frac{n-1}{2}$ 条, 从而垄断公司运营的航线数不超过 $\left(\frac{n}{2}\right)-\frac{n-1}{2}=\left(\frac{n-1}{2}\right)^{2}$ 条.

(2) $n$ 是偶数. 由于一个顶点在 $G$ 中度为奇数当且仅当其在 $H$ 中度为偶数,故委员会开始时可选择 $G$ 或 $H$ (即公司 $A$ 公司 $B$ ), 使图中至多有 $\frac{n}{2}$ 个顶点度为奇数. 此时由引理可知委员会通过有限次操作使图中至多还有 $\left[\frac{n}{4}\right]$ 条边. 从而另一家公司运营至少 $\left(\frac{n}{2}\right)-\left[\frac{n}{4}\right]$ 条航线. 为证明这是最优的, 考虑如下初始情况:

$G$ 为 $\left[\frac{n}{4}\right]$ 对配对与 $\left(n-2 \cdot\left[\frac{n}{4}\right]\right)$ 个孤立点. $H$ 为 $G$ 的补图.

此时 $G$ 中有 $2 \cdot\left[\frac{n}{4}\right]$ 个顶点度为奇数, $H$ 中有 $\left(n-2 \cdot\left[\frac{n}{4}\right]\right)$ 个顶点度为奇数,其中 $n-2 \cdot\left[\frac{n}{4}\right] \geq 2\left[\frac{n}{4}\right]$. 故无论委员会选取 $G$ 或 $H$. 都不可能使某个图中边数小于 $\left[\frac{n}{4}\right]$.

综上所述, 委员会可使保证使其中一家公司运营的航线数的最大值为

$$
\begin{cases}\left(\frac{n-1}{2}\right)^{2}, & n \text { 为奇数; } \\ \left(\frac{n}{2}\right)-\left[\frac{n}{4}\right], & n \text { 为偶数. }\end{cases}
$$

评注 这是一道中等难度的组合题, 容易发现操作的不变量是顶点红蓝边数的奇偶性, 随后证明这是唯一的不变量即可. 即可证明只要每个顶点红蓝边数奇偶性不变, 就能通过操作得到. 为了证明这个容易想到对点数归纳.
第 5 题 一个班有 25 名学生, 老师想要准备 $N$ 块糖果举办竞赛, 并按照成绩分配糖果 (分数相同得到相同数目的糖果, 分数越少得到的糖果越少, 可以是 0 块). 对什么样的最小的 $N$, 可以这样分配糖果, 无论竞赛有多少题目, 以及学生的答题情况如何?

解 1 (周书涵) $N$ 的最小值为 600 .

先证明: $N \geq 600$.

注意到若 25 人成绩均相同, 必须给每人相同数量的糖果, 即 $25 \mid N$, 设 $N=25 k\left(k \in \mathbb{N}^{*}\right)$.

再考虑 1 个人得 0 分, 24 个人得 1 分得情况, 由条件存在 $x>y \geq 0(x, y \in$ $\mathbb{Z})$, 使得 $24 x+y=N=25 k$. 由平均值原理, 有 $x>k>y$, 故 $x \geq k+1$, 所以 $k-y=24(x-k) \geq 24$, 于是 $k \geq 24+y \geq 24$, 则 $N=25 k \geq 600$.

再证明: 当 $N=600$ 时, 一定可以合理分配糖果.

我们证明: 对任意正整数 $n$, 有 $n$ 名学生和 $n(n-1)$ 块糖果, 一定可以合理分配糖果, 且每人糖果数 $<2 n$.

对 $n$ 归纳.

当 $n=1$ 时, 显然成立.

假设命题对小于 $n$ 均成立, 下面考虑 $n$ 的情况:

设有 $n-k$ 个人同为最高分 $(0 \leq k \leq n-1)$.

若 $k=0$, 则每人有 $n-1$ 块糖, 命题成立.

若 $1 \leq k \leq n-1$, 有归纳假设可以将 $k(k-1)$ 块糖果合理分配给不是最高分的 $k$ 个人, 且每人糖果数 $<2 k$, 还剩下

$$
n(n-1)-k(k-1)=(n-k)(n+k-1)
$$

块糖果, 给 $n-k$ 个最高分每人发 $n+k-1$ 块糖果. 注意到 $2 k \leq n+k-1<2 n$,所以这是合理的分配方式且每人糖果数 $<2 n$, 即 $n$ 时命题成立.

特别地, 取 $n=25$ 知原问题成立.

综上, 所求的 $N$ 的最小值为 600 .

解 2 (李逸凡) 首先考虑 25 名学生分数相同的情况. 由于这些学生分到糖果数相同, 故 $25 \mid N$, 设 $N=25 k$.

然后考虑其中 24 人同分且高于另外一人的情况.

设最后一人得 $x$ 个糖果, 其余 24 人各得 $(x+y)$ 个. 由条件 $y>0$, 故

$$
24(x+y)+x=25 k \Rightarrow 24 y=25 k-25 x .
$$

右边是 25 的倍数, 左边为正, 故 $25 \mid y \Rightarrow y \geq 25$. 于是 $25 k=25 x+24 y \geq$ $24 \times 25=600$. 即 $N \geq 600$.

下证 $N=600$ 符合条件.

设学生的得分情况有 $l$ 种不同得取值, 下标为 $1,2, \cdots, l(l \leq 25)$. 记 $S_{i}$ 为得分不小于 $i$ 得学生人数. $(i=1,2, \cdots, l)$. 从而 $S_{i}=25$.

我们证明存在整数 $x_{2}, x_{3}, \cdots, x_{l} \geq 1$ 和 $x_{1} \geq 0$ 使等式

$$
x_{1} S_{1}+x_{2} S_{2}+\cdots+x_{l} S_{l}=600 \text { 成立 }
$$

从而得分为 1 的学生分 $x_{1}$ 个糖果, 得分为 2 的学生分 $x_{1}+x_{2}$ 个, $\cdots$, 得分为 $l$ 的学生分 $\left(x_{1}+x_{2}+\cdots+x_{l}\right)$ 个. 由阿贝尔求和公式共有 $x_{1} S_{1}+x_{2} S_{2}+\cdots+x_{l} S_{l}=600$个糖果. 符合要求.

由于 $x_{1} S_{1}+\cdots+x_{l} S_{l}=600$ 当且仅当 $\left(x_{1}+1\right) S_{1}+x_{2} S_{2}+\cdots+x_{l} S_{l}=$ 625. (注意到 $S_{1}=25$ ) 且 $x_{1}+1 \geq 1$. 只需证明 $x_{1} S_{1}+\cdots+x_{l} S_{l}=625$ 有正整数解 $\left(x_{1}, \cdots, x_{l}\right)$.

下面归纳证明: 对于给定正整数 $S_{1}>S_{2}>\cdots>S_{l}$ 和整数 $u \geq 0$, 方程

$$
S_{1} x_{1}+S_{2} x_{2}+\cdots+x_{l} S_{l}=S_{1}\left(S_{1}+u\right)
$$

有正整数解 $\left(x_{1}, x_{2}, \cdots, x_{l}\right)$.

$l=1$ 时取 $x_{1}=S_{1}+u$ 即可.

若结论对 $l-1$ 成立, 对 $l$ 时取 $x_{1}=u+S_{1}-S_{2}>0$, 则方程

$$
S_{2} x_{2}+S_{3} x_{3}+\cdots+S_{l} x_{l}=S_{1}\left(S_{1}+u\right)-S_{1}\left(u+S_{1}-S_{2}\right)=S_{1} S_{2}
$$

有正整数解 $\left(x_{2}, x_{3}, \cdots, x_{l}\right)$. 故结论对 $l$ 也成立.

综上可知, $N=600$ 符合条件.

评注 这是一道中等难度的组合题. 解法 1 中先考虑特殊情况: 25 人得分均相同和 24 人得分高 1 人得分低的情况, 结合两者可以很快知道 $N \geq 600$. 构造时采取归纳构造, 取出最高分对剩下的人用归纳法, 比较清晰(也可直接构造).解法 2 经尝试猜出答案后, 容易想到将每个相同分数的人数设出, 之后只要证明一个不定方程有正整数解, 而这用归纳法即可证明. 本题真正的难点在于猜出答案, 没有正确的结果, 很难通过证明得到答案.

第 6 题 能否将无穷大的方格棋盘里的每一格都填入一个正整数 (每个数各填一次), 使得对任意 $n$, 每个 $n \times n$ 的正方形里的所有数之和是 $n$ 的倍数.

解 (周书涵) 能.
首先证明: 对任意正整数 $m$, 存在一个 $(2 m-1) \times(2 m-1)$ 数表 $A_{m}$ 满足下面三个性质:

(1) $\{1,2, \cdots, m\}$ 均出现在 $A_{m}$ 中, 且 $A_{m}$ 中的数互不相同;

(2) 对任意正整数 $n \leq 2 m-1, A_{m}$ 中的任意 $n \times n$ 数表中的数之和都是 $n$的倍数;

(3) $A_{m+1}$ 去掉边界上的 $8 m$ 个数后恰为 $A_{m}$.

对 $m$ 进行归纳.

当 $m=1$ 时, 令 $A_{1}=1$ 即可.

假设 $m$ 时成立, 下面考虑 $m+1$ 的情况:

| $a_{8 m}$ | $\ldots \ldots a_{6 m+1}$ | $a_{6 m}$ |
| :--- | :--- | :--- |
| $a_{1}$ |  | $\cdot$ |
| $a_{2}$ |  | $\cdot$ |
| . |  | $\cdot$ |
| . |  | $\cdot$ |
| $a_{2 m}$ | $a_{2 m+1, \ldots . .}$ | $a_{6 m+1}$ |

如上图, 将 $A_{m}$ 周围一圈的数记为 $a_{1}, a_{2}, \cdots, a_{8 m}$, 我们归纳地构造 $a_{i}(1 \leq i \leq$ $8 m)$ 以得到 $A_{m+1}$.

若 $m+1$ 在 $A_{m}$ 中出现, $a_{1}$ 任取, 若否, 令 $a_{1}=m+1$ (这并不会导致矛盾).

现假设 $a_{1}, a_{2}, \cdots, a_{i-1}$ 均已确定, 下面构造 $a_{i}(i \geq 2)$, 只需让 $a_{i}$ 满足以下两个性质:

(1) $a_{i}$ 与 $A_{m}$ 中的数及 $a_{1}, a_{2}, \cdots, a_{i-1}$ 均不同 (注意到 $m+1$ 已经出现了).

(2) 对任意 $n \leq 2 m-1$, 任意一个包含 $a_{i}$ 但不包含任意一个 $a_{j}(i<j \leq 8 m)$的 $n \times n$ 数表中数之和是 $n$ 的倍数.

条件 (2) 相当于 $a_{i}$ 要满足若干个同于方程

$$
a_{i}+c_{k} \equiv 0(\bmod k)(1 \leq k \leq l)
$$

$l$ 是一个仅与 $i$ 的位置有关的数.

我们仅需证明同余方程组

$$
a_{i}+c_{k} \equiv(\bmod k)(1 \leq k \leq l)
$$

有整数解即可. 因为由此可知, 此同余方程组有无穷多个正整数解, 进而可选出一个未出过的数作为 $a_{i}$, 那么 (1) 可满足.

若 $l=1$ 已成立, 下设 $l>1$.

记 $K=\left\{k \in[l] \mid k=p^{\alpha}, p\right.$ 是素数, $\alpha \in \mathbb{N}^{*}$, 且 $\left.p k>l\right\}$, 则 $K \neq \emptyset$, 且 $K$ 中任意两数互素.

先考虑同余方程组

$$
a_{i}+c_{k} \equiv 0(\bmod k)(k \in K)
$$

由中国剩余定理, 此方程组有解 $x_{0}$. 下面证明: $x_{0}$ 也是原同余方程组的解.

假设结论不成立, 则存在 $k_{0} \in[l]$, 使得 $k_{0} \nmid x_{0}+C_{k_{0}}$, 那么存在素数 $p$ 及 $\beta \in \mathbb{N}^{*}$, 使得 $p^{\beta} \mid k_{0}$, 但

$$
p^{\beta} \nmid\left(x_{0}+c_{k_{0}}\right) .
$$

由 $p^{\beta} \mid k_{0}$, 知 $p^{\beta} \leq k_{0} \leq l$, 故存在 $k \in K$, 使得 $p^{\beta} \mid k$, 那么由 $k \mid x_{0}+c_{k}$ 知

$$
p^{\beta} \mid\left(x_{0}+c_{k}\right) \text {. }
$$

比较 (1),(2) 知

$$
p^{\beta} \nmid\left(c_{k}-c_{k_{0}}\right) .
$$

但另一方面, $\left|c_{k}-c_{k_{0}}\right|$ 是若干个 $p^{\beta} \times p^{\beta}$ 的正方形中的数的和的和.

![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-12.jpg?height=588&width=600&top_left_y=1551&top_left_x=385)

$\left(k \geq k_{0}\right)$

![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-12.jpg?height=614&width=688&top_left_y=1552&top_left_x=1001)

$k<k_{0}$

由归纳假设 (两层), 这些 $p^{\beta} \times p^{\beta}$ 的正方形中的数之和是 $p^{\beta}$ 的倍数, 故这些和的和也是 $p^{\beta}$ 的倍数, 故

$$
p^{\beta}|| c_{k}-c_{k_{0}} \mid .
$$

矛盾!
所以假设不成立, 故 $a_{i}$ 也能构造. 因此, 由归纳法知 $a_{1}, a_{2}, \cdots, a_{8 m}$ 均能构造, 即存在 $A_{m+1}$ 满足要求, 故由归纳法知结论对任意正整数 $m$ 都成成立.

依次, 我们可以构造无穷大的数表, 每个数均出现 1 次 (由 (1)), 且每个 $n \times n$的正方形中的数的和是 $n$ 的倍数 (由 (2)).

评注 这是一道较容易地组合题. 比较容易想到答案是存在的, 因为我们几乎没有方法去证明这样的无限棋盘是不存在的. 构造的方法是构造无限问题的常见手段, 既保证每一步有数可填, 又保证每个数都在有限步内出现.

第 7 题 马尔沙和卡尔森一开始有 $2019 \times 2019$ 个方格的正方形巧克力. 每一步, 马尔沙把剩余巧克力中的一块沿着方格线分成三块矩形巧克力, 然后卡尔森选择一块吃掉, 无法继续进行时游戏结束. 此时, 如果进行的步数为偶数, 则马尔沙获胜; 为奇数则卡尔森获胜. 谁有必胜策略?

解 卡尔森有必胜策略.

我们证明: 对一块 $m \times n$ 的巧克力, 卡尔森能保证进行奇数次操作的充要条件是 $m+n \geq 4$.

对 $m+n$ 归纳, 当 $m+n=4$ 时成立.

假设 $m+n \leq t-1(t \geq 5)$ 时命题成立, 下面考虑 $m+n=t$ 的情况:

设马尔沙将 $m \times n$ 的巧克力分成三块: $m_{1} \times n_{1}, m_{2} \times n_{2}, m_{3} \times n_{3}$. 由抽屉原理, $m_{1}+n_{1}, m_{2}+n_{2}, m_{3}+n_{3}$ 中必有两数同时 $\geq 4$ 或同时 $\leq 3$.

若 $m_{1}+n_{1}, m_{2}+n_{2}$ 均 $\leq 3$, 那么卡尔森吃掉 $m_{3} \times n_{3}$, 此时马沙尔无法进行操作, 那么共进行了一次操作. 若此时 $m_{1}+n_{1}, m_{2}+n_{2}$ 均 $\geq 4$, 卡尔森也吃掉 $m_{3} \times n_{3}$, 此时由归纳假设, 卡尔森能保证对剩下两块分别进行奇数次操作, 那么共进行了 $1+$ 奇数 + 奇数数 $=$ 奇数次操作, 即 $m+n=t$ 时, 命题成立.

综上可知, 充分性成立.

注意到 $2019+2019>4$, 故卡尔森有必胜策略.

评注 这是一道容易的组合题, 通过分析可发现卡尔森几乎必胜. 在归纳时也容易发现正方形的条件并没有本质作用, 所以可改成长方形进行归纳, 这样归纳时可顺利完成过渡。

第 8 题 闵希豪森男爵有一组砝码, 共有 100 种不同的质量, 均为整数, 每种质量的础码有 $2^{100}$ 个. 男爵号称如果选取每种质量的碰码各一个, 则这些法码的质量之和小于 $2^{1010}$, 且该质量不能用这组础码以其他方式组成, 男爵所说的能
否真实?

解 男爵所说的可以是真实的.

首先证明下面的引理:

设 $n$ 是给定的正整数, 若正整数 $x_{1}, x_{2}, \cdots, x_{k}$ (不必不同) 满足任意 $1 \leq i \leq$ $k$, 存在 $\alpha_{i} \in \mathbb{N}$, 使得 $x_{i} \equiv 2^{\alpha_{i}}\left(\bmod 2^{n}\right)$ 且 $x_{1}+x_{2}+\cdots+x_{k} \equiv 2^{n}-1\left(\bmod 2^{n}\right)$, 则 $k \geq n$, 且若 $k=n$, 则 $x_{i} \not \equiv x_{j}\left(\bmod 2^{n}\right)$, 其中 $1 \leq i \neq j \leq k$.

证明 注意到满足条件的 $k$ 是存在的 (比如 $\left.k=2^{n}-1, x_{i} \equiv 1\left(\bmod 2^{n}\right),\right)$ 故可设 $k_{0}$ 是最小的正整数, 使得 $k=k_{0}$ 时, 存在正整数 $x_{1}, x_{2}, \cdots, x_{k}$ 满足要求.

设 $\alpha_{i} \in \mathbb{N}$, 使得 $x_{i} \equiv 2^{\alpha_{i}}\left(\bmod 2^{n}\right)$.

若存在 $1 \leq i \leq k$, 使得 $\alpha_{i} \geq n$, 删去 $x_{i}$, 剩下的 $k-1$ 个正整数也满足要求,这与 $k_{0}$ 的最小性矛盾!

若存在 $1 \leq i \neq j \leq k$, 使得 $\alpha_{i}=\alpha_{j}$, 用 $2^{\alpha_{i}+1}$ 代替 $x_{i} x_{j}$, 其余 $k-2$ 个数不变, 这样的 $k-1$ 个数也满足要求, 这与 $k_{0}$ 的最小性矛盾!

故 $\alpha_{i}$ 满足 $0 \leq \alpha_{i} \leq n-1$ 且 $\alpha_{i}$ 互不相同.

由于

$$
2^{n}-1 \equiv x_{1}+x_{2}+\cdots+x_{k} \equiv 2^{\alpha_{1}}+2^{\alpha_{2}}+\cdots+2^{\alpha_{k}}\left(\bmod 2^{n}\right)
$$

及 $2^{\alpha_{1}}+2^{\alpha_{2}}+\cdots+2^{\alpha_{k}}>0$, 所以 $2^{\alpha_{1}}+2^{\alpha_{2}}+\cdots+2^{\alpha_{k}} \geq 2^{n}-1$.

又由 $(*)$ 知

$$
2^{\alpha_{1}}+2^{\alpha_{2}}+\cdots+2^{\alpha_{k}} \leq \sum_{i=0}^{n-1} 2^{i}=2^{n}-1
$$

于是由上面两式知 $\alpha_{1}, \alpha_{2}, \cdots, \alpha_{k}$ 是 $0,1, \cdots, n-1$ 的一个排列. 所以 $k_{0}=k=n$,即 $k \geq n$ 恒成立, 且由 $(*)$ 知 $k=n$ 时, $x_{i}$ 模 $2^{n}$ 互不相同.

回到原题.

考虑下面的 1000 个不同质量的砝码: $2^{1000}+2^{i}(0 \leq i \leq 999, i \in \mathbb{N})$. 它们的和是

$$
\sum_{i=0}^{999}\left(2^{1000+2^{i}}\right)=1000 \times 2^{1000}+2^{1000}-1=1001 \times 2^{1000}-1<2^{1010} .
$$

另外, 若一些砝码质量之和等于 $1001 \times 2^{1000}-1$, 设

$$
x_{1}+x_{2}+\cdots+x_{k}=1001 \times 2^{1000}-1\left(x_{i} \in\left\{2^{1000}+2^{i} \mid 0 \leq j \leq 999, j \in \mathbb{N}\right\}\right)
$$

一方面, 由于 $1001 \times 2^{1000}-1<1001 \times 2^{1000}$ 及 $2^{1000}+1>2^{1000}$, 所以 $k<1001$, 即 $k \leq 1000$.

另一方面 $x_{1}+x_{2}+\cdots+x_{k} \equiv 2^{1000}-1\left(\bmod 2^{1000}\right)$ 且对任意 $1 \leq j \leq k$, 存
在 $\alpha_{j} \in \mathbb{N}$, 使得 $x_{j} \equiv 2^{\alpha_{j}}\left(\bmod 2^{1000}\right)$. 所以, 由引理知 $k \geq 1000$.

故 $k=1000$. 由引理知 $x_{i}$ 模 $2^{1000}$ 互不相同. 所以 $\left\{x_{1}, x_{2}, \cdots, x_{k}\right\}=\left\{2^{1000}+\right.$ $\left.2^{i} \mid 0 \leq i \leq 999\right\}$, 即表示方法唯一.

综上可知, 男爵所说的可以是真实的.

评注 这是一道较容易的组合题. 首先需要认识到答案是能. 这类问题构造时容易想到的是与 2 的幕相关的, 引理是一个较常见的结论, 这里证明采用的是极端原理并分析每个 $x_{i}$ 的性质, 都较小且互异, 进而再比较大小得出唯一性.

第 9 题 假设在城市 $A, B, C, D$ 之间有道路 $A B, C D$, 但是没有 $B C, A D$, 则可以进行改革, 将道路 $A B$ 和 $C D$ 换位道路 $B C$ 和 $A D$. 一开始, 国家有若千城市, 有些城市之间有道路相连, 每个城市连出 100 条道路. 部长画了一张新的道路图, 其中每个城市同样连出 100 条道路 (没有两个城市连有超过一条道路). 证明: 新道路可以通过若干次改革得到.

解 1 (周书涵) 将道路图视作图. 其中城市为顶点, 两个城市间有道路则连边, 则两个图都是 100-正则简单图.

一次改革就是: 若四个顶点 $a, b, c, d$ 满足: $a \sim b, c \sim d$, 但 $b \nsim c, a \ngtr d$, 则可将边 $a b, c d$ 换为 $b c, a d$, 称作一次边交换.

要证原问题,即只需证: 任何两个顶点点集相同的 100-正则简单图均可经过边交换得到.

我们证明更强的结论: 设 $G, H$ 都是 $[n]$ 上的两个简单图, 且对任意 $v \in$ $[n], \operatorname{deg}_{G}(v)=\operatorname{deg}_{H}(v)$, 则 $G$ 可经过边交换得到 $H$.

对 $n$ 进行归纳.

当 $n=1,2$ 时, 结论成立.

假设 $n-1$ 时, 结论成立, 下面考虑 $n$ 的情况:

注意到边交换不改变每个顶底的度, 所以用归纳假设, 只需证明存在 $[n]$ 上的图 $G^{*}, H^{*}$, 使得 $G$ 可以通过边交换得到 $G^{*}, H^{*}$ 可以通过边交换得到 $H$, 且存在 $v \in[n]$, 使得

$$
N_{G^{*}}(v)=N_{H^{*}}(v)
$$

(即 $v$ 在 $G^{*}, H^{*}$ 中的邻点集相同.)

对任意 $v \in[n]$, 记 $\operatorname{deg}_{G}(v)=\operatorname{deg}_{H}(v)=d_{v}$, 任意 $u \in[n]$, 记 $d_{u}=d$.

设 $v_{1}, v_{2}, \cdots, v_{d}$ 是 $[n] \backslash\{u\}$ 中度最大的 $d$ 个点 (因为每个点在 $G H$ 中的度
相同, 故证法没有歧义). 于是对任意 $v \in[n] \backslash\{u\}, v \neq v_{i}(i=1,2, \ldots, d)$, 则 $d_{v} \leq d_{v_{j}}(j=1,2, \cdots, d)$.

先证明: $G$ 可通过边交换得到 $G^{*}$, 其中 $G^{*}$ 中 $u$ 与 $v_{1}, \cdots, v_{d}$ 相连.

设 $G$ 中 $u$ 与 $u_{1}, u_{2}, \cdots, u_{d}$ 相连, 不妨设 $u_{1}, u_{2}, \cdots, u_{d}, v_{1}, v_{2}, \cdots, v_{d}$ 互不相同 (否则少交换几次). 由 $v_{i}$ 的定义, 对任意 $1 \leq i \leq d$, 有

$$
d_{u_{i}} \leq d_{v_{i}}
$$

由于 $u \sim u_{i}$, 但 $u \nsim v_{i}$, 结合 (3) 知存在一点 $x \in[n]$, 使得 $u_{i} \nsim x, v_{i} \nsim x$. 对 $u u_{i} x v_{i}$ 操作一次变为 $u \nsim u_{i}, u \sim v_{i}$.

![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-16.jpg?height=214&width=504&top_left_y=864&top_left_x=773)

所以经过 (最多) $d$ 次边交换得到 $G^{*}$, 故 (2) 成立.

同理, $H$ 可通过边交换得到 $H^{*}$, 其中 $H^{*}$ 中 $u$ 与 $v_{1}, v_{2}, \cdots, v_{d}$ 相连.

由边交换的可逆性知 $H^{*}$ 也可通过边交换得到 $H$, 又

$$
N_{G^{*}}(u)=\left\{v_{1}, v_{2}, \cdots, v_{d}\right\}=N_{H^{*}}(u),
$$

所以 $G^{*}, H^{*}$ 满足 (1).

综上可知, 原问题得证.

解 2 (颜川皓) 我们证明如下结论：若两个图 $G, H$ 满足 (1) $V(G)=$ $V(H)(=V) ;(2)$ 对每个 $v \in V, \operatorname{deg}_{G}(v)=\operatorname{deg}_{H}(V)$.

则可以通过有限次 “2- 调换”操作使 $G$ 变为 $H$. 其中 “2- 调换”操作定义如下:

若四个顶点 $a, b, c, d \in V$, 且边 $a b, c d \in E(G), a c, b d \notin E(G)$, 则可将 $a b, c d$删去并加上 $a c, b d$, 使 $G$ 变为 $G^{\prime}$.

证明的策略如下: (注意到 “2- 调换”不改变每个顶点的度).

我们先对 $G$ 和 $H$ 分别进行若干次 “2- 调换”操作. 每次使 $G$ 与 $H$ 同时存在的边数增加, 直至不能操作为止 (由于 $G$ 和 $H$ 共同的边数有限故操作一定会停止), 并证明此时必有 $G=H$. 从而 $G$ 和 $H$ 都可以通过有限次操作到达一个中间态, 由于操作可逆, $G$ 也可以通过操作到达 $H$.

我们考虑任意对 $G$ 和 $H$ 的边进行 “2- 调换”操作都无法使 $|E(G) \cap E(H)|$增大时 $G$ 和 $H$ 应该满足的条件. 为此, 建立图 $G \triangle H$, 定义如下:

(1) $V(G \triangle H)=V$;

(2) 对 $u, v \in V$, 若 $u v \in E(G) \backslash E(H)$, 则 $u v$ 为 $G \triangle H$ 中的一条蓝色边;若 $u v \in E(H) \backslash E(G)$, 则 $u v$ 为 $G \triangle H$ 的一条红色边, 若非这两种情况, 则 $u v \notin E(G \triangle H)$. 例如:
![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-17.jpg?height=140&width=578&top_left_y=547&top_left_x=730)

则

![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-17.jpg?height=71&width=314&top_left_y=878&top_left_x=871)

其中实线为红边, 虚线为蓝边.

考虑 $G \triangle H$ 中四个点 $A, B, C, D$, 若 $A B, C D$ 为蓝, $B C$ 为红, 即

![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-17.jpg?height=177&width=146&top_left_y=1211&top_left_x=949)

考虑 $A D$.

(1) $A D \in E(G) \cap E(H)$, 则在 $H$ 中使 $B C, A D$ 换为 $A B, C D$, 可使 $\mid E(G) \cap$ $E(H) \mid$ 增大. 与假设矛盾!

(2) $A D \notin E(G) \cup E(H)$, 则在 $G$ 中使 $A B, C D$ 换为 $B C, A D$, 可使 $\mid E(G) \cap$ $E(H) \mid$ 增大, 矛盾!

(3) $A D \in E(H) \backslash E(G)$, 即 $A D$ 为红边, 则在 $G$ 中将 $A B, C D$ 换为 $A D, B C$,可使 $|E(G) \cap E(H)|$ 增大, 矛盾!

因此, 只可能 $A D \in E(G) \backslash E(H)$. 即 $A D$ 为蓝边. 故

![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-17.jpg?height=177&width=462&top_left_y=2073&top_left_x=794)

同理,

![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-17.jpg?height=171&width=460&top_left_y=2410&top_left_x=792)
下面证明一个引理:

一个简单图 $G(E(G) \neq \emptyset)$ 的边被染为红蓝两色, 且每个点的红度等于蓝度,则可以找到一条红蓝相间的闭合通路 (顶点和边均可重复).

证明 由于每个点的红蓝度数相等, 我们可以将每个点引出的红边与蓝边一一配对, 然后任意选取一条边 $u v \in E(G)$, 不妨为红, 在 $u$ 处找到与 $u v$ 配对的蓝边 $v w$, 再找在 $w$ 处与 $v w$ 配对的红边 $w x$, 依此类推. 注意到这种选取方式不产生重复边.

由于经过某条边到达一个顶点后与这条边对应的异色边一定还未选过, 除非这条异色边使初始边 $u v$, 且不经过重复边的通路为有限长, 故若干步后必回到 $u$, 且最终到达 $u$ 的是蓝边. 这样我们就找到了一条红蓝相间的闭合通路.

引理得证!

回到原题.

由于每个顶点 $v$ 有

$$
\operatorname{deg}_{g}(v)=\operatorname{deg}_{H}(v) .
$$

故 $E(G) \triangle E(H)$ 中每个点的红蓝度数相等.

若 $G \neq H$, 则 $G \triangle H$ 有边, 由引理我们可以选择一条长度最短的红蓝相间的闭合通路

$$
v_{1} v_{2} \cdots v_{2 k} v_{1}
$$

显然 $2 k>2$, 故 $2 k \geq 4$.

考虑 $v_{i} v_{i+1} v_{i+2} v_{i+3}$. 显然 $v_{i} \neq v_{i+2}$, 若 $v_{i} \neq v_{i+3}$, 不妨设 $v_{i} v_{i+1}, v_{i+2} v_{i+3}$ 为红, $v_{i+1} v_{i+2}$ 为蓝.

由之前的讨论可知 $v_{i} v_{i+3}$ 必为红边, 因此 $v_{1} v_{2} \cdots v_{i} v_{i+3} v_{i+4} \cdots v_{2 k} v_{1}$ 也是一条红蓝相间的闭合通路, 与最小性矛盾! 故必有 $v_{i}=v_{i+3}$.

由于 $i$ 是任意的, 故 $v_{1} v_{2} \cdots v_{2 k}$ 中至多有 3 个不同顶点, 但一个三角形中不可能形成红蓝相间的闭合通路:

![](https://cdn.mathpix.com/cropped/2024_02_26_081e79af9c012d00e27fg-18.jpg?height=174&width=226&top_left_y=2163&top_left_x=915)

若 $A B$ 红, $B C$ 蓝, $C A$ 红, 下一步无处可走.

因此这样的闭合通路不可能存在, 从而必有 $E(G \triangle H)=\emptyset$. 即 $G=H$.综上可得要证的结论成立.
评注 这是一道偏难的的组合题. 虽然解答不长, 但不容易想到. 证法 1 中大胆地去掉正则这个条件后, 想到对点数归纳, 为此需要操作使得一个定点在两图中的邻居相同. 这里经过尝试发现让它与度最大的几个顶点相连可能是唯一可行的达到此目的的方法. 证法 2 将题中 100-正则图的条件实际上改为更弱的对应点度相等, 容易想到只需在 $G$ 中操作使 $G$ 更接近 $H$ 或在 $H$ 中操作使 $H$ 更接近 $G$, 这就诱使我们去分析 $G$ 与 $H$ 的对称差, 可以得到 $E(G) \triangle E(H)$ 的很强的性质. 此时运用图论中的经典手法——取最短圈, 便可解出此题.

