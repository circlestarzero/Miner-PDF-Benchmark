# 2015 国外组合试题评析 (一) 

施柯杰 冷岗松

(上海大学数学系, 200444)

本文的 6 个组合题, 均取自 2015 年国外数学奥林匹克竞赛的试题, 我们给出解答与评析, 供有兴趣者参考.

首先介绍两道捷克-波兰-斯洛伐克 (Czech-Polish-Slovak) 三国联考的组合试题. 捷克-波兰-斯洛伐克数学竞赛在每年 6 月份举行, 由以上三国的国家队队员参加, 作为参加 IMO 之前的培训. 近两年, 该比赛贡献了不少好题, 颇具影响力.

问题 1. 一个集族 $\mathcal{F}$ 叫作 “完美的”，如果对任何三个集合 $X_{1}, X_{2}, X_{3} \in \mathcal{F}$,集合 $\left(X_{1} \backslash X_{2}\right) \cap X_{3}$ 和 $\left(X_{2} \backslash X_{1}\right) \cap X_{3}$ 中至少有一个是空集. 证明: 若 $\mathcal{F}$ 是一个有限集 $U$ 的完美子集族, 则 $|\mathcal{F}| \leq|U|+1$.

(捷克-波兰-斯洛伐克数学竞赛)

证法一 设 $\mathcal{F}$ 是 $U$ 的完美子集族, 我们对 $|U|$ 归纳证明 $|\mathcal{F}| \leq|U|+1$.

若 $|U|=0$, 即 $U=\emptyset$, 此时 $|\mathcal{F}| \leq 1$, 成立.

假设结论对 $|U|=k-1(k \geq 1)$ 成立, 下面考虑 $|U|=k$ 的情形.

取 $\mathcal{F}$ 中元素个数最多的元 $A$, 则 $|A| \geq 1$, 且 $A$ 不包含于 $\mathcal{F}$ 的其他元中. 下面证明 $A$ 中必有元素不在 $\mathcal{F}$ 的其他元中.

(i) 若 $A$ 与 $\mathcal{F}$ 的其他元都不交, 则 $A$ 中元素都不在 $\mathcal{F}$ 的其他元中;

(ii) 若 $A$ 与 $\mathcal{F}$ 中的一些元交非空, 则取 $\mathcal{F}$ 中与 $A$ 相交元素个数最多的元 $B$.由于 $A$ 是 $\mathcal{F}$ 中元素个数最多的元, 则存在 $x \in A$, 而 $x \notin B$. 可以证明 $x$ 不属于 $\mathcal{F}$ 的其他所有元. 否则, 存在 $C \in \mathcal{F}$, 使得 $x \in C$, 则 $x \in(C \backslash B) \cap A$. 又因为 $B$是与 $A$ 交集元素个数最多的集合, 从而 $(B \backslash C) \cap A \neq \emptyset$. 这与 $\mathcal{F}$ 是 $U$ 的完美子集族矛盾! 故 $x \in A$ 且 $x$ 不属于 $\mathcal{F}$ 的其他所有元.

因此 $A$ 中必有一元素不在 $\mathcal{F}$ 的其他元中, 记该元素为 $x$. 易知 $\mathcal{F} \backslash A$ 是集合 $U \backslash\{x\}$ 的完美子集族. 由归纳假设,

$$
|\mathcal{F} \backslash A| \leq|U \backslash\{x\}|+1=k-1+1=k .
$$

故 $|\mathcal{F}|=|\mathcal{F} \backslash A|+1 \leq k+1$. 因此当 $|U|=k$ 时, 结论成立.
综上所述, 结论对任意有限集 $U$ 都成立.

上述证明过程自然而优雅, 两次使用最优化思想, 选取元素个数最多的集合 $A$ 和与之相交元素个数最多的集合 $B$, 利用完美子集族的性质顺利得到结论. 自然地, 也可选取子集族中元素个数最少的非空集合来证明该问题.

证法二 设 $\mathcal{F}$ 是 $U$ 的完美子集族, 我们对 $|U|$ 归纳证明 $|\mathcal{F}| \leq|U|+1$.

若 $|U|=0$, 即 $U=\emptyset$, 此时 $|\mathcal{F}| \leq 1$, 成立.

假设结论对所有 $|U| \leq k-1(k \geq 1)$ 都成立, 下面考虑 $|U|=k$ 的情形.

取 $\mathcal{F}$ 中元素个数最少的非空元 $Z$. 可以证明, 对于 $\mathcal{F}$ 中的其他任意两个非空元 $X \neq Y$, 有 $X \backslash Z \neq Y \backslash Z$.

否则, 存在非空元 $Y_{1} \neq Y_{2} \in \mathcal{F}$, 使得 $Y_{1} \backslash Z=Y_{2} \backslash Z$. 从而 $Y_{1} \backslash Z \subseteq Y_{2}$, 于是 $Y_{1} \backslash Y_{2} \subseteq Z$. 同理 $Y_{2} \backslash Y_{1} \subseteq Z$. 不妨假设存在 $x_{1} \in Y_{1} \backslash Y_{2}$, 则 $x_{1} \in Z \backslash Y_{2}$. 由于 $Z$是 $\mathcal{F}$ 中元素个数最少的元, 从而 $|Z| \leq\left|Y_{2}\right|$, 且 $Z \nsubseteq Y_{2}$, 于是 $Y_{2} \backslash Z \neq \emptyset$. 因此存在 $x_{2} \in Y_{2} \backslash Z=Y_{1} \backslash Z$, 故

$$
x_{1} \in\left(Z \backslash Y_{2}\right) \cap Y_{1}, \quad x_{2} \in\left(Y_{2} \backslash Z\right) \cap Y_{1}
$$

这与 $\mathcal{F}$ 是 $U$ 的完美子集族矛盾! 因此 $(*)$ 得证.

令

$$
\mathcal{F}^{\prime}=\{Y \backslash Z: Y \in \mathcal{F}, Y \neq \emptyset\}
$$

则 $\mathcal{F}^{\prime}$ 是 $U \backslash Z$ 的完美子集族, 而 $|U \backslash Z| \leq k-1$, 故由归纳假设,

$$
\left|\mathcal{F}^{\prime}\right| \leq|U \backslash Z|+1 \leq k-1+1=k .
$$

由 $(*)$, 且 $\mathcal{F}$ 中可能有空集 $\emptyset$, 得

$$
|\mathcal{F}| \leq\left|\mathcal{F}^{\prime}\right|+1 \leq k+1=|U|+1 .
$$

因此当 $|U|=k$ 时, 结论成立.

综上所述, 结论对任意有限集 $U$ 都成立.

问题 2. 设正整数 $n \geq 2$ 是偶数. 黑板上写有 $n$ 个实数, 每次操作可以任意擦去两个数 $a, b$, 再写上这两个数的乘积 $a b, a b$. 证明: 不论初始时黑板上写有哪些实数, 总可以经过有限次操作, 使得黑板上的 $n$ 个数全相等.

(捷克-波兰-斯洛伐克数学竞赛)

这一题是捷克-波兰-斯洛伐克数学竞赛的第六题, 非常有难度. 用数学归纳法, 在得到 $n=2, n=4$ 成立后, 关键是 $n=6$ 的操作. 下面的证明, 本质上就是
以 $n=6$ 的操作方法推及到 $n=k$ ( $k$ 为偶数) 的一般情形.

证明 用数学归纳法证明对所有偶数 $n \geq 2$ 结论都成立.

当 $n=2$ 时, $(a, b)$ 经过操作变成 $(a b, a b)$, 结论成立.

假设当 $n=k$ ( $k \geq 2$ 为偶数) 时结论成立. 考虑 $n=k+2$ 时的情形.

由归纳假设, 黑板上的初始数组 $T_{0}$ 经过操作可以变成

$$
T_{1}=(\underbrace{a, \cdots, a}_{k}, b, b)
$$

考虑数组 $T_{1}$, 对每个 $i=3,4, \cdots, k$, 每一步对第 $i$ 个数和第 $k+1$ 个数操作. 这样, 第 $k-2$ 步之后数组 $T_{1}$ 变为

$$
T_{2}=\left(a, a, a b, a^{2} b, \cdots, a^{k-2} b, a^{k-2} b, b\right) .
$$

再对最后两个数操作, 得

$$
T_{3}=\left(a, a, a b, a^{2} b, \cdots, a^{k-2} b, a^{k-2} b^{2}, a^{k-2} b^{2}\right)
$$

观察数组 $T_{3}$, 对每个 $i=1,2, \cdots, \frac{n}{2}$, 每一步对第 $i$ 个数和第 $n+1-i$ 个数操作.这样, 第 $\frac{n}{2}$ 步之后, 数组 $T_{2}$ 变成

$$
T_{4}=\left(a^{k-1} b^{2}, a^{k-1} b^{2}, \cdots, a^{k-1} b^{2}, a^{k-1} b^{2}\right)
$$

即为所求.

因此对所有偶数 $n$, 结论成立.

评注 1. 当 $n \geq 3$ 为奇数时, 结论不成立. 考虑 $(\underbrace{3, \cdots, 3}_{n-1}, 2)$, 令 $m$ 为最大元素出现的个数, 即此时 $m=n-1$. 每一次操作后, $m$ 始终是偶数, 因此不能使这 $n$ 元数组每个元素都达到最大.

评注 2. 若将问题 2 中的求证的提问方式变成求 $n$ 解的提问方式, 难度会在原有基础上再提升一个台阶. 绝大多数同学会估计此题的解为 $n=2^{k}(k \geq 1)$,他们也可以证明此时结论成立. 但他们无法给出 $n$ 为其余值的反例, 特别是 $n=2^{k} q$ ( $k \geq 1, q$ 为奇数) 时的反例, 只好在此停下脚步.

问题 3. 令 $n>3$ 是一给定的整数. 求最大的整数 $d$, 满足对所有由 $n$ 个整数组成的集合 $S$, 存在四个不同的非空子集 (相交可以非空), 使得每个子集的元素之和都被 $d$ 整除。

(新加坡数学奥林匹克竞赛)

解 满足条件的最大的整数 $d=n-2$.
令 $S=\left\{a_{1}, a_{2}, \cdots, a_{n}\right\}$, 为方便计, 集合 $A$ 的元素和记为 $S(A)$.

当 $d \geq n$ 时, 令 $a_{i} \equiv 1(\bmod n) i=1, \cdots, n$. 则集合 $S$ 的元素和 $S(S) \equiv n$ $(\bmod d)$. 设 $T \subseteq S$, 且 $S(T) \equiv 0(\bmod d)$, 则只能有 $d=n, T=S$. 因此当 $d \geq n$时, 不存在四个不同的集合, 不合题意.

当 $d=n-1$ 时, 令 $a_{1} \equiv 0(\bmod d), a_{i} \equiv 1(\bmod d) i=2, \cdots, n$. 此时仅存在三个不同子集 $\left\{a_{1}\right\},\left\{a_{2}, \cdots, a_{n}\right\}$ 和 $S$ 满足元素和被 $d$ 整除, 不合题意.

下面考虑 $d=n-2$ 的情形.

先证明如下著名的 Erdös 引理.

引理 (Erdös) 任意 $n$ 元整数集都存在非空子集, 满足其元素和被 $n$ 整除.

引理证明 对集合 $S=\left\{a_{1}, a_{2}, \cdots, a_{n}\right\}$, 考虑 $a_{1}, a_{1}+a_{2}, \cdots, a_{1}+\cdots+a_{n}$.若这 $n$ 个和中有一元素被 $n$ 整除, 则引理得证. 反之, 存在 $1 \leq i<j \leq n$, 使得

$$
a_{1}+\cdots+a_{i} \equiv a_{1}+\cdots+a_{j} \quad(\bmod n),
$$

从而 $a_{i+1}+\cdots+a_{j} \equiv 0(\bmod n)$. 此时集合 $T=\left\{a_{i+1}, \cdots, a_{j}\right\}$ 符合要求. 引理得证.

回到原题. 当 $d=n-2$ 时, 由引理知, 存在非空子集 $T_{1} \subseteq S \backslash\left\{a_{n-1}, a_{n}\right\}$, 使得 $d \mid S\left(T_{1}\right)$. 取 $a_{i} \in T_{1}$, 由引理知, 存在非空子集 $T_{2} \subseteq S \backslash\left\{a_{i}, a_{n}\right\}$, 使得 $d \mid S\left(T_{2}\right)$.显然 $T_{1} \neq T_{2}$.

(i) 若 $T_{1} \cap T_{2}=\emptyset$. 令 $T_{3}=T_{1} \cup T_{2}$, 则 $T_{3} \neq T_{1}, T_{2}$, 且 $d \mid S\left(T_{3}\right)$. 取 $a_{i} \in T_{1}$, $a_{j} \in T_{2}$, 则 $a_{i} \neq a_{j}$. 由引理知, 存在非空子集 $T_{4} \subseteq S \backslash\left\{a_{i}, a_{j}\right\}$, 使得 $d \mid S\left(T_{4}\right)$. 显然 $T_{4} \neq T_{1}, T_{2}, T_{3}$. 从而 $T_{1}, T_{2}, T_{3}, T_{4}$ 是符合要求的 4 个不同的子集.

(ii) 若 $T_{1} \cap T_{2} \neq \emptyset$. 取 $a_{r} \in T_{1} \cap T_{2}$, 由引理知, 存在非空子集 $T_{3} \subseteq S \backslash\left\{a_{r}, a_{n}\right\}$,使得 $d \mid S\left(T_{3}\right)$, 且 $T_{3} \neq T_{1}, T_{2}$. 取 $a_{s} \in T_{3}$, 则 $a_{s} \neq a_{r}$. 由引理知, 存在非空子集 $T_{4} \subseteq S \backslash\left\{a_{r}, a_{s}\right\}$, 使得 $d \mid S\left(T_{4}\right)$. 显然 $T_{4} \neq T_{1}, T_{2}, T_{3}$. 从而 $T_{1}, T_{2}, T_{3}, T_{4}$ 是符合要求的 4 个不同的子集.

综上所述, $d=n-2$ 时结论成立. 故 $d_{\text {max }}=n-2$.

问题 3 是 2015 年新加坡公开赛的最后一题. 该题证明中 Erdös 引理起到了至关重要的作用, 反复运用 Erdös 引理, 证明过程自然流畅, 一气呵成. 巧的是, 2015 年捷克和斯洛伐克数学竞赛 $A$ 组的最后一题, 是同问题 3 类似的问题, 只是要求 “存在三个不同的非空集合” , 具体的是:

令 $n>3$ 是一给定的整数. 求最大的整数 $d$, 满足对所有由 $n$ 个整数组成的集合 $S$, 存在三个不同的非空子集 (相交可以非空)，使得每个子集的元素之和都
被 $d$ 整除.

该题满足条件的最大的整数 $d=n-1$. 方法跟问题 3 类似, Erdös 引理仍是证明的关键. 详细解答留给感兴趣的读者.

问题 4. 称 $n$ 元数组 $\left(a_{1}, \cdots, a_{n}\right)$ 是 “间或周期” 的, 如果存在非负整数 $i$ 和正整数 $p$, 满足 $i+2 p \leq n$, 且对所有的 $j=1,2, \cdots, p$, 都有

$$
a_{i+j}=a_{i+p+j}
$$

令 $k$ 是一给定的正整数, 求最小的正整数 $n$, 使得 $n$ 元数组 $\left(a_{1}, \cdots, a_{n}\right)$ 不是间或周期的 (其中 $a_{i} \in\{1,2, \cdots, k\}$ ), 而它的延拓 $\left(a_{1}, \cdots, a_{n}, a_{n+1}\right)$ 对任意 $a_{n+1} \in\{1,2, \cdots, k\}$ 都满足是间或周期的.

(爱沙尼亚国家队选拔考试)

问题 4 是 2015 年爱沙尼亚国家队选拔考试最后一题, 该题需正确理解 “间或周期” 定义, 观察间或周期数组的性质. 每个 $a_{n+1}=i$, 对应周期长度 $p_{i}$, 找出不同 $p_{i}$ 和 $p_{j}$ 的大小关系 (若 $p_{i}>p_{j}$, 则 $p_{i} \geq 2 p_{j}$ ), $i \neq j \in\{1,2, \cdots, k\}$. 从而由最大的周期长度 $p_{\text {max }}$ 来得到数组个数 $n$ 的大小.

解 满足条件的最小的正整数 $n=2^{k}-1$.

称题中的 $p$ 为数组的周期长度. 设 $a_{n+1}=i(i=1,2, \cdots, k)$ 的周期长度为 $p_{i}$, 则若 $i_{1} \neq i_{2} \in\{1,2, \cdots, k\}$, 有 $p_{i_{1}} \neq p_{i_{2}}$. 否则,

$$
i_{1}=a_{n+1}=a_{n+1-p_{i_{1}}}=a_{n+1-p_{i_{2}}}=a_{n+1}^{\prime}=i_{2}
$$

矛盾! 故不妨设 $p_{i_{1}}<p_{i_{2}}$. 若 $p_{i_{2}}<2 p_{i_{1}}$, 则对任意的 $1 \leq j \leq p_{i_{2}}-p_{i_{1}}<p_{i_{1}}$, 有

$$
\begin{aligned}
a_{n+1-2 p_{i_{1}}+j} & =a_{n+1-p_{i_{1}}+j}=a_{n+1-p_{i_{2}}+\left(p_{i_{2}}-p_{i_{1}}\right)+j}=a_{n+1-2 p_{i_{2}}+\left(p_{i_{2}}-p_{i_{1}}\right)+j} \\
& =a_{n+1-2 p_{i_{1}}+j-\left(p_{i_{2}}-p_{i_{1}}\right)} .
\end{aligned}
$$

又 $n+1-2 p_{i_{1}}+j<n+1-p_{i_{1}}$, 故 $\left(a_{1}, \cdots, a_{n}\right)$ 是以 $p_{i_{2}}-p_{i_{1}}$ 为周期长度的间或周期数组, 矛盾! 从而 $p_{i_{2}} \geq 2 p_{i_{1}}$.

故数组 $\left(a_{1}, \cdots, a_{n}, a_{n+1}\right)$ 的 $k$ 个周期长度 $p_{1}, \cdots, p_{k}$ 两两不等, 且若 $p_{i}>p_{j}$,有 $p_{i} \geq 2 p_{j}(1 \leq i \neq j \leq k)$. 易知最小周期长度 $\min \left\{p_{1}, \cdots, p_{k}\right\}=1$, 此时 $a_{n+1}=a_{n}$. 从而最大的周期长度 $p_{\max }=\max \left\{p_{1}, \cdots, p_{k}\right\} \geq 2^{k-1}$. 故

$$
n+1 \geq 2 p_{\max } \geq 2 \cdot 2^{k-1}
$$

即 $n \geq 2^{k}-1$.

下面用数学归纳法给出 $n=2^{k}-1$ 的具体构造.
当 $k=1$ 时, 数组 $(1)$ 与 $(1,1)$ 成立;

假设当 $k-1$ 时, 数组 $\left(a_{1}, \cdots, a_{n_{0}}\right)$ 满足要求, 则 $n_{0}=2^{k-1}-1$. 此时记该数组为 $L_{k-1}$. 下面讨论 $k$ 的情形.

考虑数组 $M_{k}=\left(L_{k-1}, k, L_{k-1}\right)$. 显然 $M_{k}$ 不是间或周期的, 而对任意的 $i \in\{1,2, \cdots, k-1\}$, 由归纳假设, $\left(M_{k}, i\right)=\left(L_{k-1}, k, L_{k-1}, i\right)$ 是间或周期的; 当 $i=k$ 时,$\left(M_{k}, k\right)=\left(L_{k-1}, k, L_{k-1}, k\right)$ 是周期长度最大的间或周期数组. 故数组 $M_{k}$ 符合要求, 此时

$$
n=\left(2^{k-1}-1\right) \times 2+1=2^{k}-1
$$

这就给出了 $n=2^{k}-1$ 的具体构造.

综上所述, $n$ 的最小值为 $2^{k}-1$.

下面介绍两道 2015 年保加利亚的组合题. 保加利亚开展数学竞赛有很长的历史, 多次在国际数学奥林匹克竞赛中跻身前列, 在国际奥赛界有很大的影响力.保加利亚也贡献了不少好题, 广受赞誉.

问题 5. 将一个 $n \times n$ 表格中的 101 个小方格染成蓝色. 已知存在唯一的方法能将表格沿方格线切成一些矩形, 使得每个矩形恰含有一个蓝色小方格. 试求 $n$ 的最小可能值.

(保加利亚数学奥林匹克竞赛)

解 $n$ 的最小可能值为 101 .

我们首先证明下面更一般的结论.

引理 已知一个 $n \times n$ 表格 $P$ 中的 $m$ 个小方格被染成了蓝色. 称 $P$ 有一个 “好的” 分割, 如果沿方格线将表格分割成 $m$ 个矩形, 且每个矩形恰含有一个蓝色小方格. 则 $P$ 有唯一的好的分割当且仅当 $m$ 个蓝色小方格组成一个矩形.

引理证明一方面, 若 $m$ 个蓝色小方格组成一个 $m_{1} \times m_{2}\left(m_{1}, m_{2} \geq 1\right)$ 的矩形 $A$, 将 $A$ 的四个角上的方格分别与 $P$ 的四个角上的方格成对角切成矩形; $A$ 的四个边上的小方格与其所在行 (列) 的最上下 (左右) 的方格为两端构成 $1 \times s(s \geq 1)$ 的矩形; $A$ 的内部的每个小方格单独作一个矩形. 这就构成了 $P$ 的一个好的分割 $S$, 易知 $P$ 只有这唯一的好的分割.

另一方面, 考虑 $P$ 有唯一的好的分割 $S$. 称一条方格线为 “分割线” , 若沿该线能将 $P$ 分成两个矩形, 且每个矩形至少含有一个蓝色小方格.

我们首先证明: 每一个至少含有一个蓝色小方格的矩形 $A$ 都有一个好的分
我们对 $A$ 中的蓝色方格数 $k$ 用数学归纳法证明 $(*)$.

若 $k=1$, 则由好的分割的定义, $(*)$ 显然成立.

假设结论对 $k \leq t-1$ 都成立, 考虑 $k=t$ 的情形. 此时存在分割线将 $A$ 分割成两个矩形 $A_{1}$ 和 $A_{2}$, 且每个矩形都至少含有一个蓝色方格. 由归纳假设, $A_{1}$ 和 $A_{2}$ 都有一个好的分割, 故 $A$ 有一个好的分割, $(*)$ 成立.

由 $(*)$ 及分割线的定义知, 每一条分割线 $l$ 切成的两个矩形都有好的分割.又因为 $S$ 是 $P$ 的唯一的好的分割, 故 $S$ 包含 $P$ 中的所有分割线.

令 $l_{1}, \cdots, l_{p}$ 是从左到右所有的坚直分割线, $m_{1}, \cdots, m_{q}$ 是由下至上所有的水平分割线, 则它们将 $P$ 分割成了一些矩形, 且每个矩形至多含有一个蓝色小方格. 又 $S$ 以这些分割线分割 $P$, 则分得 $m$ 个矩形, 每个矩形恰含一个蓝色小方格.

令 $l_{0}$ 为左侧没有蓝色小方格的最靠近 $l_{1}$ 的坚直方格线, $l_{p+1}$ 为右侧没有蓝色小方格的最靠近 $l_{p}$ 的坚直方格线, $m_{0}$ 和 $m_{q+1}$ 为类似定义的水平方格线. 由上述讨论知, $l_{i}$ 与 $l_{i+1}$ 之间的距离 $d\left(l_{i}, l_{i+1}\right)=1, i=0,1, \cdots, p$, 否则, 在两条分割线间还可以加入新的分割线. 类似的, $d\left(m_{j}, m_{j+1}\right)=1, j=0,1, \cdots, q$. 因此蓝色小方格形成以 $l_{0}, l_{p+1}, m_{0}, m_{q+1}$ 为边界线的矩形. 引理得证.

回到原题, 表格 $P$ 有唯一的好的分割, 由引理, 101 个蓝色方格须组成一个矩形, 因此只能是 $1 \times 101$ 的矩形, 故 $n$ 的最小值为 101 .

问题 6. 在一次数学奥林匹克竞赛中, 学生们分别各自获得了代数、几何、数论和组合四门课的成绩. 已知每两个学生的四门课的成绩都不相同.一组学生叫作 “好的”，如果这组学生可以按至少两门课的成绩同时递增的顺序排列. 求最小的正整数 $N$, 使得在所有的 $N$ 个学生中存在一个由 10 个学生组成的 “好的” 组.

(保加利亚数学奥林匹克竞赛)

解法一 满足条件的最小的正整数 $N=730$.

首先证明如下引理.

引理 序列 $\left\{a_{n}\right\}$ 中不存在 10 元递增子列当且仅当可以将 $\left\{a_{n}\right\}$ 染成 9 种颜色, 且同种颜色的 $a_{i}$ 单调递减.

引理证明 若 $\left\{a_{n}\right\}$ 被染成 9 种颜色, 且同种颜色的 $a_{i}$ 单调递减, 则 $\left\{a_{n}\right\}$ 的任意 10 元子列中必存在两元素染同种颜色, 它们是递减的, 从而该 10 元子列不是递增的, 故 $\left\{a_{n}\right\}$ 不存在 10 元递增子列.
若 $\left\{a_{n}\right\}$ 不存在 10 元递增子列, 则将最长递增长度为 $i$ 的子列的最后一项染成 $i$ 色, 即若 $a_{j}$ 被染成 $i$ 色, 则 $a_{j}$ 之前有 $i-1$ 个元素比 $a_{i}$ 小, 易知 $1 \leq i \leq 9$.如果 $a_{j}$ 和 $a_{k}$ 都被染成了 $i$ 色, 且 $j<k$, 则必有 $a_{k}<a_{j}$. 否则 $a_{k}$ 之前比 $a_{k}$ 小的数至少有 $i$ 个, 矛盾! 故染同种颜色的 $a_{i}$ 单调递减. 引理得证.

回到原题. 先证明 $N=730$ 符合题意. 记 730 位按代数成绩递增顺序排列的学生为 $N_{1}, \cdots, N_{730}$, 设 $b_{1}, \cdots, b_{730}$ 分别是 $N_{1}, \cdots, N_{730}$ 的数论成绩. 若 $b_{1}, \cdots, b_{730}$ 中存在 10 元递增子列, 则结论已证. 故设 $b_{1}, \cdots, b_{730}$ 中不存在 10 元递增子列, 则由引理知, 可将 $b_{1}, \cdots, b_{730}$ 染成 9 种颜色, 且同种颜色的 $b_{i}$ 递减.因此必有 82 个 $b_{i}$ 染同种颜色, 则它们递减. 记所对应的学生为 $M_{1}, \cdots, M_{82}$, 他们的代数成绩递增, 数论成绩递减.

设 $c_{1}, \cdots, c_{82}$ 分别是 $M_{1}, \cdots, M_{82}$ 的组合成绩. 若 $c_{1}, \cdots, c_{82}$ 中不存在 10 元递增子列, 则由引理知, 可将 $c_{1}, \cdots, c_{82}$ 染成 9 种颜色, 且同种颜色的 $c_{i}$ 单调递减. 因此, 必存在 10 位学生的 $c_{i}$ 染同种颜色, 则这些 $c_{i}$ 递减. 记这 10 位学生为 $L_{1}, \cdots, L_{10}$, 他们的数论成绩递减, 组合成绩递减. 故 $L_{10}, L_{9}, \cdots, L_{1}$ 即为符合要求的 “好的” 组.

下面说明 $N=729$ 不合题意.

假设 729 位学生的代数成绩分别为 $0,1, \cdots, 728$, 按递增顺序排列. 将分数 $k(0 \leq k \leq 728)$ 用九进制表示成 $k=(i, j, l)$, 其中 $0 \leq i, j, l \leq 8$, 且满足 $k=i \cdot 9^{2}+j \cdot 9+l$.

令代数成绩为 $k$ 的学生数论成绩为 $n_{k}=f_{12}(k)=(8-i, 8-j, l)$, 组合成绩为 $c_{k}=f_{13}(k)=(8-i, j, 8-l)$, 几何成绩为 $g_{k}=f_{23}(k)=(i, 8-j, 8-l)$.

先考虑数论成绩 $n_{k}=(8-i, 8-j, l)$, 将 $n_{k}$ 第三位数字相同的分数染同种颜色, 则易知可将所有分数染成 9 种颜色, 且同种颜色的 $n_{k}$ 递减. 故由引理, $\left\{n_{k}\right\}$不存在 10 元递增子列.

类似地, 分别对组合成绩 $c_{k}=(8-i, j, 8-l)$ 和几何成绩 $g_{k}=(i, 8-j, 8-l)$的第二位和第一位数字相同的分数染同种颜色. 根据以上讨论, $\left\{c_{k}\right\}$ 和 $\left\{g_{k}\right\}$ 都不存在 10 元递增子列.

另外, 注意到 $n_{k}, c_{k}, g_{k}$ 对 $(i, j, l)$ 的操作方式不同, 观察这三组数, 易知任意两组数中都不存在同时递减的 10 元子列. 故 $N=729$ 不合题意.

综上所述, $N_{\min }=730$.

解法一中的引理在问题解决中起到了非常关键的作用, 在验证 $N \geq 730$ 及构造 $N=729$ 的反例中, 都需要反复利用引理. 而当 $N=729$ 时, 九进制的表示
使得解答书写简便, 形式美观, 讨论起来更加自然顺畅, 湖南雅礼中学江朗和吉林大学附属中学于翔宇等同学给出了与上述解法本质上一致的反例构造. 另外,考虑数列的递增递减子列, 有著名的 Erdös-Szekeres 定理, 解法一的引理本质上就是这个定理的思想. 江朗和于翔宇同学敏锐的发现了这一点, 用 Erdös-Szekeres 定理证明了 $N \geq 730$ 时的合理性. 下面解法二只提供合理性证明, 反例构造与解法一本质一致.

解法二 满足条件的最小的正整数 $N=730$.

首先证明如下引理.

引理 (Erdös-Szekeres) 设 $m, n$ 为正整数, 则任意由 $m n+1$ 个不同实数构成的数列 $a_{1}, \cdots, a_{m n+1}$ 必包含长为 $m+1$ 的递增子列或长为 $n+1$ 的递减子列.

引理证明 用反证法. 假设既无长为 $m+1$ 的递增子列, 又无长为 $n+1$ 的递减子列. 记 $L\left(a_{i}\right)$ 为以 $a_{i}$ 为首项的递增子列的最大长度, 则 $L\left(a_{i}\right) \leq m, i=$ $1,2, \cdots, m n+1$. 从而必存在 $i_{1}<i_{2}<\cdots<i_{n+1}$, 使得

$$
L\left(a_{i_{1}}\right)=\cdots=L\left(a_{i_{n+1}}\right) .
$$

可以证明, $a_{i_{1}}, \cdots, a_{i_{n+1}}$ 构成递减子列. 否则存在 $j \in\{1,2, \cdots, n\}$, 使得 $a_{i_{j}}<a_{i_{j+1}}$. 则以 $a_{i_{j}}$ 为首项的最大递增子列包含以 $a_{i_{j+1}}$ 为首项的最大递增子列,从而 $L\left(a_{i_{j}}\right) \geq L\left(a_{i_{j+1}}\right)+1$, 矛盾! 故 $a_{i_{1}}, \cdots, a_{i_{n+1}}$ 构成递减子列, 这与假设矛盾!因此引理得证.

回到原题. 先证明 $N=730$ 符合题意. 记 $N_{1}, \cdots, N_{730}$ 是按代数成绩递增排列的学生, 设 $b_{1}, \cdots, b_{730}$ 分别是 $N_{1}, \cdots, N_{730}$ 的数论成绩. 由引理, $b_{1}, \cdots, b_{730}$中必存在 10 元递增子列或 82 元递减子列. 若存在 10 元递增子列, 则结论已证.反之, 必存在 82 元递减子列, 记其对应的学生为 $M_{1}, \cdots, M_{82}$. 则他们满足代数成绩递增, 数论成绩递减.

设 $c_{1}, \cdots, c_{82}$ 为 $M_{1}, \cdots, M_{82}$ 的组合成绩, 由引理, $c_{1}, \cdots, c_{82}$ 中必存在 10 元递增子列或 10 元递减子列. 若其存在 10 元递增子列, 则结论已证. 反之, $M_{1}, \cdots, M_{82}$ 中存在 10 位学生其数论成绩和组合成绩均递减, 记为 $L_{1}, \cdots, L_{10}$,则 $L_{10}, \cdots, L_{1}$ 即为符合条件的 “好的” 组.

