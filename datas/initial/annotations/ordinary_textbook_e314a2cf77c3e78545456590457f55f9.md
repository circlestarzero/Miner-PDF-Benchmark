数学新星网 $\%$ 学生专栏

www.nsmath.cn/xszl

# 2017 年北大清华金秋营试题简析 

孙孟越 ${ }^{1}$ 杨泓暕 ${ }^{2}$ 刘润声 ${ }^{3}$ 谭健翔 ${ }^{3}$ 金及凯 ${ }^{1}$ 付云皓 4

(1. 华东师范大学第二附属中学, 201203; 2. 中国人民大学附属中学, 100080;

3. 华南师范大学附属中学, 510630; 4. 广东第二师范学院数学系, 510303)

金秋十月, 北京大学和清华大学如期举办了数学学科营. 北大的考试时间为 2017 年 10 月 13 日下午和 2017 年 10 月 14 日上午, 每次 3 小时, 分别由四道题目组成. 清华的考试时间为 2017 年 10 月 13 日晚上, 共 3 小时 6 个题目. 本文我们给出这些题目的解答以及一些简评.

北大金秋营试题及评析由孙孟越、杨泓暕、付云皓、金及凯整理. 清华秋令营试题及评析由杨泓暕、刘润声、谭健翔、孙孟越、付云皓整理.

## I. 试 题

## 一、北大金秋营试题

1. 已知锐角三角形 $A B C$ 外心为 $O, B O \cap A C=F, C O \cap A B=E, E F$ 的中垂线交 $B C$ 于 $D, D E \cap B F=M, D F \cap C E=N$. 若 $E M, F N$ 的垂直平分线交于 $E F$ 上一点 $K$, 求证: $\angle B A C=60^{\circ}$.
2. 已知 $m=42$, 且集合 $S=\{1,2, \cdots, 51 m\} . A$ 为 $S$ 的子集, 且满足 $|A|=50 \mathrm{~m}$. 求证: 存在非空子集 $X, Y \subseteq S$, 满足: (1) $X \cap Y=X \cap A=Y \cap A=\emptyset$; (2) $\sum_{x \in X} x=\sum_{y \in Y} y$; (3) $\sum_{x \in X} x^{2}=\sum_{y \in Y} y^{2}$.
3. 给定素数 $p$, 已知 $n, a$ 为正整数, 且 $\operatorname{gcd}(a, p)=1$. 证明: 存在无穷个 $k \in \mathbb{N}^{+}$, 使得 $p^{n} \mid k^{k}-a$.
4. 求最小的 $\lambda$ 使得对一切满足 $a_{i}<2^{i}$ 的正实数 $a_{1}, a_{2}, \cdots, a_{n}$, 都有

$$
\sum_{i, j=1}^{n}\left\{a_{i} a_{j}\right\} \leq \lambda \sum_{i=1}^{n}\left\{a_{i}\right\}
$$

其中 $\{x\}$ 表示 $x$ 的小数部分.

收稿日期: 2017-10-19； 修订日期: 2017-10-22.

5. 实数 $x_{i} \neq 0, i=1,2, \cdots, n$ 满足 $\sum_{i=1}^{n} x_{i}=0$, 求下式

$$
\left(\sum_{i=1}^{n} x_{i}^{2}\right)\left(\sum_{i=1}^{n} \frac{1}{x_{i}^{2}}\right)
$$

的最小值.

6. 已知 $[0, n]$ 的 $n$ 元子集 $S$ 满足 $0 \in S, n \in S$. 若 $S+S=\{x+y: x, y \in S\}$中恰有 $2 n$ 个元素, 则称 $S$ 为 $n$-好的. 求所有 $n$-好的集合 $S$ 的个数.
7. 求所有的函数 $f: \mathbb{R} \rightarrow \mathbb{R}$, 满足对任意实数 $x, y$ 均有

$$
f(f(x)+y)=2 x+f(f(y)-x) .
$$

8. 给定正整数 $p, q$, 满足 $1<q<p$. 求证: 对任意素数 $r>p$, 存在正整数 $n$ 满足

$$
r \left\lvert\,\left(\begin{array}{l}
p^{n} \\
q^{n}
\end{array}\right)\right.
$$

## 二、清华金秋营试题

1. 设 $T$ 是一个平面到自身的映射, 满足平面上任意两点在变换 $T$ 下的距离不变. 证明: 存在实数 $a, b, c, d, x_{0}, y_{0} \in \mathbb{R}$, 使得 $T$ 将每个点 $(x, y)$ 映射成 $\left(a x+b y+x_{0}, c x+d y+y_{0}\right)$.
2. 求所有的连续函数 $f: \mathbb{R}^{+} \rightarrow \mathbb{R}^{+}$使得对任意 $x, y>0$,

$$
f\left(\frac{x+y}{2}\right)=f(\sqrt{x y}) .
$$

3. 已知 $m, n \in \mathbb{N}^{*}, m<n$. 证明:

$$
\sum_{i=0}^{m}\left(\begin{array}{c}
n \\
i
\end{array}\right)<\left(\frac{3 n}{m}\right)^{m}
$$

4. 对有限实数集 $X$, 记 $n(X)=|S|$, 其中

$$
S=\left\{\left(x_{1}, x_{2}, x_{3}, x_{4}\right) \mid x_{1}+x_{2}=x_{3}+x_{4}, x_{i} \in X(i=1,2,3,4)\right\}
$$

证明：对于有限实数集 $A, B, C, D$, 集合 $M=\{(a, b, c, d) \mid a+b=c+d, a \in$ $A, b \in B, c \in C, d \in D\}$ 的元素个数不超过 $\sqrt[4]{n(A) n(B) n(C) n(D)}$.

5. 给定奇素数 $p$ 和整数 $a$. 求方程 $x^{2}+y^{2} \equiv a(\bmod p)$ 在模 $p$ 意义下的解的个数.
6. 已知 $x>2$ 是实数, 证明: 若一个简单图 $G$ 中有不少于 $\frac{x(x-1)(x-2)}{6}$ 个三角形, 则图 $G$ 的边数大于等于 $\frac{x(x-1)}{2}$.

## II . 解答与评注

## 一、北大金秋营试题解析

1. 已知锐角三角形 $A B C$ 外心为 $O, B O \cap A C=F, C O \cap A B=E, E F$ 的中垂线交 $B C$ 于 $D, D E \cap B F=M, D F \cap C E=N$. 若 $E M, F N$ 的垂直平分线交于 $E F$ 上一点 $K$, 求证: $\angle B A C=60^{\circ}$.
![](https://cdn.mathpix.com/cropped/2024_02_26_fd9658c146563b69fe6fg-03.jpg?height=498&width=1260&top_left_y=656&top_left_x=406)

## 证明 (金及凯、孙孟越)

由于 $\angle K N F=\angle K F N=\angle E F D=\angle D E F$, 故 $K, N, E, D$ 共圆, 同理 $K, M, F, D$ 共圆. 这表明 $K$ 是完全四边形 $M O N D E F$ 的密克点. 这说明 $K, O, M, E$ 共圆, $K, O, N, F$ 共圆.

注意到 $\angle E O K=\angle E F N=\angle K N F=\angle K O F$, 故 $O K$ 是 $\angle E O F$ 的内角平分线. 而 $\angle E O F=2 \angle B A C$, 故我们有 $\angle D E F=\angle D F E=\frac{1}{2} \angle E O F=\angle B A C$.故 $D E, D F$ 为 $\triangle A E F$ 外接圆的切线.

记 $\omega$ 为 $\triangle A E F$ 的外接圆, 设 $O^{\prime}$ 为 $C E$ 与 $\omega$ 不同于 $E$ 的交点.

对内接于圆 $\omega$ 的六边形 $A E E O^{\prime} F F$ 用 Pascal 定理, $E E \cap F F=D, A F \cap$ $O^{\prime} E=C$. 故 $A E, O^{\prime} F, C D$ 共点, 但 $A E \cap C D=B$, 故 $B, O^{\prime}, F$ 共线, $O=O^{\prime}$.

故 $O$ 在 $\omega$ 上, 这推出 $\angle B A C+2 \angle B A C=180^{\circ}$, 即 $\angle B A C=60^{\circ}$, 结论成立.

评注 这样的几何题放在第一题, 难度着实不小. 前面一半密克点部分的论证是不困难的, 可以通过 $E, F$ 确定点 $D$ 的位置; 难点是如何用好 $B, D, C$ 共线的条件, 这其实是 Pascal 定理的结构.

2. 已知 $m=42$, 且集合 $S=\{1,2, \cdots, 51 m\} . A$ 为 $S$ 的子集, 且满足 $|A|=50 \mathrm{~m}$. 求证: 存在非空子集 $X, Y \subseteq S$, 满足: (1) $X \cap Y=X \cap A=Y \cap A=\emptyset$;

(2) $\sum_{x \in X} x=\sum_{y \in Y} y$; (3) $\sum_{x \in X} x^{2}=\sum_{y \in Y} y^{2}$.

## 证明 (杨泓暕、孙孟越)

我们其实就是要证明: 任给 $S$ 的 $m$ 元子集 $B$, 存在 $B$ 的两个不同的子集,其和与平方和都相等 (注意不交的条件可以通过去掉交集保证).

对 $X \subset B$, 记 $f(X)=\left(\sum_{x \in X} x, \sum_{x \in X} x^{2}\right)$. 为了证明结论成立, 我们只要证明 $f$值域的元素个数少于 $2^{m}$ 即可.

为了精确地估计, 我们需要利用 $\sum x$ 与 $\sum x^{2}$ 的关系: 对每个和 $S_{1}=\sum x$,我们来看 $S_{2}=\sum x^{2}$ 能取到多少值.

由 Cauchy 不等式及序关系知道 $\frac{S_{1}^{2}}{m} \leq S_{2} \leq 51 \mathrm{~m} \cdot S_{1}$, 再注意到

$$
0 \leq S_{1} \leq \frac{m}{2}(50 m+1+51 m)=89103
$$

故 $f(X)$ 的值域的元素个数不大于

$$
\sum_{k=0}^{89103}\left(51 m \cdot k-\frac{k^{2}}{m}+1\right)=\frac{8665798181516}{3}<4 \cdot 10^{12}<2^{42}
$$

即知结论成立.

评注 本题有相当难度, 难点主要在于计数的改进上, 几乎无人拿到满分.这个想法也出现于 2017 年新星夏季精品班小考问题 1.4 中. 我们再举一个问题作为练习:

给定正整数 $N$, 问是否存在两个不同的集合 $A, B$, 满足 $|A|,|B| \leq N^{2}$, 且对 $x \in(0,1)$ 成立

$$
\left|\sum_{a \in A} x^{a}-\sum_{b \in B} x^{b}\right|<(1-x)^{N} ?
$$

3. 给定素数 $p$, 已知 $n, a$ 为正整数, 且 $\operatorname{gcd}(a, p)=1$. 证明: 存在无穷个 $k \in \mathbb{N}^{+}$, 使得 $p^{n} \mid k^{k}-a$.

## 证明 (孙孟越)

首先, 我们注意到, 若 $k$ 满足 $p^{n} \mid k^{k}-a$, 那么由欧拉定理, $k+p^{n}(p-1)$ 也满足. 故只要找到一个 $k$ 即可.

我们对 $n$ 用数学归纳法.

$n=1$ 时, 取 $k=(p-1)(p-a)+p$, 由费马小定理, 则有

$$
k^{k} \equiv a^{p} \equiv a \quad(\bmod p)
$$

结论成立.

下设 $n$ 时成立. 考虑 $n+1$ 时, 设正整数 $k$ 满足 $p^{n} \mid k^{k}-a$, 则 $(p, k)=1$.
对 $t=0,1,2, \cdots, p-1$, 由欧拉定理以及二项式定理,

$$
\begin{aligned}
\left(k+p^{n}(p-1) t\right)^{\left(k+p^{n}(p-1) t\right)} & \equiv\left(k+p^{n}(p-1) t\right)^{k} \\
& \equiv k^{k}+\left(k(p-1) p^{n}\right) t \quad\left(\bmod p^{n+1}\right)
\end{aligned}
$$

由于 $p^{n} \mid k^{k}-a$, 并注意到 $k(p-1)$ 与 $p$ 互质. 故当 $t$ 取遍 $0,1, \cdots, p-1$ 时, $\left(k+p^{n}(p-1) t\right)^{\left(k+p^{n}(p-1) t\right)}\left(\bmod p^{n+1}\right)$ 取遍 $a, a+p^{n}, a+2 p^{n}, \cdots, a+(p-1) p^{n}$.故存在 $t$ 满足 $\left(k+p^{n}(p-1) t\right)^{\left(k+p^{n}(p-1) t\right)} \equiv a\left(\bmod p^{n+1}\right)$.

因此命题对 $n+1$ 成立, 由归纳原理知结论成立.

评注 因为升幂的想法已经在同学们心中熟知,这题属于较为容易的题目.

北大这个题的方法可以用来做如下 2016 年伊朗数学奥林匹克 (第三轮) 的题目:

对正整数 $m$, 称正整数 $a$ 是一个模 $m$ 的黄金剩余, 若 $\operatorname{gcd}(a, m)=1$, 并且存在正整数 $x$ 满足 $x^{x} \equiv a(\bmod m)$. 给定正整数 $n$, 以及模 $n^{n}$ 的黄金剩余 $a$.求证: $a$ 也是模 $n^{n^{n}}$ 的黄金剩余.

4. 求最小的 $\lambda$ 使得对一切满足 $a_{i}<2^{i}$ 的正实数 $a_{1}, a_{2}, \cdots, a_{n}$, 都有

$$
\sum_{i, j=1}^{n}\left\{a_{i} a_{j}\right\} \leq \lambda \sum_{i=1}^{n}\left\{a_{i}\right\}
$$

其中 $\{x\}$ 表示 $x$ 的小数部分.

## 解答 (付云皓)

$$
\lambda_{\min }=2^{n+1}-n-2+\frac{n+\left(2^{n+1}-n-2\right)\left(2^{n}-1\right)}{\sqrt{\left(2^{n}-1\right)^{2}+1}} .
$$

证明 对正数 $0<\epsilon<1$, 我们取 $a_{n}=\sqrt{\left(2^{n}-1\right)^{2}+1}-\epsilon$,

$$
a_{i}=\frac{\left(2^{i}-1\right)\left(2^{n}-1\right)+1-\epsilon}{a_{n}}, \quad i=1,2, \ldots, n-1 .
$$

取 $\epsilon$ 充分小, 可以保证对所有 $1 \leq i, j \leq n$, 都有

$$
\left(2^{i}-1\right)\left(2^{j}-1\right)<a_{i} a_{j}<\left(2^{i}-1\right)\left(2^{j}-1\right)+1 .
$$

这推出 $\left[a_{i} a_{j}\right]=\left(2^{i}-1\right)\left(2^{j}-1\right)$, 此即 $\left\{a_{i} a_{j}\right\}=a_{i} a_{j}-\left(2^{i}-1\right)\left(2^{j}-1\right)$. 且有 $\left\{a_{i}\right\}=a_{i}-\left(2^{i}-1\right)$. 带入条件中的等式, 我们得到

$$
\begin{aligned}
& \left(\sum_{i=1}^{n} a_{i}\right)^{2}-\left(\sum_{i=1}^{n}\left[a_{i}\right]\right)^{2} \leq \lambda\left(\sum_{i=1}^{n} a_{i}-\sum_{i=1}^{n}\left[a_{i}\right]\right) \Leftrightarrow \sum_{i=1}^{n} a_{i}+\sum_{i=1}^{n}\left[a_{i}\right] \leq \lambda \\
\Leftrightarrow & a_{n}+\frac{\left(2^{n}-n-1\right)\left(2^{n}-1\right)+n-1-(n-1) \epsilon}{a_{n}}+2^{n+1}-n-2 \leq \lambda .
\end{aligned}
$$

由 $\epsilon$ 的任意性 (以及充分小), 可知

$$
\lambda \geq 2^{n+1}-n-2+\frac{n+\left(2^{n+1}-n-2\right)\left(2^{n}-1\right)}{\sqrt{\left(2^{n}-1\right)^{2}+1}} \stackrel{\text { def }}{=} \lambda_{0}
$$

下面来证明, 对 $\lambda=\lambda_{0}$, 不等式确实成立.

由于 $\lambda_{0}>2^{n+1}-n-2 \geq n^{2}$, 故当 $\sum_{i=1}^{n}\left\{a_{i}\right\} \geq 1$ 时, (1) 式左边 $\leq n^{2} \leq$ (1) 式右边. 此时 (1) 显然成立.

下设 $\sum_{i=1}^{n}\left\{a_{i}\right\}<1$. 先做一些基本的分析, 设 $a_{i}=b_{i}+r_{i}$, 其中 $b_{i}$ 是整数, $0 \leq r_{i}<1$. 那么

$$
\left\{a_{i} a_{j}\right\}=\left\{b_{i} b_{j}+b_{i} r_{j}+b_{j} r_{i}+r_{j} r_{i}\right\}=\left\{b_{i} r_{j}+b_{j} r_{i}+r_{j} r_{i}\right\} \leq b_{i} r_{j}+b_{j} r_{i}+r_{j} r_{i} .
$$

累和可以得到

$$
\sum_{i, j=1}^{n}\left\{a_{i} a_{j}\right\} \leq \sum_{i, j=1}^{n}\left(b_{i} r_{j}+b_{j} r_{i}+r_{j} r_{i}\right)=2\left(\sum_{i=1}^{n} b_{i}\right)\left(\sum_{i=1}^{n} r_{i}\right)+\left(\sum_{i=1}^{n} r_{i}\right)^{2} .
$$

若 (3) 中至少有一个不等式是严格的, 则 (4) 可改进为

$$
\begin{aligned}
\sum_{i, j=1}^{n}\left\{a_{i} a_{j}\right\} & \leq 2\left(\sum_{i=1}^{n} b_{i}\right)\left(\sum_{i=1}^{n} r_{i}\right)+\left(\sum_{i=1}^{n} r_{i}\right)^{2}-1 \\
& \leq 2\left(\sum_{i=1}^{n} b_{i}\right)\left(\sum_{i=1}^{n} r_{i}\right) \leq \lambda_{0}\left(\sum_{i=1}^{n} r_{i}\right) .
\end{aligned}
$$

此处用到了 $b_{i} \leq 2^{i}-1$. 此时不等式 (1) 也成立.

若至少有一个 $b_{j}<2^{j}-1$, 由于 $b_{j}$ 是整数, 则 $b_{j} \leq 2^{j}-2$, 则 (4) 可改进为

$$
\begin{aligned}
\sum_{i, j=1}^{n}\left\{a_{i} a_{j}\right\} & \leq\left(2 \sum_{i=1}^{n} b_{i}+\sum_{i=1}^{n} r_{i}\right)\left(\sum_{i=1}^{n} r_{i}\right) \\
& \leq\left(2^{n+1}-n-2\right)\left(\sum_{i=1}^{n} r_{i}\right) \leq \lambda_{0}\left(\sum_{i=1}^{n} r_{i}\right)
\end{aligned}
$$

此时不等式 (1) 也成立.

下面考虑 (3) 中每一个等号都成立, 且 $b_{i}=2^{i}-1, \forall i$ 均成立的情形.

同 (2) 的过程, 这时只需证明

$$
\begin{aligned}
& a_{1}+a_{2}+\cdots+a_{n}+b_{1}+b_{2}+\cdots+b_{n} \leq \lambda_{0} \\
\Leftrightarrow & a_{1}+a_{2}+\cdots+a_{n} \leq \frac{n+\left(2^{n+1}-n-2\right)\left(2^{n}-1\right)}{\sqrt{\left(2^{n}-1\right)^{2}+1}} .
\end{aligned}
$$

这时对任意的 $1 \leq i, j \leq n$,

$$
\left[a_{i} a_{j}\right]=b_{i} b_{j} \Leftrightarrow b_{i} b_{j} \leq a_{i} a_{j}<b_{i} b_{j}+1
$$

特别地, $a_{n}<\sqrt{b_{n}^{2}+1}$, 以及

$$
a_{n}\left(a_{1}+a_{2}+\cdots+a_{n-1}\right)<b_{n}\left(b_{1}+b_{2}+\cdots+b_{n-1}\right)+n-1,
$$

故有

$$
a_{n}+a_{1}+a_{2}+\cdots+a_{n-1}<a_{n}+\frac{b_{n}\left(b_{1}+b_{2}+\cdots+b_{n-1}\right)+n-1}{a_{n}} .
$$

由于 $b_{n}\left(b_{1}+b_{2}+\cdots+b_{n-1}\right)+n-1<b_{n}^{2}$, 故 (5) 式右边关于 $a_{n}$ 在 $\left[b_{n}, \sqrt{b_{n}^{2}+1}\right)$上单调增. 因此

(5) 的右边 $\leq \sqrt{b_{n}^{2}+1}+\frac{b_{n}\left(b_{1}+b_{2}+\cdots+b_{n-1}\right)+n-1}{\sqrt{b_{n}^{2}+1}}$

$$
=\frac{n+\left(2^{n+1}-n-2\right)\left(2^{n}-1\right)}{\sqrt{\left(2^{n}-1\right)^{2}+1}} .
$$

此即我们需要的结论.

评注 无人得分. 困难的题目.

5. 实数 $x_{i} \neq 0, i=1,2, \cdots, n$ 满足 $\sum_{i=1}^{n} x_{i}=0$, 求下式

$$
\left(\sum_{i=1}^{n} x_{i}^{2}\right)\left(\sum_{i=1}^{n} \frac{1}{x_{i}^{2}}\right)
$$

的最小值.

## 解答 (孙孟越)

不妨设 $x_{1}, x_{2}, \cdots, x_{k}>0, x_{k+1}, x_{k+2}, \cdots, x_{n}<0$. 显然我们有 $1 \leq k<n$.

由于 $\sum_{i=1}^{n} x_{i}=0$, 可记 $S=x_{1}+x_{2}+\cdots+x_{k}=-x_{k+1}-x_{k+2}-\cdots-x_{n}>0$.

由 Cauchy 不等式,

$$
\begin{aligned}
& \sum_{i=1}^{k} x_{i}^{2} \geq \frac{\left(x_{1}+x_{2}+\cdots+x_{k}\right)^{2}}{k}=\frac{S^{2}}{k} \\
& \sum_{i=k+1}^{n} x_{i}^{2} \geq \frac{\left(x_{k+1}+x_{k+2}+\cdots+x_{n}\right)^{2}}{n-k}=\frac{S^{2}}{n-k}
\end{aligned}
$$

由 Hölder 不等式,

$$
\begin{aligned}
& \sum_{i=1}^{k} \frac{1}{x_{i}^{2}} \geq \frac{k^{3}}{\left(x_{1}+x_{2}+\cdots+x_{k}\right)^{2}}=\frac{k^{3}}{S^{2}} \\
& \sum_{i=k+1}^{n} \frac{1}{x_{i}^{2}} \geq \frac{(n-k)^{3}}{\left(x_{k+1}+x_{k+2}+\cdots+x_{n}\right)^{2}}=\frac{(n-k)^{3}}{S^{2}}
\end{aligned}
$$

故

$$
\begin{aligned}
\left(\sum_{i=1}^{n} x_{i}^{2}\right)\left(\sum_{i=1}^{n} \frac{1}{x_{i}^{2}}\right) & \geq\left(\frac{S^{2}}{n-k}+\frac{S^{2}}{k}\right) \cdot\left(\frac{k^{3}}{S^{2}}+\frac{(n-k)^{3}}{S^{2}}\right) \\
& =\frac{n^{2}\left(n^{2}-3 n k+3 k^{2}\right)}{k(n-k)} \\
& =n^{2}\left(\frac{k}{n-k}+\frac{n-k}{k}-1\right) .
\end{aligned}
$$

在 $x_{1}=x_{2}=\cdots=x_{k}=\frac{S}{k}, x_{k+1}=x_{k+2}=\cdots=x_{n}=\frac{-S}{n-k}$ 时上面等号均可以成立.

容易知道在 $n$ 是偶数时, $k=\frac{n}{2}$ 时, $\frac{k}{n-k}+\frac{n-k}{k}$ 取到最小值 2 ; 在 $n$ 是奇数时, $k=\frac{n \pm 1}{2}$ 时, $\frac{k}{n-k}+\frac{n-k}{k}$ 取到最小值 $2+\frac{4}{n^{2}-1}$.

故 $\left(\sum_{i=1}^{n} x_{i}^{2}\right)\left(\sum_{i=1}^{n} \frac{1}{x_{i}^{2}}\right)$ 的最小值为 $\left\{\begin{array}{ll}n^{2}, & n \text { 是偶数 } \\ \frac{n^{2}\left(n^{2}+3\right)}{n^{2}-1}, & n \text { 是奇数 }\end{array}\right.$.

评注 取等条件不难发现. 把 $x_{i}$ 分为正负两类是自然的手段, 这也使得 $\sum x_{i}^{2}, \sum \frac{1}{x_{i}^{2}}$ 可以估计. 这个题是第二天最容易的题目.

6. 已知 $[0, n]$ 的 $n$ 元子集 $S$ 满足 $0 \in S, n \in S$. 若 $S+S=\{x+y: x, y \in S\}$中恰有 $2 n$ 个元素, 则称 $S$ 为 $n$-好的. 求所有 $n-$ 好的集合 $S$ 的个数.

## 解答 (杨泓暕)

当 $n=3$ 时有无穷多个, 事实上取 $S=\{0, x, 3\}, 0<x<\frac{3}{2}$. 即符合要求, 以下设 $n \geq 4$.

首先我们熟知: 设 $A$ 是有限实数集, 则 $|A+A| \geq 2|A|-1$, 且等号成立当且仅当 $A$ 中元素构成一等差数列.

我们在此基础上归纳证明: 若 $n$ 元有限实数集 $A$ 满足 $|A+A|=2 n$, 则 $A$ 中元素是某个等差数列的连续 $n-1$ 项再加上相隔的一项, 即为 $a+d, a+$ $2 d, \cdots, a+(n-1) d, a+(n+1) d$ 或 $a+d, a+2 d, \cdots, a+(n-1) d, a-d$ 的形式 $(d>0)$.

设 $A=\left\{a_{1}, a_{2}, \cdots, a_{n}\right\}$, 其中 $a_{1}<a_{2}<\cdots<a_{n}$.

当 $n=4$ 时, 若 $A_{1}=\left\{a_{1}, a_{2}, a_{3}\right\}$ 是三项等差数列, 则由 $a_{4}+a_{4}, a_{4}+a_{3}$ 不同于 $A_{1}+A_{1}$ 中的各元知 $a_{4}+a_{2}, a_{4}+a_{1}$ 中恰有一项与 $A_{1}+A_{1}$ 中元素相同.

若为前者, 则 $a_{4}+a_{2}=2 a_{3}$, 此时给出矛盾; 若为后者, 则 $a_{4}+a_{1}=2 a_{3}$ 或 $a_{4}+a_{1}=a_{2}+a_{3}$, 第一种情况给出结论, 第二种情况给出矛盾.

若 $A_{1}$ 不为三项等差数列, 则有 $a_{4}+a_{2}=2 a_{3}$, 此时类似讨论 $a_{1}$ 的情况即证.

假设 $n$ 时结论成立, 来看 $n+1$ 的情形.

若 $A_{1}=\left\{a_{1}, a_{2}, \ldots, a_{n}\right\}$ 是 $n$ 项等差数列, 类似 $n=4$ 的讨论可证; 否则必定有 $\left|A_{1}+A_{1}\right|=2 n$ (由 $a_{n+1}+a_{n+1}, a_{n+1}+a_{n}$ 不同于 $A_{1}+A_{1}$ 中的各元),此时由归纳假设知 $A_{1}$ 必有 $a+d, a+2 d, \cdots, a+(n-1) d, a+(n+1) d$ 或 $a+d, a+2 d, \cdots, a+(n-1) d, a-d$ 的形式 $(d>0)$.
若为前者, 则 $a_{n-1}+a_{n+1}=2 a_{n}, a_{n+1}=a+(n+3) d$, 这时 $a_{n+1}+a_{n-2}=$ $2 a+(2 n+1) d$ 是一个不属于 $A_{1}+A_{1}$ 也不为 $a_{n+1}+a_{n+1}, a_{n+1}+a_{n}$ 的元素, 矛盾; 若为后者, 容易证明结论成立.

命题对 $n+1$ 成立, 由归纳原理知命题成立.

由上述结论易知 $n \geq 4$ 时 $S$ 只有 $\{0,1, \cdots, n-2, n\}$ 和 $\{0,2,3, \cdots, n\}$ 两种可能, 故此时好的 $n$ 元子集有 2 个.

评注 这个问题是很典型的加性组合中的逆问题 (给出集合的性质要求确定其结构), 数学竞赛中这类问题一般需要对元素的性质 (大小、个数等) 进行透彻的分析.

这个问题不需要太多的知识, 但要求比较高水平的分析问题的能力, 同时也有一定的背景, 应该说是一个好题. 关于集合中包含等差数列的问题, 我们有以下的

定理 (Freiman). 设有限 $n(\geq 3)$ 元整数集 $A$ 满足 $|A+A|=2 n-1+a \leq$ $3 n-4$, 则 $A$ 包含于一个 $n+a$ 项等差数列.

7. 求所有的函数 $f: \mathbb{R} \rightarrow \mathbb{R}$, 满足对任意实数 $x, y$ 均有

$$
f(f(x)+y)=2 x+f(f(y)-x) .
$$

解答 对每个实数 $c$, 函数 $f(x)=x+c$ 为该函数方程的解.

下面证明除此外没有其它的解.

先证明 $f$ 为满射. 事实上, 令 $y=-f(x)$ 得

$$
f(0)=2 x+f(f(-f(x))-x) .
$$

即

$$
f(f(-f(x))-x)=-2 x+f(0) .
$$

由于 $-2 x+f(0)$ 为 $\mathbb{R}$ 上的满射, 故 $f$ 为 $\mathbb{R}$ 上的满射.

由上可知存在实数 $a$ 满足 $f(a)=0$. 在方程中令 $x=a$, 则

$$
f(y)=2 a+f(f(y)-a) \Rightarrow f(y)-a=f(f(y)-a)+a .
$$

又 $f(y)-a$ 是 $\mathbb{R}$ 上的满射, 故 $x=f(x)+a$ 对所有实数 $x$ 成立. 结论成立.

评注 这道题是捷克斯洛伐克 2003 年的题目. 曾被用作 2003 年国家队培训题. 这里的解答引自 《走向 IMO 2003》. 这一题是第二天的简单题, 对函数方程较为熟悉的同学应该可以很快做出来.

8. 给定正整数 $p, q$, 满足 $1<q<p$. 求证: 对任意素数 $r>p$, 存在正整数 $n$ 满足

$$
r \left\lvert\,\left(\begin{array}{l}
p^{n} \\
q^{n}
\end{array}\right) .\right.
$$

## 证明 (付云皓)

为了证明此题结论成立, 由 Kummer 定理, 只需要证明存在正整数 $m, n$ 使得 $q^{n}$ 在 $r$ 进制下第 $m$ 位的数比 $q^{n}$ 在 $r$ 进制下第 $m$ 位的数大.

引理 当正整数 $m$ 充分大时 (只依赖与 $r$ ), 对任意大于 1 且不被素数 $r$ 整除的正整数 $p$, 我们有 $p^{1}, p^{2}, p^{3}, \cdots, p^{\varphi\left(r^{m}\right)}$ 在 $r$ 进制下第 $m$ 位的 $0,1, \cdots, r-1$出现次数相等. (如果 $0,1, \cdots, r-1$ 出现的次数相等, 则我们称之为均匀分布)

引理的证明 设 $p$ 模 $r^{m-1}$ 的阶为 $k$, 则 $p^{k} \equiv N \cdot r^{m-1}+1\left(\bmod r^{m}\right)$.

首先说明, 当 $m$ 充分大时, 可以使得 $N \not \equiv 0(\bmod r)$. 事实上, 这就是要证明, 对于任意充分大的正整数 $m, p$ 模 $r^{m-1}$ 的阶不等于 $p$ 模 $r^{m}$ 的阶. 首先, 因为 $p \neq 1$, 所以必然存在一个充分大的正整数 $m_{0}$, 使得 $p$ 模 $r^{m_{0}-1}$ 的阶不等于 $p$模 $r^{m_{0}}$ 的阶, 设 $p$ 模 $r^{m_{0}-1}$ 的阶为 $k_{0}$.

则由升幂定理, 可得对任意的 $\alpha \in \mathbb{N}^{*}$,

$$
\begin{aligned}
& v_{r}\left(p^{k_{0} r^{\alpha}}-1\right)=m_{0}-1+\alpha \\
& v_{r}\left(p^{k_{0} r^{\alpha+1}}-1\right)=m_{0}+\alpha .
\end{aligned}
$$

故 $p$ 模 $r^{m_{0}+\alpha}$ 的阶为 $k_{0} r^{\alpha+1}$. 故结论成立.

对于某个 $\alpha \in \mathbb{N}^{*}, \alpha<k$, 考虑 $p^{\alpha}, p^{k+\alpha}, \cdots, p^{(r-1) k+\alpha}$, 则对于任意 $t=$ $0,1, \cdots, r-1$, 成立

$$
p^{t k+\alpha} \equiv\left(t N \cdot r^{m-1}+1\right) p^{\alpha} \equiv t N p^{\alpha} \cdot r^{m-1}+p^{\alpha} \quad\left(\bmod r^{m}\right)
$$

故这一组数在 $r$ 进制下第 $m$ 位是 $0,1, \cdots, r-1$ 的一个排列, 于是可以知道 $p, p^{2}, \cdots, p^{k r}$ 在 $r$ 进制下第 $m$ 位的值均匀分布, 注意到 $k r \mid \varphi\left(r^{m}\right)$, 故将此结论延拓至 $p, p^{2}, \cdots, p^{\varphi\left(r^{m}\right)}$ 即可. 引理证毕.

假设结论不成立, 那么取 $m$ 充分大, 则 $p^{n}, q^{n}$ 在 $r$ 进制下第 $m$ 位的数必须全部相同 (因为由引理, $p^{n}, q^{n}, n=1,2, \cdots, \varphi\left(r^{m}\right)$ 在 $r$ 进制下第 $m$ 位均匀分布,且 $q^{n}$ 在 $r$ 进制下的第 $m$ 位的数对应小于等于 $p^{n}$ 在 $r$ 进制下第 $m$ 位的数).

但是, 取充分大的 $m$, 使得 $\log _{r} p^{m}-\log _{r} q^{m} \geq 1$, 由于 $r>p$, 故存在正整数 $n$, 使得在 $r$ 进制下, $p^{n}$ 在第 $m$ 位的数字非零, 而 $q^{n}$ 最高位未到第 $m$ 位, 矛盾!

故原题结论成立.
评注 考场中无人做出. 本题唯一着手点显然是 Kummer 定理 (或 Lucas 定理), 是此类题目中较为困难的问题. 此题是 2015 年 IMO 金牌得主俞辰捷命制的, 难度在 IMO 中也属于困难题.

## 二、 清华金秋营试题解析

1. 设 $T$ 是一个平面到自身的映射, 满足平面上任意两点在变换 $T$ 下的距离不变. 证明: 存在实数 $a, b, c, d, x_{0}, y_{0} \in \mathbb{R}$, 使得 $T$ 将每个点 $(x, y)$ 映射成 $\left(a x+b y+x_{0}, c x+d y+y_{0}\right)$.

## 证明 (杨泓暕、刘润声)

对点 $(x, y)$ 考虑变换 $S(x, y)=T(x, y)-T(0,0)$, 则变换 $S$ 仍然保距, 且满足 $S(0,0)=0$. 于是, 变换 $S$ 将每个以原点为圆心的圆映射为自身, 而各个圆上任两点之间变换前后距离不变, 所以在每一个圆上变换的效果是旋转和反射叠加的变换, 所以一定是线性的. 接下来, 考虑圆 $x^{2}+y^{2}=1$. 不妨假设变换 $S$ 将其上每一个点都映为自身, 否则, 给变换 $S$ 复合一个线性变换即可. 此时, 平面上其余各点与它们的像到无穷多个非共线点等距, 于是所有的点都映射为自身,综上可知结论成立.

评注 本题实际上是要证明平面上的保距变换可写成线性变换和一平移的复合. 保距这个条件太强了. 本题属于经典结论, 对几何变换有一定了解的同学应该很快可以做出来.

2. 求所有的连续函数 $f: \mathbb{R}^{+} \rightarrow \mathbb{R}^{+}$使得对任意 $x, y>0$,

$$
f\left(\frac{x+y}{2}\right)=f(\sqrt{x y}) .
$$

解答 对任意正实数 $a>b$, 令 $x=a+\sqrt{a^{2}-b^{2}}, y=a-\sqrt{a^{2}-b^{2}}$. 那么带入等式得到 $f(a)=f(b)$. 可知 $f$ 是正的常值函数. 这也显然是全部解.

评注 并没有用到连续性的条件. 事实上, 固定了 $\frac{x+y}{2}$ 以后, $\sqrt{x y}$ 可取遍 $\left(0, \frac{x+y}{2}\right]$. 这也就道出了证明. 这是一个送分题.

3. 已知 $m, n \in \mathbb{N}^{*}, m<n$. 证明:

$$
\sum_{i=0}^{m}\left(\begin{array}{c}
n \\
i
\end{array}\right)<\left(\frac{3 n}{m}\right)^{m}
$$

证明

$$
\sum_{i=0}^{m}\left(\begin{array}{c}
n \\
i
\end{array}\right) \leq \sum_{i=0}^{m} \frac{n^{i}}{i !} \leq\left(\frac{n}{m}\right)^{m} \cdot \sum_{i=0}^{m} \frac{m^{i}}{i !}<\left(\frac{n}{m}\right)^{m} \cdot \mathrm{e}^{m}<\left(\frac{3 n}{m}\right)^{m}
$$

这里用到了指数函数的幂级数展开 $\mathrm{e}^{m}=\sum_{i=0}^{+\infty} \frac{m^{i}}{i !}$.

评注 二项式系数的放缩是容易想到的. 这样做变得易于求和, 之后的每一步也顺理成章. 这是一道形式新颖但不太困难的问题. 本题也可对 $n$ 归纳证明.

4. 对有限实数集 $X$, 记 $n(X)=|S|$, 其中

$$
S=\left\{\left(x_{1}, x_{2}, x_{3}, x_{4}\right) \mid x_{1}+x_{2}=x_{3}+x_{4}, x_{i} \in X(i=1,2,3,4)\right\}
$$

证明：对于有限实数集 $A, B, C, D$, 集合 $M=\{(a, b, c, d) \mid a+b=c+d, a \in$ $A, b \in B, c \in C, d \in D\}$ 的元素个数不超过 $\sqrt[4]{n(A) n(B) n(C) n(D)}$.

## 证明 (杨泓暕)

具体而言, 对有限实数集 $X, Y$ 及实数 $x$, 记

$$
n_{X Y}(a)=|\{(x, y) \in X \times Y: x-y=a\}|
$$

我们将欲证的式子以 $n_{X Y}$ 来表示.

容易证明 $n(X)=\sum n_{X X}^{2}(x)$,

$$
|\{(a, b, c, d) \in A \times B \times C \times D: a+b=c+d\}|=\sum n_{A C}(x) n_{D B}(x) .
$$

其中求和号遍历一切实数 $x$, 当然我们知道这是一个有限和.

再做一些准备工作: 对有限正实数集 $X, Y$, 我们有

$$
\begin{aligned}
\sum n_{X X}(x) n_{Y Y}(x) & =\left|\left\{\left(x_{1}, x_{2}, y_{1}, y_{2}\right) \in X^{2} \times Y^{2}: x_{1}-x_{2}=y_{1}-y_{2}\right\}\right| \\
& =\left|\left\{\left(x_{1}, x_{2}, y_{1}, y_{2}\right) \in X^{2} \times Y^{2}: x_{1}-y_{1}=x_{2}-y_{2}\right\}\right| \\
& =\sum n_{X Y}^{2}(x) .
\end{aligned}
$$

故由 Cauchy 不等式

$$
\begin{aligned}
n(A) n(B) n(C) n(D) & =\sum n_{A A}^{2}(x) \sum n_{B B}^{2}(x) \sum n_{C C}^{2}(x) \sum n_{D D}^{2}(x) \\
& \geq\left(\sum n_{A A}(x) n_{C C}(x)\right)^{2}\left(\sum n_{D D}(x) n_{B B}(x)\right)^{2} \\
& =\left(\sum n_{A C}^{2}(x)\right)^{2}\left(\sum n_{D B}^{2}(x)\right)^{2} \\
& \geq\left(\sum n_{A C}(x) n_{D B}(x)\right)^{4} .
\end{aligned}
$$

评注 本题有相当的难度, 如果没见过类似处理手法的话是很不容易的. 有
经验的同学可能会试图构造单射, 但元数太多难以控制, 但是不好做. 希望以更加代数的办法写出结论.

5. 给定奇素数 $p$ 和整数 $a$. 求方程 $x^{2}+y^{2} \equiv a(\bmod p)$ 在模 $p$ 意义下的解的个数.

## 解答 (刘润声、孙孟越)

先计算 $x^{2}+y^{2} \equiv 0(\bmod p)$ 的解数. 若 $p \equiv-1(\bmod 4)$, 则只有唯一解. 若 $p \equiv 1(\bmod 4)$, 则有 $2 p-1$ 组解.

再来计算 $S \stackrel{\text { def }}{=} \sum_{x=0}^{p-1}\left(\frac{1-x^{2}}{p}\right)$, 注意到 $\sum_{i=0}^{p-1} i^{k} \equiv 0(\bmod p)$ (当 $k$ 不是 $p-1$ 的倍数), 结合欧拉判别法可以得到

$$
\sum_{x=0}^{p-1}\left(\frac{1-x^{2}}{p}\right) \equiv \sum_{x=0}^{p-1}\left(1-x^{2}\right)^{\frac{p-1}{2}} \equiv(-1)^{\frac{p-1}{2}}(p-1) \equiv-(-1)^{\frac{p-1}{2}} \quad(\bmod p) .
$$

并且我们注意 $\sum_{x=0}^{p-1}\left(\frac{1-x^{2}}{p}\right)$ 的绝对值 $\leq p-2$. 故 $S=(-1)^{\frac{p+1}{2}}$.

i) 若 $p \equiv-1(\bmod 4)$, 则 $S=1,\left(\frac{1-x^{2}}{p}\right)$ 中有 $\frac{p-1}{2}$ 个为 1 , 有 2 个为 0 , 有 $\frac{p-3}{2}$ 个为 -1 , 故 $a=1$ 时有 $p+1$ 组解.

取 $g$ 是模 $p$ 的一个原根. 若 $a$ 是模 $p$ 的二次剩余, 设 $a=g^{2 k}$, 在等式两边同时乘以 $g^{-2 k}$, 则 $\left(x g^{-k}\right)^{2}+\left(y g^{-k}\right)^{2}=1$, 所以,任意不同的二次剩余所对应的解数相同 (这是因为: $(x, y)$ 到 $\left(x g^{-k}, y g^{-k}\right)$ 是一一对应), 同样道理, 任意二次非剩余对应的解数也相同. 故对每个二次剩余 $a$, 有 $p+1$ 组解.

由于对所有的 $a$, 共有 $p^{2}$ 组解, 并且对任意二次非剩余 $a$ 所对应的 $(x, y)$ 解数也相同. 进而对每个二次非剩余 $a$, 有 $\frac{2}{p-1}\left(p^{2}-1-\frac{p-1}{2} \times(p+1)\right)=p+1$ 组解.

ii) 若 $p \equiv 1(\bmod 4)$, 则 $S=-1,\left(\frac{1-x^{2}}{p}\right)$ 中有 $\frac{p-3}{2}$ 个为 1 , 有 2 个为 0 , 有 $\frac{p-1}{2}$ 个为 -1 , 故 $a=1$ 时有 $p-1$ 组解.

取 $g$ 是模 $p$ 的一个原根. 若 $a$ 是模 $p$ 的二次剩余, 设 $a=g^{2 k}$,在等式两边同时乘以 $g^{-2 k}$, 则 $\left(x g^{-k}\right)^{2}+\left(y g^{-k}\right)^{2}=1$, 所以, 任意不同的二次剩余所对应的解数相同 (这是因为: $(x, y)$ 到 $\left(x g^{-k}, y g^{-k}\right)$ 是一一对应), 同样道理, 任意二次非剩余对应的解数也相同. 故对每个二次剩余 $a$, 有 $p-1$ 组解.

由于对所有的 $a$, 共有 $p^{2}$ 组解, 并且对任意二次非剩余 $a$ 所对应的 $(x, y)$ 解数也相同. 进而对每个二次非剩余 $a$, 有 $\frac{2}{p-1}\left(p^{2}-(2 p-1)-\frac{p-1}{2} \times(p-1)\right)=p-1$组解.

所以, 最终结果如下:

若 $p \equiv-1(\bmod 4)$, 则 $p \mid a$ 时有 1 组解, $p \nmid a$ 时, 有 $p+1$ 组解.
若 $p \equiv 1(\bmod 4)$, 则 $p \mid a$ 时有 $2 p-1$ 组解, $p \nmid a$ 时, 有 $p-1$ 组解.

评注 域 $\mathbb{F}_{p}$ 上的二次方程解的个数在近年的高级别竞赛中也有出现, 方法也大同小异 (如 2017 中国国家集训队测试第四场第 3 题, 总第 21 题). 本题需要对二次剩余有一个深入的理解.

6. 已知 $x>2$ 是实数, 证明: 若一个简单图 $G$ 中有不少于 $\frac{x(x-1)(x-2)}{6}$ 个三角形, 则图 $G$ 的边数大于等于 $\frac{x(x-1)}{2}$.

## 证明 (谭健翔、孙孟越)

我们考虑在固定图 $G$ 边数的情况下, 最大化图 $G$ 中三角形个数. 用调整法,先进行两个调整.

我们这样进行调整:

判断：如果对于图 $G$ 中任意两个顶点 $u, v$, 都有 $N_{G}(u)-\{v\}, N_{G}(v)-\{u\}$一个包含另一个的时候, 进行调整 II. 否则进行调整 I.

调整 I: 删去 $G$ 中孤立点. 假设顶点 $u, v$ 满足 $N_{G}(u)-\{v\}, N_{G}(v)-\{u\}$ 两者互不包含 ( $N_{G}(u)$ 表示 $u$ 在 $G$ 中的邻居, 其余类似定义).

不妨设 $d(u) \leq d(v)$ (顶点的度), 设 $H=\left(N_{G}(u)-\{v\}\right) \backslash\left(N_{G}(u) \bigcap N_{G}(v)\right) \neq$ $\emptyset$, 把 $H$ 中顶点与 $u$ 相连的边全部改为与 $v$ 相连的边, 得到图 $G^{\prime}$, 对于图 $G$ 中不包含点 $u$ 的三角形, 图 $G^{\prime}$ 中仍然存在; 对于图 $G$ 中包含点 $u$ 的三角形, 图 $G^{\prime}$ 中有一个包含点 $v$ 的三角形与之对应, 删除 $G$ 中孤立点, 并重复此操作. 操作后 $\sum_{w \in G} d^{2}(w)$ 严格单调递增. 继续回到判断处.

调整 II: 删去 $G$ 中孤立点. 设 $\delta(G)$ 为图 $G$ 中的最小度. 记 $G_{1}=G-$ $\{v \mid d(v)=\delta(G)\}$.

若 $G_{1}$ 是完全图, 调整结束.

若 $G_{1}$ 不是完全图, 设 $x, y \in G_{1}, x y \notin E(G)$, 其中 $E(G)$ 表示 $G$ 的边集.任取 $z \in G-G_{1}$. 由于进行了调整 II, 故对于图 $G$ 中任意两个顶点 $u, v$,都有 $N_{G}(u)-\{v\}, N_{G}(v)-\{u\}$ 一个包含另一个, 进而 $\left(N_{G}(z)-\{x, y\}\right) \subseteq$ $N_{G}(x),\left(N_{G}(z)-\{x, y\}\right) \subseteq N_{G}(y)$. 任意删去 $z$ 引出的一条边, 改为边 $x y$. 则图 $G$ 中至多减少 $d(z)-1$ 个三角形, 至少增加 $d(z)-1$ 个三角形. 删去 $G$ 中孤立点. 操作后 $\sum_{w \in G} d^{2}(w)$ 严格单调递增. 继续回到判断处.

由于调整 I 和调整 II 中 $\sum_{w \in G} d^{2}(w)$ 严格单调递增, 故有限步后不可能继续进行.

调整 I 和调整 II 都保持 $G$ 的边数和三角形个数不减.
由于对边数给定的没有孤立点的图, 三角形个数取到最大的互不同构的图 $G$ 只有有限多个. 由调整 I 和调整 II 的步骤知, 存在一个图 $G$ 满足

1. $G$ 的边数为给定值.
2. 在满足上面的性质后, 选取 $G$ 使得 $G$ 的三角形个数取到最大值.
3. 在满足上面两条性质后, 选取 $G$ 使得对于图 $G$ 中任意两个顶点 $u, v$, 都有 $N_{G}(u)-\{v\}, N_{G}(v)-\{u\}$ 一个包含另一个.
4. 在满足上面三条性质后, 选取 $G$ 使得 $G-\{v \mid d(v)=\delta(G)\}$ 是完全图.
5. 在满足上面四条性质的之后, 选取 $G$ 使得 $G$ 的顶点数最小.
6. 在满足上述五条性质的之后, 选取 $G$ 使得 $\delta(G)$ 最小.

下面就对这个 $G$ 进行考察. 我们证明: $\left|G_{1}\right| \geq|G|-1$.

若不然, 存在 $x, y \in G, d(x)=d(y)=\delta(G)$, 则由于 $x, y$ 在 $G$ 中度数相同,则 $\left|N_{G}(x)-\{y\}\right|=\left|N_{G}(y)-\{x\}\right|$. 但注意 $N_{G}(y)-\{x\}, N_{G}(x)-\{y\}$ 一个包含另一个. 故 $N_{G}(y)-\{x\}=N_{G}(x)-\{y\}$. 故存在 $z \in G, x z, y z \notin E(G)$.

那么把顶点 $y$ 连出的一条边改为 $x z$. 则图 $G$ 中至多减少 $d(y)-1$ 个三角形, 至少增加 $d(x)-1$ 个三角形. 则 $\delta(G)$ 严格减小. (且由 $G$ 的选取中的条件 5 ,经过步骤 3 的调整后, $G$ 中不会生成孤立点.) 这与 $G$ 的选取中的条件 6 矛盾!

综合以上三步, 给定 $G$ 的边数和三角形个数后, 可以找到一个图 $G_{0}$, 满足可以删去 $G_{0}$ 的至多一个顶点得到一个完全图, 并且 $G_{0}$ 边数等于 $G$ 的边数, $G_{0}$的三角形个数不小于 $G$ 的三角形个数. 而对 $G_{0}$ 是容易证明结论成立的.

## 另解 (付云皓)

我们只需证明, 对 $x>2$, 若图中边数 $<\frac{x(x-1)}{2}$, 则三角形数 $<\frac{x(x-1)(x-2)}{6}$.

由于 $\frac{x(x-1)}{2}$ 和 $\frac{x(x-1)(x-2)}{6}$ 在 $(2,+\infty)$ 上均严格增, 结合 $x$ 是实数, 我们可将问题转化成如下形式:

对 $x \geq 2$, 若图中边数 $=\frac{x(x-1)}{2}$, 则三角形数 $\leq \frac{x(x-1)(x-2)}{6}$.

在给定的图中, 每次在度数非零的点中选取一个度数最少的点并去掉, 直至图中没有边为止, 设去掉的这些顶点在被去掉时度数依次为 $d_{1}, d_{2}, \cdots, d_{k}$.

易知边数为 $d_{1}+d_{2}+\cdots+d_{k}$, 三角形数最多为 $\left(\begin{array}{c}d_{1} \\ 2\end{array}\right)+\left(\begin{array}{c}d_{2} \\ 2\end{array}\right)+\cdots+\left(\begin{array}{c}d_{k} \\ 2\end{array}\right)$, 另有 $d_{k}=1$.

又易知 $d_{i+1} \geq d_{i}-1$, 因此, 若将 $d_{1}, d_{2}, \cdots, d_{k}$ 按降序排为 $e_{1}, e_{2}, \cdots, e_{k}$, 则有 $e_{i}-e_{i+1} \leq 1$. (若不然, 设 $e_{i}-e_{i+1} \geq 2$, 则在 $d_{1}, d_{2}, \cdots, d_{k}$ 中不可能前一个数 $\geq e_{i}$, 后一个数 $\leq e_{i+1}$, 但 $d_{k}=1$, 矛盾.)

设 $e_{1}=a$, 则 $e_{1}, e_{2}, \cdots, e_{k}$ 中有 $1,2, \cdots, a$ 各一个, 还可能有重复的数, 但
由于

$$
\left(\begin{array}{c}
d_{i} \\
2
\end{array}\right)=\frac{d_{i}\left(d_{i}-1\right)}{2} \leq \frac{d_{i}(a-1)}{2}
$$

故

$$
\begin{aligned}
& \left(\begin{array}{c}
d_{1} \\
2
\end{array}\right)+\left(\begin{array}{c}
d_{2} \\
2
\end{array}\right)+\cdots+\left(\begin{array}{c}
d_{k} \\
2
\end{array}\right) \\
\leq & \left(\begin{array}{l}
1 \\
2
\end{array}\right)+\left(\begin{array}{l}
2 \\
2
\end{array}\right)+\cdots+\left(\begin{array}{c}
a \\
2
\end{array}\right)+\frac{a-1}{2}\left(d_{1}+d_{2}+\cdots+d_{k}-\frac{a(a+1)}{2}\right) \\
= & \frac{a-1}{2}\left(d_{1}+d_{2}+\cdots+d_{k}\right)-\frac{a(a-1)(a+1)}{12} .
\end{aligned}
$$

由于 $e_{1}, e_{2}, \cdots, e_{k}$ 中有 $1,2, \cdots, a$ 各一个, 故 $d_{1}+d_{2}+\cdots+d_{k} \geq\left(\begin{array}{c}a+1 \\ 2\end{array}\right)$, 因此 $x \geq a+1$, 故

$$
\begin{aligned}
& \frac{a-1}{2}\left(d_{1}+d_{2}+\cdots+d_{k}\right)-\frac{a(a-1)(a+1)}{12} \\
= & \frac{a-1}{12}(3 x(x-1)-a(a+1)) \\
\leq & \frac{x(x-1)(x-2)}{6},
\end{aligned}
$$

其中, 最后一个不等式等价于 $(x-a-1)(x-a)(a+2 x-1) \geq 0$. 这显然成立.

评注 这个题中 $x$ 是实数, 很有品位. 似乎没有证法可以只从对整数 $x$ 命题成立推出对实数 $x$ 命题成立.

第一个解答的思路是: 从直觉上来讲, 完全图是边数确定后, 三角形个数最多的图. 对一般的 $G$, 也希望调整出大部分都是完全图的一个形式.

另解的基本思路是每次去掉一个度数最少的点, 这样减少的三角形数量不会太多. 用此思路也可以归纳地做, 但要先估计出度数最少的点的度数上界, 而且后面有一个较为复杂的不等式, 有兴趣的读者可以尝试一下. 相比归纳的想法, 本解法在发现 $d_{1}, d_{2}, \ldots, d_{k}$ 的性质 (实际上是正整数中的 “连续性”) 后采用组合的技巧辅助估值和放缩, 显得证明更为流畅.

## III. 总评

## 一、北大金秋营

第一天的 1,3 是相对来说较容易的. 2 有很多细节需要注意, 很多同学在考场上会有一些细节上的差错, 这一题几乎没有满分. 4 全场零分. 5,7 是容易题, 6 也有很多细节要处理, 8 也是爆零. 最高的同学大概做了四个题多一点. 这次考试难度相当巨大, 尤其是 $4 、 8$, 即使在 IMO 中也属于困难的题目, 除了付云皓外, 我们其余五个作者均不会做.

## 二、 清华金秋营

本次测试, 前三题比较简单, 偏重基础, 但也需要考生有一定的知识背景.第 4 题解答虽然不长, 但是其方法颇有意思, 值得品味. 第 5 题是有限域上不定方程的解数个数, 需要考生对二次剩余理论有比较深刻的了解. 第 6 题有些同学只对 $x$ 是整数的情况证明了结论, 但对一般的实数 $x$ 没什么帮助. 在考场上,应该做出 3 题的考生占了大部分. 做对 3 题半就具有相当的竞争力.

