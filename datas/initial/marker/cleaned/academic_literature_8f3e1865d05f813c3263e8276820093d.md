# Quantum Cohomology And Crepant Resolutions: A Conjecture

TOM COATES AND YONGBIN RUAN
Abstract. **We give an expository account of a conjecture, developed by Coates–**
Corti–Iritani–Tseng and Ruan, which relates the quantum cohomology of a Gorenstein orbifold X **to the quantum cohomology of a crepant resolution** Y
of X**. We explore some consequences of this conjecture, showing that it implies versions of both the Cohomological Crepant Resolution Conjecture and**
of the Crepant Resolution Conjectures of Ruan and Bryan–Graber. We also give a 'quantized' version of the conjecture, which determines higher-genus Gromov–Witten invariants of X **from those of** Y .

## 1. Introduction

An orbifold is a space which is locally modelled on quotients of R
n **by finite**
groups. Orbifolds are a natural class of spaces to study. Manifolds and smooth algebraic varieties are orbifolds but spaces of geometric interest, **and particularly**
those obtained by quotient constructions, are often orbifolds rather than varieties or manifolds. Furthermore many geometric operations, including those transformations involved in spacetime topology change [4], treat orbifolds and smooth varieties on an equal footing. In this paper we study the quantum cohomology of orbifolds.

The quantum cohomology of a K¨ahler orbifold X **is a family of algebras whose**
structure constants encode certain Gromov–Witten invariants of X**. These Gromov–**
Witten invariants are interesting from at least three points of view: **symplectic**
topology, as they give invariants of X as a symplectic orbifold; **algebraic geometry**, as they give a 'virtual count' of the number of curves in X **which are constrained to**
pass through various cycles; and physics**, as they give rigorous meaning to instanton**
counting in a model of string theory with spacetime X × R
4**. In what follows we**
outline a conjecture which describes how the quantum cohomology of a Gorenstein orbifold X is related to that of a crepant resolution Y of X**, and explore some of its**
consequences. The conjecture is of interest also from at least three points of view: Gromov–Witten invariants of orbifolds are difficult to compute**, and the conjecture** provides tools for doing this; crepant resolutions are simple examples of **birational**
transformations**, and an understanding of how quantum cohomology changes under** birational transformations would be both interesting and useful; and the conjecture provides a version of the McKay Correspondence **which reflects a well-known physical principle - that string theory on an orbifold and on a crepant resolution of**
that orbifold should be equivalent.

The conjecture, which is described in more detail in §**4 below, was developed by**
Coates–Corti–Iritani–Tseng [13] and Ruan [33]. Following Givental, we **encode all**
genus-zero Gromov–Witten invariants of X in the germ LX of a Lagrangian submanifold in a symplectic vector space HX . This submanifold-germ LX **has very special**
geometric properties (theorem 3.2 below) which make it easy to determine the quantum cohomology of X from LX (§6 below). A similar submanifold-germ LY ⊂ HY
arXiv:0710.5901v3 [math.AG] 16 Apr 2008 2 TOM COATES AND YONGBIN RUAN
encodes all genus-zero Gromov–Witten invariants of the crepant resolution Y **. As**
LX and LY **are germs of submanifolds, it makes sense to analytically continue them.**
We conjecture that there is a linear symplectic isomorphism U : HX → HY **such** that after analytic continuation of LX and LY we have U(LX ) = LY **. This gives, in**
particular, a conjectural relationship between the quantum cohomology of X and the quantum cohomology of Y .

The idea that the quantum cohomology of X **should be in some sense equivalent**
to the quantum cohomology of Y **has been around for a while now, and is due**
to Ruan. He originally conjectured that the small quantum cohomology of X and the small quantum cohomology of Y **— two families of algebras which depend** on so-called quantum parameters - become isomorphic after specializing some of the quantum parameters to particular values. This specialization may first require analytic continuation in the quantum parameters. Ruan's conjecture is discussed further and revised in §8 and §**11 below. Bryan and Graber [7] recently proposed a**
refinement of Ruan's conjecture, applicable whenever X **satisfies a Hard Lefschetz**
condition on orbifold cohomology [13]. They suggest that in this case the big quantum cohomology algebras of X and Y **coincide after analytic continuation and**
specialization of quantum parameters, via a linear isomorphism that also matches certain pairings on the algebras.

As we explain in §§8–9 below, under appropriate conditions on X **our conjecture**
implies something very like the earlier conjectures of Ruan and Bryan–Graber. Our conjecture applies, however, in much greater generality. This fits **with a general**
picture developed by Givental: that the submanifold-germ LX **often transforms in**
a simple way under geometric operations on X**, even when those operations have**
a complicated effect on quantum cohomology. Our conjecture also fits well with Givental's approach to mirror symmetry. This was the essential point in the proof
[13] of the conjecture for X = P(1, 1, 2) and X = P(1, 1, 1, **3). Forthcoming work**
by Coates, Corti, Iritani, and Tseng will extend this line of argument, using mirror symmetry to prove our conjecture for crepant resolutions of toric orbifolds X **such** that c1(X) ≥ 0.

An outline of the paper is as follows. We give introductions to the cohomology and quantum cohomology of orbifolds in §2, and to Givental's framework in §**3. We**
state the conjecture in §4. After giving some preparatory lemmas (§**5), we explain**
in §6 how to extract quantum cohomology from the submanifold LX **. This allows**
us to draw conclusions about quantum cohomology from our conjecture. We do this in the next three sections, proving something like the Cohomological Crepant Resolution Conjecture in §7, something like Ruan's conjecture in §**8, and something** like the Bryan–Graber conjecture in §**9. We close by discussing a higher-genus** version of the conjecture (§10) and the role of flat gerbes (§**11).**
We should emphasize that most of what follows is a new presentation of ideas and methods which are already in the literature; in particular we draw **the reader's** attention to [5, 13, 22, 32]. But we feel that these ideas are important enough to deserve a clear and accessible expository account. The main purpose of this article is to give such an account: we are, of course, entirely responsible for any mistakes or obscurities that it contains.

Acknowledgements. **Both authors are very grateful to Hiroshi Iritani: most of**
the results in this paper we either learned from him or developed in conversations with him. We would have preferred that he join us as author of this note, but must respect his wishes in this regard. T.C. thanks Jim Bryan, Alessio Corti, Alexander Givental, and Hsian-Hua Tseng for useful discussions; and the Royal Society and the Clay Mathematics Institute for financial support. Y.R. thanks Paul Aspinwall for useful discussions. This work was partially supported by the National Science Foundation under grants DMS-0401275 and DMS-0072282.

## 2. Orbifold Cohomology And Quantum Cohomology

In this section we describe and fix notation for orbifold cohomology, **Gromov–**
Witten invariants, and quantum cohomology. The non-expert reader should be able to follow the rest of the paper after reading the summary of these **topics below;** detailed accounts of the theory can be found in the work of Chen–Ruan [9, 10] and Abramovich–Graber–Vistoli [2, 3]. We work in the algebraic category, so from now on 'orbifold' means 'smooth Deligne–Mumford stack over C**' and 'manifold' means**
'smooth variety'.

Let Z be an orbifold. The **Chen–Ruan orbifold cohomology** H•
CR(Z; C**) is the**
cohomology of the so-called inertia stack of Z. If Z **is a manifold then** H•
CR(Z; C)
is canonically isomorphic to the ordinary cohomology H•(Z; C**) and so a Chen–**
Ruan cohomology class can be represented, via Poincar´e duality, as a cycle in Z.

In general a Chen–Ruan class can be represented as a linear combination of pairs
(A, [gA]) where A ⊂ Z is a connected cycle and [gA**] is a conjugacy class in the**
isotropy group of the generic point of A**. Chen–Ruan cohomology contains ordinary**
cohomology as a subspace, represented by those decorated cycles (A, [gA**]) where**
gA is the identity element; if Z **is a manifold then this subspace is the whole of**
H•
CR(Z; C**). The complementary subspace in** H•
CR(Z; C**) spanned by those decorated**
cycles (A, [gA]) such that gA is not the identity is called the twisted sector**. Chen–**
Ruan cohomology carries a non-degenerate pairing, the **orbifold Poincar´e pairing**, which functions exactly as the usual Poincar´e pairing except that **classes represented**
by (A, [gA]) and (B, [gB]) pair to zero unless [gA**] = [**g
−1 B ].

In what follows we will consider maps f : C → Z **from orbifold curves to** Z.

The source curve C **here may be nodal, and carries a number of marked points. We**
allow C **to have isotropy at the marked points and nodes, but nowhere else, and**
insist that the map f is representable**: that it induces injections on all isotropy**
groups. (In particular, therefore, if Z **is a manifold then we consider only maps**
f : C → Z from curves with trivial orbifold structure.) We take the degree **of the** map f : C → Z **to be the degree of the corresponding map between coarse moduli**
spaces [25]. This means the following. Let C and Z **be the coarse moduli spaces of**
C and Z respectively, and let ¯f : C → Z be the map induced by f**. Consider the**
free part H2(Z; Z)free = H2(Z; Z)/H2(Z; Z)**tors**
of H2(Z; Z); here H2(Z; Z)tors is the torsion subgroup of H2(Z; Z**). The degree** d of f : C → Z, d ∈ H2(Z; Z)free, is defined to be the equivalence class of ¯f⋆[C**] where**
[C**] is the fundamental class of** C.

We use correlator notation for the Gromov–Witten invariants **of the orbifold** Z,
writing
(1) hδ1ψ

## A1**, . . . , Δ**Nψ An I Z G,N,D = Hτa1(Δ1), . . . , Τan(Δn)Ig,D

where δ1, . . . , δn are Chen–Ruan cohomology classes on Z; a1, . . . , an **are nonnegative integers; and the right-hand side is defined as on page 41 of [3]. If** Z
is a manifold; a1 = · · · = an = 0; and a very restrictive set of transversality assumptions hold then (1) gives the number of smooth n-pointed curves in Z **of degree**
d and genus g which are incident at the ith marked point, 1 ≤ i ≤ n**, to a chosen**
generic cycle Poincar´e-dual to δi **(see [19]). In general, one should interpret (1) as**
the 'virtual number' of possibly-nodal n-pointed orbifold curves in Z of genus g and degree d which are incident to chosen cycles as above. If any of the ai **are non-zero**
then we count only curves which in addition satisfy certain constraints on their complex structure. If Z **is an orbifold but not a manifold then, as discussed above,**
the curves we count are themselves allowed to be orbifolds; the orbifold structure at the ith marked point of the curve is determined by the conjugacy class [gi**] in a**
representative (Ai, [gi]) of δi. We write Eff(Z**) for the set of possible degrees** d in
(1), or in other words for the set of degrees of effective orbifold curves in Z.

Henceforth let X **be a Gorenstein orbifold with projective coarse moduli space**
X, and let π : Y → X **be a crepant resolution. Assume that the isotropy group of**
the generic point of X **is trivial. The cohomology and homology groups** H•(X; Q), H•(X; Q) are canonically isomorphic to H•(X; Q) and H•(X; Q**) respectively. The**
maps

## Π ⋆: H•(X; Q) → H•(Y ; Q), Π⋆ : H•(Y ; Q) → H•(X; Q),

are respectively injective [6] and surjective, and there is a 'wrong-way' map

## Π!: H •(Y ; Q) → H •(X; Q)

defined using Poincar´e duality. We refer to elements of ker π! as **exceptional classes**.

For an orbifold Z, we say that a basis for H2(Z; Z)free is positive **if the degree of any**
map f : C → Z **from an orbifold curve is a non-negative linear combination of basis**
elements. Let us fix bases for homology, cohomology, and orbifold cohomology as follows. Let β1, . . . , βr be a positive basis for H2(Y ; Z)free **such that**

$\mathbf{a}=\mathbf{a}\cdot\mathbf{a}$. 
π⋆β1, . . . , π⋆βs is a positive basis for H2(X; Z)**free**,
βs+1, . . . , βr is a basis for ker π⋆ ⊂ H2(Y ; Z)**free**.

Choose homogeneous bases ϕ0, . . . , ϕN for H•(Y ; Q) and φ0, . . . , φN for H•
CR(X; Q)
such that ϕ0 = 1Y **, the identity element in** H•(Y ; Q);
ϕ1, . . . , ϕr is the basis for H2(Y ; Q) dual to β1**, . . . , β**r; φ0 = 1X **, the identity element in** H0(X; Q);
φ1, . . . , φs is the basis for H2(X; Q) dual to π⋆β1**, . . . , π**⋆βs; φ1, . . . , φr **is a basis for** H2 CR(X; Q).

Note that ϕi = π
⋆(φi), 1 ≤ i ≤ s**. Let** ϕ 0, . . . , ϕN be the basis for H•(Y ; C**) which**
is dual to ϕ0, . . . , ϕN **under the Poincar´e pairing (**·, ·)Y
, and let φ 0, . . . , φN **be the**
basis for H•
CR(X; C) which is dual to φ0, . . . , φN **under the orbifold Poincar´e pairing**
(·, ·)X
. We will use Einstein's summation convention for Greek indices, summing repeated Greek (but not Roman) indices over the range 0, 1, . . . , N. For d ∈ **Eff(**Y ),
let

$$Q^{d}=Q_{1}^{d_{1}}Q_{2}^{d_{2}}\cdots Q_{r}^{d_{r}}$$
$\mathrm{wh}$? 
$\frac{54}{5}$ . 
$\phi$

r where d = d1β1 + **· · ·** + drβr,
and for d ∈ Eff(X**), let**
U
d = U
d1 1 U
d2 2**· · ·**U
ds s where d = d1π⋆β1 + **· · ·** + dsπ⋆βs.

The monomial Qdis an element of the Novikov ring for Y , ΛY = C[[Q1, . . . , Qr]];
the monomial U
dis an element of the Novikov ring for X, ΛX = C[[U1, . . . , Us]].

The big quantum product for X **is a family** ⋆
τ of algebra structures on H•
CR(X; ΛX ),
parameterized by τ ∈ H•
CR(X; ΛX ), which is defined in terms of Gromov–Witten invariants of X. Let τ = ταφα, and consider the genus-zero Gromov–Witten potential QUANTUM COHOMOLOGY AND CREPANT RESOLUTIONS 5 for X,

$$F_{\mathcal{X}}=\sum_{d\in\operatorname{Eff}(\mathcal{X})}\sum_{n\geq0}\left\langle\tau,\tau,\ldots,\tau\right\rangle_{0,n,d}^{\mathcal{X}}\frac{U^{d}}{n!}$$ $$=\sum_{\begin{subarray}{c}d\in\operatorname{Eff}(\mathcal{X}):\\ d=d_{1}\pi_{*}\beta_{1}+\cdots+d_{s}\pi_{s}\beta_{s}\end{subarray}}\sum_{n\geq0}\left\langle\phi_{e_{1}},\ldots,\phi_{e_{n}}\right\rangle_{0,n,d}^{\mathcal{X}}\frac{U_{1}^{d_{1}}\cdots U_{s}^{d_{s}}\tau_{e_{1}}\cdots\tau_{e_{n}}}{n!}.\tag{2}$$

(Recall that we always sum over repeated Greek indices, such as the ǫi **here.) The**
Gromov–Witten potential FX is a formal power series in the variables τ0**, . . . , τ**N
and U1, . . . , Us**; it is a generating function for genus-zero Gromov–Witten invariants**
of X. The potential FX **determines the big quantum product** ⋆
τ on H•
CR(X; ΛX **) via**
(3) φα ⋆
τ φβ =∂
3FX
∂τα∂τβ∂τγ φ γ.

We can regard the RHS of (3) as a formal power series in τ0, . . . , τN **with coefficients**
in H•
CR(X; ΛX **), and thus** ⋆
τ gives a family, depending formally on τ**, of algebra**
structures on H•
CR(X; ΛX ). Similarly, setting t = tαϕα, the **genus-zero Gromov–**
Witten potential for Y ,

$$F_{Y}=\sum_{d\in\operatorname{Eff}(Y)}\sum_{n\geq0}\langle t,t,\ldots,t\rangle_{0,n,d}^{Y}\,\frac{Q^{d}}{n!}$$ $$=\sum_{\begin{subarray}{c}d\in\operatorname{Eff}(Y):\\ d=d_{1}\beta_{1}+\cdots+d_{r}\beta_{r}\end{subarray}}\sum_{n\geq0}\langle\varphi_{e_{1}},\ldots,\varphi_{e_{n}}\rangle_{0,n,d}^{Y}\,\frac{Q_{1}^{d_{1}}\cdots Q_{r}^{d_{r}}t_{e_{1}}\cdots t_{e_{n}}}{n!}\,.$$
$$\left({4}\right)$$

is a formal power series in the variables t0, . . . , tN and Q1, . . . , Qr**. It determines the**
big quantum product for Y **, which is a family** ⋆
t of algebra structures on H•(Y ; ΛY )
depending formally on t ∈ H•(Y ; ΛY **), via**

(5) ϕα ⋆
$$\varphi_{\alpha}\star\varphi_{\beta}=\frac{\partial^{3}F_{Y}}{\partial t_{\alpha}\partial t_{\beta}\partial t_{\gamma}}\varphi^{\gamma}.$$
The small quantum products **are algebra structures on** H•
CR(X; ΛX ) and H•(Y ; ΛY )
obtained from the big quantum products (3) and (5) by setting τ = 0, t **= 0:** (6)

$$\begin{array}{l l}{{\phi_{\alpha}\bullet\phi_{\beta}=\sum_{d\in\operatorname{Eff}(\mathcal{X})}\langle\phi_{\alpha},\phi_{\beta},\phi^{\gamma}\rangle_{0,3,d}^{\mathcal{X}}\,U^{d}\phi_{\gamma}\quad}}&{{\mathrm{for~}\mathcal{X}}}\\ {{\varphi_{\alpha}\bullet\varphi_{\beta}=\sum_{d\in\operatorname{Eff}(Y)}\langle\varphi_{\alpha},\varphi_{\beta},\varphi^{\gamma}\rangle_{0,3,d}^{Y}\,Q^{d}\,\varphi_{\gamma}\quad{\mathrm{for~}}Y.}}\end{array}$$

The variables U1, . . . , Us and Q1, . . . , Qr **hidden here are the 'quantum parameters'**
described in the introduction. Setting Q1 = · · · = Qr **= 0 in (6) recovers the usual**
cup product on H•(Y ; C); setting U1 = · · · = Us = 0 gives the **Chen–Ruan product**
on H•
CR(X; C**), which we denote by** ∪
CR
. Unless otherwise indicated, all products of Chen–Ruan cohomology classes are taken using ∪
CR
.

It follows from the Divisor Equation (see e.g. **[7]) that** φα ⋆
τ φβ **depends on the**
variables τ1, . . . , τs, U1, . . . , Us **only through the combinations** Uie ti, 1 ≤ i ≤ s, and that ϕα ⋆
t ϕβ depends on the variables t1, . . . , tr, Q1, . . . , Qr **only through the**
combinations Qie ti, 1 ≤ i ≤ r**. Set**
(7)
τtwo = τ1φ1 + · · · + τsφs, τrest = τ0φ0 + τs+1φs+1 + **· · ·** + τN φN ,
ttwo = t1ϕ1 + · · · + trϕr, trest = t0ϕ0 + tr+1ϕr+1 + · · · + tN ϕN ,
6 TOM COATES AND YONGBIN RUAN

so that τ = τtwo + τrest and t = ttwo + trest. Then (8) φα ⋆ τ φβ =X d∈Eff(X ): d=d1π⋆β1+···+dsπ⋆βs X n≥0 hφα, φβ, τrest, . . . , τrest, φγi X 0,n+3,d × U d1 1· · ·U ds s e d1τ1· · · e dsτs n!φγ and (9) ϕα ⋆ t ϕβ =X d∈Eff(Y ): d=d1β1+···+drβr X n≥0 hϕα, ϕβ, trest, . . . , trest, ϕγi Y 0,n+3,d × Q d1 1· · ·Qdr r e d1t1· · · e drtr n!ϕγ. Thus in the limit
Re τi **→ −∞**, 1 ≤ i ≤ s,
τi → 0, i = 0 and **s < i** ≤ N,
the big quantum product ⋆
τ
on H•
CR(X; ΛX **) becomes the Chen–Ruan product, and**
in the limit
Re ti **→ −∞**, 1 ≤ i ≤ r,
ti → 0, i = 0 and **r < i** ≤ N,
$${\mathrm{h}}{\mathrm{u}}{\mathrm{s}}{\mathrm{i}}{\mathrm{n}}{\mathrm{t}}$$
$$\begin{array}{c}{{\mathrm{Re}\,\tau_{i}\to-\infty,}}\\ {{\qquad\tau_{i}\to0,}}\end{array}$$



the big quantum product ⋆
t
on H•(Y ; ΛY **) becomes the usual cup product. We refer**
to the points
$$\begin{array}{c}{{\mathrm{Re}\,t_{i}\to-\infty,}}\\ {{\quad t_{i}\to0,}}\end{array}$$
$1\leq i\leq r$,  $i=0$ and $r<i\leq N$. 



$$\tau_{i}=\begin{cases}-\infty&1\leq i\leq s\\ 0&\text{otherwise}\end{cases}\qquad\qquad\text{and}\qquad\qquad t_{i}=\begin{cases}-\infty&1\leq i\leq r\\ 0&\text{otherwise}\end{cases}$$  as the _large-radius limit points_ for $\mathcal{X}$ and $Y$ respectively.  
An Analyticity Assumption and Its Consequences. **The goal of this paper**
is to describe a relationship between the big quantum products on H•
CR(X; ΛX **) and**
H•(Y ; ΛY ). The first obstacle to overcome is that the ground rings ΛX and ΛY are in general not isomorphic: ΛY contains more quantum parameters (Qi: 1 ≤ i ≤ r)
than ΛX does (Ui: 1 ≤ i ≤ s**). We now describe an analyticity assumption**
on the big quantum product ⋆
t for Y **which allows us to regard** ⋆
t as a family of algebra structures on H•(Y ; ΛX ): it allows us to set Qi = Ui, 1 ≤ i ≤ s**, and to**
specialize the extra quantum parameters Qs+1, . . . , Qr **to 1. Roughly speaking, we** assume henceforth that the genus-zero Gromov–Witten potential FY **, which is a** formal power series in the variables t0, . . . , tN and Q1, . . . , Qr, is **convergent in the** 'exceptional variables' Qs+1**, . . . , Q**r.

Definition. Let F ∈ C[[x0, x1, x2, . . .**]] be a formal power series in the variables**
x0, x1, x2, . . . Given distinct variables xi1, . . . , xin we can write F **uniquely in the**
form

$F=\sum_{J\subset\mathbb{N}\backslash\{i_{1},...,i_{n}\}}\sum_{a:J\to\mathbb{N}\backslash\{0\}}\int_{J,a}\prod_{j\in J}x_{j}^{a(j)}$  $\int_{J,a}\prod_{j\in J}x_{j}^{a(j)}$ 
where each fJ,a is a formal power series in the variables xi1, . . . , xin. Let D **be a**
domain in C
n which contains the origin. We say that F **depends analytically on**
xi1, . . . , xinin the domain D if each fJ,a **is the Taylor expansion at the origin of**
fJ,a(xi1, . . . , xin) for some analytic function fJ,a : D → C.

The genus-zero Gromov–Witten potential FY **is a formal power series in the**
variables t0, . . . , tN and Q1, . . . , Qr. Henceforth, we impose:
QUANTUM COHOMOLOGY AND CREPANT RESOLUTIONS 7 Convergence Assumption 2.1. There are strictly positive real numbers Ri, s <
i ≤ r, such that FY depends analytically on Qs+1, . . . , Qr **in the domain**

## |Qi| < Ri**, S < I** ≤ R.

This assumption holds, for instance, whenever Y **is a compact semi-positive toric**
manifold. As we will see, even though the radii of convergence Ri **need not all be**
greater than 1, this assumption will allow us to set Qs+1 = · · · = Qr **= 1. It follows**
from (9) that under Convergence Assumption 2.1, FY **in fact depends analytically** on t1, t2, . . . , tr and Qs+1, . . . , Qr **in the domain**

(10)|ti| < ∞ 1 ≤ i ≤ s
Thus we can write $F_{Y}$ as  $$\sum_{\begin{subarray}{c}J\subset\{0,r+1,s+2,\ldots,N\}\\ K\subset\{1,2,\ldots,s\}\end{subarray}}\sum_{\begin{subarray}{c}a:J\to N\backslash\{0\}\\ b:K\to\mathbb{N}\backslash\{0\}\end{subarray}}g_{J,a;K,b}\Big{(}t_{1},\ldots,t_{r};Q_{s+1},\ldots,Q_{r}\Big{)}\prod_{j\in J}t_{j}^{a(j)}\prod_{k\in K}Q_{k}^{b(k)},$$
$$\begin{array}{r l}{|t_{i}|<\infty}&{{}\quad1\leq i\leq s}\\ {|Q_{i}\mathrm{e}^{t_{i}}|<R_{i}\quad s<i\leq r.}\end{array}$$
where gJ,a;K,b **are analytic functions defined in the domain (10), and then set**

(11) Qi =
$$\left\{\begin{array}{ll}1&s<t\leq r\end{array}\right.$$  obtaining a well-defined power series  $$F_{Y}^{\otimes}=\sum_{\begin{subarray}{c}J\subset\{0,r_{1}+1,r_{2},\ldots,N\}\\ K\subset\{1,2,\ldots,s\}\end{subarray}}\sum_{\begin{subarray}{c}aJ:s\to N\backslash\{0\}\\ bK\to N\backslash\{0\}\end{subarray}}g_{J,a;K,b}\Big{(}t_{1},\ldots,t_{r};1,\ldots,1\Big{)}\prod_{j\in J}t_{j}^{a(j)}\prod_{k\in K}U_{k}^{b(k)}$$  in the variables $t_{0},t_{r+1},t_{r+2},\ldots,t_{N}$ and $U_{1},\ldots,U_{s}$, with coefficients which are analytic functions of $t_{1},\ldots,t_{r}$ defined in the region.  
$$Q_{i}={\begin{cases}U_{i}&1\leq i\leq s\\ 1&s<i\leq r\end{cases}}$$
analytic functions of t1, . . . , tr **defined in the region**

(12)|ti| < ∞ 1 ≤ i ≤ s
$$\begin{array}{r l}{|t_{i}|<\infty}&{{}1\leq i\leq s}\\ {|\mathrm{e}^{t_{i}}|<R_{i}}&{{}s<i\leq r.}\end{array}$$
We can also make the substitution (11) in the big quantum product (5), obtaining a well-defined family of products ⊛
t
on H•(Y ; ΛX **) which depends formally on**
the variables t0, tr+1, tr+2, . . . , tN and analytically on the variables t1, . . . , tr **in the**
domain (12). The product ⊛
t
satisfies
ϕα ⊛ t ϕβ =∂ 3F ⊛ Y ∂tα∂tβ∂tγ ϕ γ
$$\varphi_{\alpha}\underset{t}{\otimes}\varphi_{\beta}=\sum_{\begin{subarray}{c}d\in\text{Eff}(Y):\\ d=d_{1}\beta_{1}+\cdots+d_{r}\beta_{r}\end{subarray}}\sum_{n\geq0}\left\langle\varphi_{\alpha},\varphi_{\beta},t_{\text{rest}},\ldots,t_{\text{rest}},\varphi^{\gamma}\right\rangle_{0,n+3,d}^{Y}\\ \times\frac{U_{1}^{d_{1}}\cdots U_{s}^{d_{r}}e^{d_{1}t_{1}}\cdots e^{d_{r}t_{r}}}{n!}\,\varphi_{\gamma}\,\tag{13}$$  where $\varphi_{\alpha}$ is a $d\in\text{Aut}(\mathcal{F})$.  
where trest **is defined in (7).**
We do not impose any convergence assumption on the Gromov–Witten potential FX , which is a formal power series in τ0, . . . , τN and U1, . . . , Us**, but nonetheless**
it depends analytically on the variables τ1, . . . , τs **in the domain** C
s**. This is clear**
from equation (8).

3. Givental's Lagrangian Cone The key objects in conjecture 4.1 are certain Lagrangian submanifold-germs LX
and LY . In this section we define LX and LY **and describe some of their properties.**
A Symplectic Vector Space. Throughout this section, let Z **denote either** X or Y . We work over the ground ring Λ = ΛX **. Let**

HZ = H•
CR(Z**; Λ)** ⊗ C((z
−1)),
$$\Omega_{\mathcal{Z}}(f,g)=\operatorname{Res}_{z=0}\left(f(-z),g(z)\right)_{\mathcal{Z}}d z.$$
Z
We think of HZ **as a sort of 'symplectic vector space', but defined over the ring Λ**
rather than over a field. HZ is a free graded Λ-module, where deg z **= 2, and Ω**Z
is a Λ-linear, Λ-valued supersymplectic form on HZ :
ΩZ (θ1z k, θ2z l**) = (**−1)a1a2+1ΩZ (θ2z l, θ1z k**) for** θi ∈ H
ai CR(Z; C).

There is a decomposition HZ = H+
Z ⊕ H−
Z
, where the subspaces H+
Z = H•
CR(Z; Λ) ⊗ C[z**] and** H−
Z = z
−1H•
CR(Z**; Λ)** ⊗ C[[z
−1]]
are Lagrangian. We can write a general point in HZ as

(14) X∞
$$\sum_{k=0}^{\infty}\sum_{a=0}^{N}q_{k,a}\Phi_{a}z^{k}+\sum_{l=0}^{\infty}\sum_{b=0}^{N}p_{l,b}\Phi^{b}(-z)^{-1-l}\,.$$
where Φa = φa **and Φ**a = φ aif Z = X, and Φa = ϕa **and Φ**a = ϕ aif Z = Y **; this**
defines Λ-valued Darboux co-ordinates {qk,a, pl,b} on HZ , with qk,a dual to pk,a.

Set qk =Pa qk,aΦa, so that q(z) = q0 + q1z + q2z 2 + · · · **is a general point in** H+
Z
.

The Genus-Zero Descendant Potentials. We consider now the **genus-zero descendant potentials** F
0 X and F
0 Y
, which are generating functions for all genus-zero Gromov–Witten invariants of X and Y . Set τa = τa,αφα, a = 0, 1, 2, . . . **Then**

$$\mathcal{F}_{\mathcal{X}}^{0}=\sum_{d\in\mathsf{Eff}(\mathcal{X})}\sum_{n\geq0}\sum_{a_{1},\ldots,a_{n}\geq0}\left\langle\tau_{a_{1}}\psi^{a_{1}},\tau_{a_{2}}\psi^{a_{2}},\ldots,\tau_{a_{n}}\psi^{a_{n}}\right\rangle_{0,n,d}^{\mathcal{X}}\frac{U^{d}}{n!}$$ $$=\sum_{d\in\mathsf{Eff}(\mathcal{X})}\sum_{n\geq0}\sum_{a_{1},\ldots,a_{n}\geq0}\left\langle\phi_{e_{1}}\psi^{a_{1}},\ldots,\phi_{e_{n}}\psi^{a_{n}}\right\rangle_{0,n,d}^{\mathcal{X}}\frac{U_{1}^{d_{1}}\cdots U_{s}^{d}\tau_{a_{1},e_{1}}\cdots\tau_{a_{n},e_{n}}}{n!}$$
(15)
where d = d1π⋆β1 + · · · + dsπ⋆βs**. The descendant potential** F
0 X **is a formal power**
series in the variables U1, . . . , Us and τa,ǫ, 0 ≤ ǫ ≤ N, 0 ≤ a < ∞**. We show in the**
appendix that F
0 X in fact depends analytically on τ0,1, . . . , τ0,s **in the domain** C
s.

Similarly, set ta = ta,αϕα, a = 0, 1, 2, . . . **Then**

$$\mathcal{F}_{Y}^{0}=\sum_{d\in\mathsf{Eff}(Y)}\sum_{n\geq0}\sum_{a_{1},\ldots,a_{n}\geq0}\langle t_{a_{1}}\psi^{a_{1}},t_{a_{2}}\psi^{a_{2}},\ldots,t_{a_{n}}\psi^{a_{n}}\rangle_{0,n,d}^{Y}\frac{Q^{d}}{n!}$$ $$=\sum_{d\in\mathsf{Eff}(Y)}\sum_{n\geq0}\sum_{a_{1},\ldots,a_{n}\geq0}\langle\varphi_{\epsilon_{1}}\psi^{a_{1}},\ldots,\varphi_{\epsilon_{n}}\psi^{a_{n}}\rangle_{0,n,d}^{Y}\frac{Q^{d_{1}}\cdots Q_{r}^{d_{r}}t_{a_{1},\epsilon_{1}}\cdots t_{a_{n},\epsilon_{n}}}{n!}$$
(16)
where d = d1β1 + · · · + drβr**. The descendant potential** F
0 Y
is a formal power series in the variables Q1, . . . , Qr and ta,ǫ, 0 ≤ ǫ ≤ N, 0 ≤ a < ∞. We will show in the QUANTUM COHOMOLOGY AND CREPANT RESOLUTIONS 9 appendix that under convergence assumption 2.1, F
0 Y
in fact depends analytically on t0,1, . . . , t0,r and Qs+1, . . . , Qr **in the domain**

(17)|t0,i| < ∞ 1 ≤ i ≤ s
$$\begin{array}{r l}{|t_{0,i}|<\infty}&{{}\quad1\leq i\leq s}\\ {|Q_{i}\mathrm{e}^{t_{0,i}}|<R_{i}\quad s<i\leq r.}\end{array}$$
This will allow us, as before, to set Qs+1 = · · · = Qr **= 1: we can write** F
$\cdots=Q_{T}=1$: we can write $\mathcal{F}_{Y}^{0}$ as 
$$\sum_{J\subset\mathbb{N}\setminus\{0,1,2,\ldots,N\};}\sum_{K\subset\{1,2,\ldots,s\}}\sum_{\begin{subarray}{c}a:J\to\mathbb{N}\setminus\{0\}\\ b:K\to\mathbb{N}\setminus\{0\}\end{subarray}}g_{J,a;K,b}\Big{(}t_{0,1},\ldots,t_{0,r};Q_{s+1},\ldots,Q_{r}\Big{)}$$ $$\times\prod_{(j,e)\in J}t_{j,e}^{a(j,e)}\prod_{k\in K}Q_{k}^{b(k)}$$

where gJ,a;K,b **are analytic functions defined in the domain (17), and making the**
substitution (11) yields a well-defined power series

$$\mathcal{F}_{Y}^{\otimes}=\sum_{\begin{subarray}{c}J\subset\mathbb{N}\times\{0,1,2,\ldots,N\}:\\ J\cap\{(0,1),(0,2),\ldots,(0,r)\}=\varnothing\end{subarray}}\sum_{\begin{subarray}{c}K\subset\{1,2,\ldots,s\}\\ k:K\to\mathbb{N}\setminus\{0\}\end{subarray}}\sum_{\begin{subarray}{c}gJ,a;K,b\end{subarray}}\left(t_{0,1},\ldots,t_{0,r};1,\ldots,1\right)$$ $$\times\prod_{\begin{subarray}{c}t_{j}^{a},e\end{subarray}}t_{j,e}^{a(j,e)}\prod_{k\in K}U_{k}^{b(k)}$$
$$1\leq i\leq s$$ $$s<i\leq r.$$

in the variables t0,0; t0,r+1, t0,r+2, . . . , t0,N ; ta,ǫ, 0 ≤ ǫ ≤ N, 1 ≤ a < ∞**; and**
U1, . . . , Us, with coefficients which are analytic functions of t0,1, . . . , t0,r **defined in**
the domain

(19)|t0,i| < ∞ 1 ≤ i ≤ s
$$\begin{array}{l l}{{|t_{0,i}|<\infty}}&{{1\leq i\leq s}}\\ {{|{\mathrm{e}}^{t_{0,i}}|<R_{i}}}&{{s<i\leq r.}}\end{array}$$
Thus, exactly as before, Convergence Assumption 2.1 allows us to work over the
Novikov ring Λ = ΛX for X**, even when we are thinking about Gromov–Witten**
invariants of Y .

The Definition of LX and LY . **We regard the genus-zero descendant potential**
F
0 X **as the germ of a function on** H+
X
via the identification

$$q_{k,\alpha}={\begin{cases}\tau_{1,0}-1\\ \tau_{k,\alpha}\end{cases}}$$
(20) qk,α =
$$\begin{array}{l l}{{\left\{\tau_{1,0}-1\quad(k,\alpha)=(1,0)\right.}}}\\ {{\left.\tau_{k,\alpha}\quad\quad\quad\mathrm{{otherwise,}}\right.}}\end{array}$$

which we abbreviate as q(z) = τ (z) − z**. We regard** F
.$ \qquad\quad\vdash\;\;\;\;\;\vdash\;\;\;\;\;\;\vdash$ . 
Y**as the germ of a function**
on H
+
Y
via the identification
(21) qk,α =
$$q_{k,\alpha}={\begin{cases}t_{1,0}-1&(k,\alpha)=(1,0)\\ t_{k,\alpha}&{\mathrm{~otherwise,}}\end{cases}}$$
which we abbreviate as q(z) = t(z) − z**. The identifications (20) and (21) are**
examples of the dilaton shift**; this is discussed further in [11]. Let** FZ = F
0
X if
Z = X and FZ = F
⊛
Y
if Z = Y . We define LZ **by the equations**
$$p_{k,\alpha}=\frac{\partial{\mathcal{F}}_{\Xi}}{\partial q_{k,\alpha}}\qquad\qquad\qquad0\leq k<\infty,$$
As FZ **is the germ of a function on** H+
Z
(depending analytically on some variables and formally on other variables), LZ **is the germ of a Lagrangian submanifold of** HZ .

Remark 3.1. **The polarization** HZ = H
+
Z ⊕ H−
Z
identifies H
−
Z **with the Λ-module**
H+
Z
⋆**:= Hom(**H+
Z
,**Λ) dual to** H+
Z
, and hence identifies HZ **with the cotangent**
bundle T
⋆H
+
Z
:= H
+
Z ⊕
H
+
Z
⋆. Under this identification, LZ **becomes the graph of**
the differential of FZ .

The Gromov–Witten invariants which participate in the definition of LZ **satisfy**
a large number of identities: the String Equation, the Dilaton Equation, and the Topological Recursion Relations. These identities place very strong **constraints on**
the geometry of LZ :
Theorem 3.2 ([15, 22, 34]). LZ **is the germ of a Lagrangian cone with vertex at**
the origin such that each tangent space T to LZ **is tangent to the cone exactly along**
zT **. In other words:**
(1) if T is a tangent space to LZ **then** zT ⊂ T ; (2) if T = TxLZ then the germ at x of the linear subspace zT **is contained in**
LZ ;
(3) if T is a tangent space to LZ and x ∈ LZ then TxLZ = T **if and only if**
x ∈ zT .

In particular, theorem 3.2 implies that each tangent space T to LZ **is closed**
under multiplication by elements of C[z] (because zT ⊂ T ), and that LZ **is the**
union, over all tangent spaces T to LZ , of the infinite-dimensional linear subspacegerms zT ∩ LZ . It is the germ of a 'ruled cone'. Note that as LZ **is the germ of a**
submanifold of HZ **, it makes sense to analytically continue** LZ .

## 4. The Crepant Resolution Conjecture

We are now in a position to make our conjecture.

Conjecture 4.1 (Coates–Corti–Iritani–Tseng; Ruan). **There is a degree-preserving**
C((z−1))-linear symplectic isomorphism U : HX → HY **and a choice of analytic**
continuations of LX and LY such that U (LX ) = LY . Furthermore, U **satisfies:**
(a) U(1X ) = 1Y + O(z−1);
(b) U ◦
ρ∪
CR= (π
⋆ρ∪) ◦ U **for every untwisted degree-two class** ρ ∈ H2(X; C);
(c) U
H+
X
⊕ H−
Y = HY ;
(d) the matrix entries of U with respect to the bases {φα} and {ϕβ}**, which** a priori are elements of Λ((z−1))**, in fact lie in** C((z−1)).

Remark 4.2. **This conjecture emerged in two different contexts during the "New**
Topological Structures in Physics" program at the Mathematical Sciences Research Institute, Berkeley, in the spring of 2006. Conversations between the authors led to the idea that the relationship between the quantum cohomology of X and Y **should**
be expressed as the assertion that U(LX ) = LY for some C((z−1**))-linear symplectic**
isomorphism U**. At the same time, guided by mirror symmetry, Hiroshi Iritani found**
such a symplectic transformation in toric examples (as a part of a project [13] with Coates, Corti, and Tseng). Condition (c) here is a stronger version of the condition
(c) given in [13, §**5]. We will need this stronger version for the Cohomological**
Crepant Resolution Conjecture below.

Remark 4.3. Variants of conjecture 4.1 apply to the G-equivariant quantum cohomology of G**-equivariant crepant resolutions, and to crepant resolutions of certain**
non-compact orbifolds (c.f. [7]). We leave the necessary modifications to the reader.

What Do The Conditions Mean? **Without condition (a) any non-zero scalar**
multiple of U would also satisfy the conjecture, because LX and LY **are germs of**
cones. The fact that U is degree-preserving forces U(1X ) = λ1Y + O(z−1**) for some**
scalar λ**, and so condition (a) just fixes this overall scalar multiple.**
Condition (b) is a compatibility of monodromy. The A-model connection - a system of differential equations associated to the small quantum cohomology of Y
[16, §8.5] - is regular singular along the normal-crossing divisor Q1Q2 · · · Qr **= 0,**
and the log-monodromy around Qi = 0 is given by cup product with ϕi**; a similar**
statement holds for X. Condition (b) asserts that U **matches up these monodromies.**
Condition (c) ensures that both the quantum cohomology of X **and the analytic**
continuation of the quantum cohomology of Y **make sense near the large-radius**
limit point for X**. This is explained in detail in Remark 6.18 below.**
Condition (d) says that U **is 'independent of Novikov variables'.**

## 5. Basic Properties Of The Transformation U

Before we explore the implications of conjecture 4.1, we list various basic properties of the transformation U**. As we have chosen homogeneous bases for** H•
CR(X; C)
and H•(Y ; C) and as U **is grading-preserving, we can represent the transformation**
U by an (N + 1) × (N **+ 1) matrix, each entry of which is a Laurent monomial in**
z **of fixed degree. The matrix entries are independent of Novikov variables, so each**
entry is the product of a complex number and a fixed power of z. U **is therefore a**
Laurent polynomial in z. For example, if X = P(1, 1, 1, 3), Y = F3**, and we choose**
bases as in [13], then

$$\mathbb{U}=$$
$$\left(\begin{array}{c}{{1}}\\ {{0}}\\ {{0}}\\ {{0}}\\ {{-\frac{\pi^{2}}{3}z^{-2}}}\\ {{-8\zeta(3)z^{-3}}}\end{array}\right)$$

−8ζ(3)z−3 **0 0 1** −
 $\begin{matrix}0&0&0&0&0\\ 1&0&0&0&0\\ 0&1&0&0&0\\ 0&0&0&-\frac{2\sqrt{3\pi}}{3\Gamma(\frac{4}{3})^3}z&\frac{2\sqrt{3\pi}}{3\Gamma(\frac{2}{3})^3}\\ 0&0&0&\frac{2\pi}{3\Gamma(\frac{4}{3})^3}&\frac{2\pi^2}{3\Gamma(\frac{2}{3})^3}z^{-1}\\ 0&0&1&-\frac{2\sqrt{3\pi^3}}{9\Gamma(\frac{4}{3})^3}z^{-1}&\frac{2\sqrt{3\pi^3}}{9\Gamma(\frac{2}{3})^3}z^{-2}\end{matrix}$  on if the Gramon-Witten invariants of. 
.
0 0 0 0 −
This illustrates the fact that even if the Gromov–Witten invariants of X and Y are
defined over Q, the transformation U may only be defined over C**. Note that some**
of the matrix entries here are 'highly transcendental'.
Lemma 5.1. Suppose that ωi ∈ HiCR(X; C)**. Then:**
(a) U(ω2r) = z
rρ0+O(z
r−1) for some ρ0 ∈ H0(Y ; C), and if ρ0 6= 0 then r = 0;
(b) U(ω2r+1) = z
rρ1 + O(z
r−1) for some ρ1 ∈ H1(Y ; C), and if ρ1 6= 0 **then**
$$\begin{array}{r l}{(\omega)}&{{}\cup(\omega_{2r+1})}\\ {r=0.}\\ {(c)}&{{}\mathbb{U}(\omega_{2r+2})}\\ {r=0.}\end{array}$$
rρ2+O(z
r−1) for some ρ2 ∈ H2(Y ; C), and if ρ2 6∈ ker π! **then**
Proof. (a) As U is grading-preserving, U(ω2r) = z
rλ1Y + O(z
r−1**) for some** λ ∈ C.
Write D = dimC(X) and suppose that λ 6= 0. Then, as X **is K¨ahler and as the**
map π
⋆: H•(X; C) → H•(Y ; C) is injective, there exists ω ∈ H2(X; C**) such that**
(π
⋆ω)
D ∈ H2D(Y ; C**) is non-zero. We have**
$$\mathbb{U}\big(\widehat{\omega\cup\cdots\cup\omega}_{\mathrm{{\scriptsize{\scriptsize{\sc{CR}}}}}}\cup_{\mathrm{{\scriptsize{\sc{CR}}}}}\cup_{\mathrm{{\scriptsize{\sc{CR}}}}}\omega_{2r}\big)=z^{r}\lambda(\pi^{\star}\omega)^{D}+O(z^{r-1})$$
$\neq0$.. 
D
6= 0, and hence (ω ∪
CR
)
D ∪
CR
ω2r 6= 0. For degree reasons, r **must be zero.**
(b) As U is grading-preserving, U(ω2r+1) = z rρ1 + O(z r−1**) for some** ρ1 ∈
H1(Y ; C**). As** π
⋆: H1(X; C) → H1(Y ; C**) is an isomorphism, we have** ρ1 = π
⋆θ1 for some θ1 ∈ H1(X; C). Suppose that ρ1 6= 0. By Hard Lefschetz for H•(X; C) (ordinary cohomology not Chen–Ruan cohomology), there exists ω ∈ H2(X; C**) such**
that ω D−1θ1 ∈ H2D−1(X; C**) is non-zero. Injectivity of** π
⋆ **gives (**π
⋆ω)
D−1ρ1 6**= 0,**
and so

$$\mathbb{U}\big(\overbrace{\omega\cup\cdots\cup\omega}^{D-1}\cup\omega_{\mathrm{CR}}\cup\omega_{2r+1}\big)=z^{r}\big(\pi^{\star}\omega\big)^{D-1}\rho_{1}+O\big(z^{r-1}\big)$$
$\neq0$... 
$\square$
6= 0.
As before, this forces r **= 0.**
(c) As U is grading-preserving, U(ω2r+2) = z rρ2 + O(z r−1**) for some** ρ2 ∈
H2(Y ; C). Suppose that ρ2 6∈ ker π!. Then there exist ω, ω′ ∈ H2(X; C**) such**
that RX
π!ρ2 ∪ ω D−2 ∪ ω′ 6**= 0; here we used the non-degeneracy of the Poincar´e**
pairing and Hard Lefschetz for H•(X; C**). Thus** RY
ρ2 ∪π
⋆ω D−2 ∪π
⋆ω′ 6**= 0, and so**
U(ω2r+2) ∪ π
⋆ω D−2 ∪ π
⋆ω′ 6**= 0. But**

$\mathbb{U}(\omega_{2r+2})\cup\pi^{\star}\omega^{D-2}\cup\pi^{\star}\omega^{\prime}=\mathbb{U}(\underbrace{\omega\cup\cdots\cup\omega}_{\text{CR}}\underbrace{\omega\cup\omega^{\prime}}_{\text{CR}}\cup\omega_{2r+2})$
and as this is non-zero we must, for degree reasons, have r **= 0.** 
Lemma 5.2. Suppose that U **sends** H
−
X
to H
−
Y
, so that U = U0 + U1z
−1 + **· · ·** + Ukz
−k for some non-negative integer k **and some linear maps** Ui: H•
CR(X; C) → H•(Y ; C).

Then:
(i) U0 **is grading-preserving;**
(ii) U0 **maps** 1X to 1Y;
(iii) U0 **maps** ρ ∈ H2(X; C) to π
⋆ρ ∈ H2(Y ; C);
(iv) U0 **identifies the orbifold Poincar´e pairing on** H•
CR(X; C) **with the Poincar´e**
pairing on H•(Y ; C).

Proof. (i) U **is grading-preserving. (ii) conjecture 4.1(a). (iii) conjecture 4.1(b).**
(iv) U **is a symplectic isomorphism.** 
6. From Givental's Cone to Quantum Cohomology

Since LX encodes all genus-zero Gromov–Witten invariants of X**, it implicitly**
encodes the big quantum product for X. In the same way, LY **encodes the big**
quantum product for Y **. In this section we describe how to determine the quantum**
products from LX and LY **, using the geometric structure described in theorem 3.2.**
The big quantum products can be regarded in three different ways:
(1) as families of Frobenius algebras**, since**
$$\left(u_{\begin{array}{l}{{\star}}\,v,w\end{array}}\right)_{X}=\left(u,v_{\begin{array}{l}{{\star}}\,w\end{array}}\right)_{X}\qquad{\mathrm{~and~}}\qquad\left(u^{\prime}\mathop{\circledast}_{t}v^{\prime},w^{\prime}\right)_{Y}=\left(u^{\prime},v^{\prime}\mathop{\circledast}_{t}w^{\prime}\right)_{Y}$$
for all **u, v, w** ∈ H•
CR(X; C) and u′, v′, w′ ∈ H•(Y ; ΛX ).
(2) as F-manifolds**. An F-manifold is, roughly speaking, a Frobenius manifold**
without a pairing. It is a manifold equipped with a supercommutative
associative multiplication on the tangent sheaf and a global unit vector
field such that the multiplication ◦ **satisfies**
(23) LieX◦Y (◦) = X ◦ LieY (◦) + Y ◦ LieX(◦)
for any two local vector fields X and Y . F-manifolds are studied in [23, 24].

(3) as Frobenius manifolds. A Frobenius manifold is a manifold M **equipped**
with the structure of a unital Frobenius algebra on each tangent space TxM
such that the associated metric on TM **is flat, the identity vector field is** flat, and certain integrability conditions hold (these include the celebrated WDVV equations). Frobenius manifolds are studied in [17, 28].

Once again, write Z for either X or Y **. In this section, we will see how to pass from**
LZ to:
(1) a family of Frobenius algebras. This family is intrinsic to LZ **in that it**
depends only on the symplectic space HZ and on LZ ⊂ HZ **satisfying** the conclusions of theorem 3.2; it is independent of the polarization HZ =
H
+
Z ⊕ H−
Z
used to define LZ .

(2) an F-manifold. This depends, up to isomorphism, only on HZ , LZ **, and a**
choice of point on LZ .

(3) a Frobenius manifold. This depends on HZ , LZ , a point x of LZ **, and a**
choice of **opposite subspace** H
opp Z ⊂ HZ . Choosing x ∈ LZ **appropriately**
and taking H
opp Z = H−
Z
gives the Frobenius manifold corresponding to the quantum cohomology of Z; we explain this in §**6(d–e) below.**
Once we understand points 1–3 here, we will see how conjecture 4.1 **implies**
previous versions of the Crepant Resolution Conjecture. If the symplectic transformation U **maps** H
−
X
to H
−
Y
then we obtain from point 3 above an isomorphism between the Frobenius manifolds defined by the quantum cohomologies of X and Y . The Hard Lefschetz condition postulated by Bryan–Graber in [7] **implies that**
U(H−
X
) = H−
Y
(this is theorem 5.4 in [13]), and so conjecture 4.1 implies the Bryan–
Graber version of the Crepant Resolution Conjecture. This is discussed further in §9. In general U **will not map** H
−
X
to H
−
Y - in other words, some of the matrix entries of U will contain strictly positive powers of z - and so U will not induce an isomorphism between quantum cohomology Frobenius manifolds. From point 2 above we still obtain, however, an isomorphism of F-manifolds. If X is semi-positive then more is true, and we obtain an isomorphism between the **small**
quantum cohomology algebras of X and Y **which preserves the Poincar´e pairings.**
This is something very like Ruan's original Crepant Resolution Conjecture, and we discuss it further in §8. Finally, without any additional assumptions on X or Y (no Hard Lefschetz, no semi-positivity) we obtain from point 1 above something very like the Cohomological Crepant Resolution Conjecture; we discuss this in §7.

The ideas presented in this section are due to Barannikov and Givental. Closelyrelated discussions can be found in [5, 13, 22].

$z^{-1}w$). 
6.1. From Givental's Cone to a Family of Frobenius Algebras. **Given** LZ ⊂
HZ satisfying the conclusions of theorem 3.2 and a point x ∈ LZ **, the quotient** Tx/zTx, where Tx = TxLZ **, inherits the structure of a Frobenius algebra as follows.**
The Λ-bilinear form Tx ⊗ Tx −→ Λ
v ⊗ w 7−→ Ω(**v, z**−1w)
is symmetric and vanishes whenever v or w lies in zTx**, so it descends to give a**
symmetric bilinear form
(24) g(v + zTx, w + zTx) = Ω(**v, z**−1w)
on Tx/zTx. This form is non-degenerate as Tx **is maximal isotropic. Choosing a**
Lagrangian subspace V such that HZ = Tx ⊕ V **— one could, for instance, take** V = H−
Z - identifies V **with** T
⋆
x
:= Hom(Tx,Λ) and HZ **with the cotangent bundle**
Tx ⊕T
⋆
x. As LZ is Lagrangian, there is the germ of a function φ : Tx → Λ such that φ(x) = 0 and that LZ coincides, in a formal neighbourhood of x**, with the graph of**
the differential of φ**. The third derivative** d 3φ|x defines a cubic tensor on Tx**; it is**
easy to see that this is independent of the choice of V **. Theorem 3.2 implies that**
φ vanishes identically along the germ of zTx ⊂ Tx**, and as** d 3φ|x(u, v, w**) vanishes**
whenever one of u, v, w lies in zTx we obtain a cubic tensor c on Tx/zTx:
c u + zTx, v + zTx, w + zTx
= d 3φ|x(**u, v, w**).

The tensors c and g together define a supercommutative product ⋆ on Tx/zTx**, via**
g
(u + zTx) ⋆ (v + zTx), w + zTx
= c u + zTx, v + zTx, w + zTx
.

The product ⋆ automatically has the Frobenius property with respect to g**. We** will see in the next section that it is associative and unital; the unit depends upon the point x ∈ LZ , so even if the tangent spaces Tx1 = Tx1LZ and Tx2 = Tx2LZ
coincide, the algebra structures on Tx1/zTx1 and Tx2 /zTx2 **will in general differ.**
Thus we have obtained from LZ **a vector bundle**
TLZ /zTLZ → LZ
such that the fibers of this vector bundle form a family of Frobenius **algebras.**
Remark 6.1. **The construction here resembles the construction of the Yukawa**
coupling in the B-model of topological string theory associated to a **Calabi–Yau 3-**
fold (see [16] and e.g. [20, §**6]). This is not an accident. The tangent spaces** T to LZ
form a variation of semi-infinite Hodge structure **in the sense of Barannikov [5], and** part of the power of Barannikov's theory is that it can describe A-model phenomena (like quantum cohomology) and B-model phenomena in the same language.

Remark 6.2. If we take X **to be a manifold,** Z = X, V = H
−
X
, and the point x ∈ LX to be JX (τ, −z), defined in §6(d) below, then the function-germ φ **described**
above is Givental's **genus-zero ancestor potential** F¯0 τ of X [21, §5].

6.2. From Givental's Cone to an F-Manifold. Given LZ ⊂ HZ **satisfying the**
conclusions of theorem 3.2 and a point x ∈ LZ **, we construct an F-manifold as**
follows. Let Tx = TxLZ and choose a Lagrangian subspace V ⊂ HZ **such that** HZ = Tx ⊕ V . Let M = Tx ∩ zV **. Our F-manifold will be based on a formal**
neighbourhood of the origin in M.

As LZ is the graph of a germ of a map from Tx to V **, there is a unique germ of**
a function K : M → HZ such that K(t) ∈ LZ and K(t) = x + t + v(t**) for some** v(t) ∈ V . Choose a basis e0, . . . , eN for M **and denote the corresponding linear** co-ordinates on M by ta, 0 ≤ a ≤ N.

Proposition 6.3. For t in a formal neighbourhood of the origin in M**, the elements**
∂K
∂ta
(t) + zTK(t) (25) , a = 0, 1**, . . . , N,**
form a basis for TK(t)/zTK(t).

Proof. It suffices to prove this at t = 0. But K(0) = x and, since Tx **is tangent to**
LZ at x,
∂K
∂ta
(0) has no component along V :
∂K
∂ta
(0) = ea**. So we need to show that**
ea + zTx a = 0, 1**, . . . , N,**
form a basis for Tx/zTx. This holds because HZ = zTx ⊕zV **, and so the projection**
M = Tx ∩ zV → Tx/zTx is an isomorphism. 

Thus for t in a formal neighbourhood M0 of the origin in M**, the map** DK|t :
TtM → TK(t)/zTK(t)is an isomorphism. Pulling back the Frobenius algebra structure defined in the previous section via the map DK **gives a pairing**

$$g_{\alpha\beta}(t)=\Omega\bigg(\frac{\partial K}{\partial t_{\alpha}}(t),z^{-1}\frac{\partial K}{\partial t_{\beta}}(t)\bigg)$$ and a symmetric 3-tensor $$c_{\alpha\beta\gamma}(t)=\Omega\bigg(\frac{\partial^2K}{\partial t_{\beta}\partial t_{\gamma}}(t),\frac{\partial K}{\partial t_{\alpha}}(t)\bigg)$$ - The K-Tensor is the independent set of K-basis. 
in $T_{t}M_{0}.\;$ D. 
on TtM0**. Denote the induced product on** TtM0 by ◦t:

on $T_tM_0$ by $\circ_t$:  . 
eα ◦t eβ = cγ

$${c_{\alpha\beta}}^{\gamma}(t)e_{\gamma t}$$

where cαβγ(t) = cǫ αβ (t)gǫγ(t).

Proposition 6.4.

(a) ∇u◦tvK(t) + zTK(t) = −z∇u∇vK(t) + zTK(t)**, where** ∇u = u α ∂
∂tα denotes the directional derivative along u = u αeα.

(b) **The tensor** cǫ αβ (t)cǫγδ(t) **is symmetric in** α, β, γ, δ.

(c) The product ◦t **is associative.**
Proof. As cγβα(t) = cǫ αβ (t)gγǫ(t**), we have**

$${c_{\alpha\beta}}^{\epsilon}(t)g_{\gamma\epsilon}(t),\,\mathrm{v}$$
$$\Omega\bigg(\frac{\partial^{2}K}{\partial t_{\beta}\partial t_{\alpha}}(t),\frac{\partial K}{\partial t_{\gamma}}(t)\bigg)=\Omega\bigg(\frac{\partial K}{\partial t_{\gamma}}(t),z^{-1}c_{\alpha\beta}{}^{\epsilon}(t)\frac{\partial K}{\partial t_{\epsilon}}(t)\bigg).$$

The pairing (24) is non-degenerate, and (25) is a basis for TK(t)/zTK(t)**, so**

$$(26)$$
(26) − z
$$-\,z\frac{\partial^2K}{\partial t_{\alpha}\partial t_{\beta}}(t)+z T_{K(t)}=c_{\alpha\beta}{}^{\epsilon}(t)\frac{\partial K}{\partial t_{\epsilon}}(t)+z T_{K(t)}.$$

This proves (a). Theorem 3.2 implies that if y(t) ∈ TK(t) **then** z
∂y
∂ta
(t) ∈ TK(t) **too,**
so differentiating (26) yields

$$z^{2}\frac{\partial^{3}K}{\partial t_{\alpha}\partial t_{\beta}\partial t_{\gamma}}(t)+z T_{K(t)}=-c_{\alpha\beta}{}^{\epsilon}(t)z\frac{\partial^{2}K}{\partial t_{\epsilon}\partial t_{\gamma}}(t)+z T_{K(t)}$$ $$=c_{\alpha\beta}{}^{\epsilon}(t)c_{\epsilon\gamma}{}^{\delta}(t)\frac{\partial K}{\partial t_{\delta}}(t)+z T_{K(t)}.$$

Thus cǫ αβ (t)cδ ǫγ (t) is symmetric in α, β, γ. As cǫγδ(t**) is symmetric as well, part**
(b) follows. Part (c) is an immediate consequence of part (b). 

So far, we have constructed a family of supercommutative associative products on the fibers of TM0, depending on LZ ⊂ HZ , a point x ∈ LZ **, and a Lagrangian**
subspace V . To prove that this makes M0 **into an F-manifold we need to show**
that the algebras (TtM0, ◦t**) are unital and that the integrability condition (23)**
holds. After that we will show that, up to isomorphism, the F-manifold we have constructed is independent of the choice of Lagrangian subspace V .

Define a vector field e on M0 by
∇e(t)K(t) + zTK(t) = −z
−1K(t) + zTK(t).

This makes sense, as z−1K(t) ∈ TK(t) **by theorem 3.2.**
Proposition 6.5. e(t) is the identity element in the algebra (Tt(M0), ◦t).

16 TOM COATES AND YONGBIN RUAN
Proof. Let v be any vector field on M0**. Then**
∇e(t)◦tv(t)K(t) + zTK(t) = −z∇v(t)∇e(t)K(t) + zTK(t)
= ∇v(t)K(t) + zTK(t)
and so e(t) ◦t v(t) = v(t). 

Corollary 6.6. The product on Tx/zTx constructed in §**6(a) is associative and**
unital.

Proof. Set t **= 0 in propositions 6.4(c) and 6.5.** 
Proposition 6.7. The triple (M0, ◦, e) **is an F-manifold.**
Proof. **It remains only to establish the integrability condition (23), and for this the**
argument of [24, §**2] applies. The essential ingredients there are proposition 6.4(b)**
and that the quantity ∂
∂tδ cαβγ(t) is symmetric in α, β, γ, δ**: the latter assertion holds**
here as ∂
∂tδ cαβγ(t**) is the fourth derivative of a function** φ : M0 → Λ. 

Proposition 6.8. Suppose that LZ ⊂ HZ **satisfies the conclusions of theorem 3.2,**
that x ∈ LZ , that Tx = TxLZ , and that V, V ′ ⊂ HZ **are Lagrangian subspaces such**
that Tx ⊕ V = Tx ⊕ V′ = HZ . Let (M0, ◦, e) and (M′0
, ◦′, e′) **be the corresponding**
F-manifolds, and K : M0 → HZ , K′: M′0 → HZ ,
be the corresponding functions (constructed just above proposition 6.3). Then there is a unique map f : M0 → M′0 and a unique section w of K⋆TLZ ( i.e. **a unique**
choice of w(t) ∈ TK(t)LZ **) such that**
K′
(27) (f(t)) = K(t) + zw(t), **for all** t ∈ M0.

The map f gives an isomorphism of F-manifolds between (M0, ◦, e) and (M′0
, ◦′, e′).

Proof. Let π′: HZ → Tx denote the projection along V′, and for y ∈ LZ **write** Ty = TyLZ . Recall that M0, M′0 **are formal neighbourhoods of the origins in**
M = Tx ∩ **zV, M**′ = Tx ∩ zV ′
respectively, and that K(t), K′(t′) are the unique elements of LZ **of the form**
K(t) = x + t + v(t), K′(t
′) = x
′ + t
′ + v
′(t
′),
where t ∈ M0, v(t) ∈ V , t′ ∈ M′0
, and v′(t′) ∈ V′.

We begin by showing that, for all t ∈ M0, Tx = π′zTK(t)
⊕ M′**. It suffices to**
prove this at t = 0, and since K(0) = x we need to show that Tx = zTx ⊕ M′**. This** follows from the fact that the projection M′ → Tx/zTx is an isomorphism (c.f. the proof of proposition 6.3). So Tx = π′zTK(t)
⊕ M′**for all** t ∈ M0.

There is therefore a unique element w(t) ∈ TK(t) **such that**
π
′-K(t) + zw(t)
∈ x + M′.

Theorem 3.2 implies that K(t) + zw(t) ∈ LZ **, and so setting**
f(t) = π
′-K(t) + zw(t)
− x gives a map f : M0 → M′0 such that K′(f(t)) = K(t) + zw(t).

This shows existence of a map f : M0 → M′0 and a section w of K⋆TLZ **satisfying**
(27); uniqueness is clear.

It remains to show that f **gives an isomorphism of F-manifolds. Note first that**
TK(t) = TK′(f(t)): theorem 3.2 implies that K(t) ∈ zTK(t), so K′(f(t)) is also in QUANTUM COHOMOLOGY AND CREPANT RESOLUTIONS 17 zTK(t), and so TK(t) = TK′(f(t)) **by theorem 3.2 again. Write** T = TK(t) = TK′(f(t)).

Using proposition 6.3, we can write w(t) ∈ T **uniquely in the form**
(28) w(t) = ∇g(t)K(t) + zh(t) for some vector field g on M0 and some element h(t) ∈ T **. Thus for any vector field**
v on M0,
∇f⋆v(t)K′(f(t**)) +** zT = ∇v(t)
K(t) + zw(t)
+ zT
= ∇v(t)K(t) + z∇v(t)∇g(t)K(t) + zT
(29) = ∇v(t)K(t) + ∇v(t)◦tg(t)K(t) + zT.

As the maps DK|t : TtM0 → T /zT and DK′|f(t): Tf(t)M′0 → T /zT are isomorphisms, equation (29) determines the pushforward f⋆v**. Differentiating again, along**
a vector field w on M0**, gives**
z∇f⋆v(t)∇f⋆w(t)K′(f(t)) + zT = z∇v(t)∇w(t)K(t) + z∇w(t)∇v(t)◦tg(t)K(t) + zT,
and hence

```
∇(f⋆v(t))◦
    ′
     
    f(t)
      (f⋆w(t))K′(f(t)) + zT = ∇v(t)◦tw(t)K(t) + ∇v(t)◦tw(t)◦tg(t)K(t) + zT.

```

Comparing with (29), we find f⋆
v(t) ◦t w(t)
=
f⋆v(t)
◦
′f(t)
f⋆w(t)
.

The map f is certainly invertible (this follows from uniqueness) and so f **gives an**
isomorphism of F-manifolds. 

Remark 6.9. **It was pointed out to us by Hiroshi Iritani that the arguments in**
this section show that the moduli space of tangent spaces to LZ **carries a canonical** F-manifold structure; see [13, §**2.2] for a different point of view on this.**
6.3. From Givental's Cone to a Frobenius Manifold. Consider LZ ⊂ HZ
satisfying the conclusions of theorem 3.2, and x ∈ LZ **. As before, write** Tx = TxLZ .

To construct a Frobenius manifold, we need to choose also an **opposite subspace** at x.

Definition. Let x ∈ LZ . A subspace Hopp ⊂ HZ is called opposite at x or **opposite** to Tx if Hopp is Lagrangian, Tx ⊕ Hopp = HZ , and z−1Hopp ⊂ Hopp.

For example, H
−
Z
is opposite at x for all x ∈ LZ **. Our Frobenius manifold will**
be based on a formal neighbourhood of zero in zHopp/Hopp.

We note the following immediate consequence of oppositeness.

Lemma 6.10. If Hopp is opposite to Tx **then the projections**
(30) zHopp ∩ Tx



are both isomorphisms. 

Consider the 'slice' x + zHopp∩ LZ . This is the germ (at x) of a finitedimensional submanifold of LZ **, and lemma 6.10 implies that the map**
(31)p :
x + zHopp∩ LZ −→ zHopp/Hopp y 7−→ y − x + Hopp has bijective derivative at x**. Thus there is a map from the formal neighbourhood**
N0 of zero in zHopp/Hopp,
(32) J : N0 −→ x + zHopp∩ LZ

such that p ◦ J = id. If we identify N0 **with a formal neighbourhood of the origin**
in zHopp ∩ Tx via the isomorphism π **in (30), then**
J(t) = x + t + h(t)
for some h(t) ∈ Hopp, and so J coincides with the map K defined in §**6(b) by taking** V = Hopp.
As in §6(b), the derivative DJ|t : TtN0 → TJ(t)/zTJ(t)**is an isomorphism for all**
t ∈ N0. Pick a basis e0, . . . , eN for zHopp ∩ Tx **and denote the corresponding linear**
co-ordinates on N0, produced using lemma 6.10, by ta, 0 ≤ a ≤ N**. Pulling back** the Frobenius algebra structure on TJ(t)/zTJ(t) defined in §**6(a) along the map** DJ
gives a pairing
$$g_{\alpha\beta}(t)=\Omega\bigg(\frac{\partial J}{\partial t_{\alpha}}(t),z^{-1}\frac{\partial J}{\partial t_{\beta}}(t)\bigg)$$
and a symmetric 3-tensor

$$c_{\alpha\beta\gamma}(t)=\Omega\bigg(\frac{\partial^{2}J}{\partial t_{\beta}\partial t_{\gamma}}(t),\frac{\partial J}{\partial t_{\alpha}}(t)\bigg)$$

on TtN0. We again denote the corresponding product on TtN0 by ◦t **and the identity** vector field, constructed in proposition 6.5, by e. As before the product ◦t **can be**
determined by differentiating J(t), but this time the relationship between ◦t and J(t**) is more direct:**
Proposition 6.11. ∇u◦tvJ(t) = −z∇u∇vJ(t).

Proof. **Proposition 6.4(a) shows that the quantity**
(33) ∇u◦tvJ(t) + z∇u∇vJ(t)
lies in zTJ(t). On the other hand J(t) = x + t + h(t), where t ∈ zHopp ∩ Tx and h(t) ∈ Hopp, so (33) lies in zHopp. As zHopp ∩ zTJ(t) = {0} for all t ∈ N0**, the**
statement follows. 

Proposition 6.12. The quadruple (N0, ◦, e, g) **is a Frobenius manifold. In other**
words:
(a) each tangent space (TtN0, ◦t) **is a unital supercommutative Frobenius algebra;**
(b) the metric gαβ(t) is flat and the co-ordinates t0, . . . , tN **are flat co-ordinates;**
(c) the identity vector field e **is flat;**
(d) cαβγ(t) **is the third derivative of some function** φ : N0 → Λ.

Proof. Part (a) was proved in §**6(b). Part (d) is immediate from the construction**
of the tensor c**. For (b) we have**
∂J
∂tα
(t) = eα + hα(t), where eα ∈ zHopp and hα(t) ∈ Hopp **(34)** ,

and so gαβ(t) = Ωeα + hα(t), z−1eβ + z
−1hβ(t)
.

As Hopp is Lagrangian and z−1Hopp ⊂ Hopp, gαβ(t) = Ω(eα, eβ**) is independent of**
t. This shows that g is flat, and that {ta} **are flat co-ordinates.**
For (c) we need to show that e(t**) is constant in flat co-ordinates. In view of (34),**
we need to show that ∇e(t)J(t)+Hopp is constant with respect to t**. Proposition 6.11**
shows that z∇e(t)∇v(t)J(t) = ∇v(t)J(t) for any vector field v on N0**, and hence that**
∇e(t)J(t) = z−1J(t) + C for some C independent of t**. Thus**

∇e(t)J(t) + Hopp = z
−1x + t + h(t)
+ C + Hopp
$$=z^{-1}$$
−1x + C + Hopp is independent of t**. This completes the proof.** 
6.4. Example: the Quantum Cohomology of X. **We now show that if we**
take x **to be the point** LX ∩
−z + H
−
X
and set Hopp = H
−
X
, then the Frobenius manifold constructed in the previous section is the quantum cohomology Frobenius manifold of X. Set τ = ταφα, and consider the element JX (τ, −z) of LX **such that**
its projection to H+
X
along H−
X
is equal to −z +τ. We call JX (τ, −z) the J**-function**
of X. It is obtained by substituting τ0,a = τa, 0 ≤ a ≤ N; τk,a **= 0, 0** ≤ a ≤ N, 0 < k < ∞**; and**

$$p_{l,b}=\left.{\frac{\partial{\mathcal{F}}_{\chi}^{0}}{\partial\tau_{l,b}}}\right|_{\tau(z)=\tau}=\sum_{d\in\operatorname{Eff}(\mathcal{X})}\sum_{n\geq0}\left\langle\tau,\ldots,\tau,\phi_{b}\psi^{l}\right\rangle_{0,n+1,d}^{\mathcal{X}}{\frac{U^{d}}{n!}}$$

into (14), via (20). Thus

$$J_{\mathcal{X}}(\tau,-z)=-z+\tau+\sum_{d\in\mathrm{Eff}(\mathcal{X})}\sum_{n\geq0}\sum_{l\geq0}\left\langle\tau,\ldots,\tau,\phi_{\epsilon}\psi^{l}\right\rangle_{0,n+1,d}^{\mathcal{X}}\frac{U^{d}\phi^{\epsilon}}{n!(-z)^{l+1}};$$

we abbreviate this to

$$J_{\mathcal{X}}(\tau,-z)=-z+\tau+\sum_{d\in\mathrm{Eff}(\mathcal{X})}\sum_{n\geq0}\left\langle\tau,\ldots,\tau,\,\frac{\phi_{\epsilon}}{-z-\psi}\right\rangle_{0,n+1,d}^{\mathcal{X}}\frac{U^{d}\phi^{\epsilon}}{n!}.$$

JX (τ, −z) is an element of LX - a formal power series in variables τ0, . . . , τN **taking**
values in HX - which depends analytically on τ1, . . . , τs **in the domain** C
s**. We**
can see this analyticity explicitly:

## Proposition 6.13.

JX (τ, −z) = e−τtwo/z×
$$\left(-z+\tau_{\rm ret}+\sum_{d\in{\rm Eff}(\mathcal{X})}\sum_{n\geq0}\left\langle\tau_{\rm ret},\ldots,\tau_{\rm rest},\frac{\phi_{e}}{-z-\psi}\right\rangle_{0,n+1,d}^{\mathcal{X}}\frac{U^{d}e^{d_{1}\tau_{1}}\ldots e^{d_{s}\tau_{e}}\phi^{e}}{n!}\right).$$
where τtwo and τrest are defined in (7).

Proof. **This follows easily from the Divisor Equation, as in [14, lemma 2.5].** 
Our Frobenius manifold is based on a formal neighbourhood N0(X**) of the origin**
in zH−
X
/H−
X∼= H•
CR(X; Λ). Choose a point x ∈ LX ∩
−z + zH−
X
**and write**
x = −z + σ + h− **with** σ ∈ H•
CR(X; Λ) and h− ∈ H−
X
. Then the map p **defined in**
(31) satisfies p ◦ JX (σ + τ, −z) = τ, and so the map J **defined in (32) is**
J(τ) = JX (σ + τ, −z).

The basis φ0, . . . , φN for H•
CR(X; Λ) gives co-ordinates τa, 0 ≤ a ≤ N**, on** N0(X)
and these are flat co-ordinates for the Frobenius manifold:

$$g_{\alpha\beta}(\tau)=\Omega\Big{(}\frac{\partial J_{\mathcal{X}}}{\partial\tau_{\alpha}}(\tau+\sigma,-z),z^{-1}\frac{\partial J_{\mathcal{X}}}{\partial\tau_{\beta}}(\tau+\sigma,-z)\Big{)}$$ $$=\Omega\big{(}\phi_{\alpha}+h_{\alpha},z^{-1}\phi_{\beta}+z^{-1}h_{\beta}\big{)}\text{where}h_{\alpha},h_{\beta}\in\mathcal{H}_{\mathcal{X}}^{-}$$ $$=\big{(}\phi_{\alpha},\phi_{\beta}\big{)}_{\mathcal{X}}.$$

20 TOM COATES AND YONGBIN RUAN

To calculate the structure constants of the product ◦τ **, we will need**
$$\begin{array}{l l}{{\frac{\partial J_{\mathcal{X}}}{\partial\tau_{\alpha}}(\sigma+\tau)=\phi_{\alpha}+h_{\alpha}}}\\ {{\frac{\partial^{2}J_{\mathcal{X}}}{\partial\tau_{\beta}\partial\tau_{\gamma}}(\sigma+\tau)=-z^{-1}\sum_{d\in\operatorname{Eff}(\mathcal{X})}\sum_{n\geq0}\left\langle\phi_{\beta},\phi_{\gamma},\sigma+\tau,\ldots,\sigma+\tau,\phi_{\epsilon}\right\rangle_{0,n+3,d}^{\mathcal{X}}\frac{U^{d}\phi^{\epsilon}}{n!}}}\\ {{+z^{-1}h_{\beta\gamma}}}\end{array}$$
for some hα, hβγ ∈ H−

$\alpha,n_{\beta\gamma}\in\mathcal{H}_{\mathcal{X}}$; this gives  $$c_{\alpha\beta\gamma}(\tau)=\Omega\bigg{(}\frac{\partial^{2}J_{\mathcal{X}}}{\partial\tau_{\beta}\partial\tau_{\gamma}}(\sigma+\tau),\frac{\partial J_{\mathcal{X}}}{\partial\tau_{\alpha}}(\sigma+\tau)\bigg{)}$$ $$=\sum_{d\in\mathrm{Eff}(\mathcal{X})}\sum_{n\geq0}\left\langle\phi_{\beta},\phi_{\gamma},\sigma+\tau,\ldots,\sigma+\tau,\phi_{\alpha}\right\rangle_{0,n+3,d}^{\mathcal{X}}$$ $$=\frac{\partial^{3}F_{\mathcal{X}}}{\partial\tau_{\alpha}\partial\tau_{\beta}\partial\tau_{\gamma}}(\sigma+\tau).$$
Thus the product ◦τ **on the Frobenius manifold is a shifted version of the big** quantum product for X:
(35) v ◦τ w = v ⋆
σ+τ w.

We have proved:
Proposition 6.14. The Frobenius manifold produced from LX ⊂ HX **by choosing**
x = LX ∩
−z + σ + H
−
X
**, where** σ ∈ H•
CR(X; Λ), and Hopp = H
−
X
is the Frobenius manifold corresponding to the quantum cohomology of X **with the product 'shifted'**
by σ**. It has flat metric given by the orbifold Poincar´e pairing** (·, ·)X
and product given by the shifted big quantum product (35). In particular, choosing σ = 0 **gives**
the usual quantum cohomology Frobenius manifold for X. 

For later use, we note a stronger version of proposition 6.3:
Proposition 6.15. For all τ ∈ N0(X)**, the elements**
∂JX
∂τa
(τ, −z) a = 0, 1**, . . . , N**
form a Λ[z]**-basis for** TJX (τ,−z).

Proof. Every element of TJX (τ,−z) can be uniquely written in the form h+ + h− for h+ ∈ H+
X
, h− ∈ H−
X
. The element h+ is a polynomial in z**. Since** ∂JX
τa
(τ, −z) =
φa + h′− for some h′− ∈ H−
X
, since {φa} **is a Λ-basis for** H•
CR(X**; Λ), and since**
TJX (τ,−z)is closed under multiplication by z**, the result follows by induction on the**
degree of h+. 

We will also need to know the behaviour of JX (τ, −z) as τ **approaches the large**
radius limit point of X.

Proposition 6.16. Write τ = τtwo + τrest, as in (7). As τ **approaches the large**
radius limit point for X,
Re τi **→ −∞**, 1 ≤ i ≤ s, τi → 0, i = 0 and **s < i** ≤ N,
JX (τ, −z) → −ze−τtwo/z and the tangent space TJX (τ,−z) → e−τtwo/zH+
X

the tangent space $T_{J_{\mathcal{K}}(\tau,-z)}\to\mathbf{e}^{-\tau_{\text{twos}}/z}H_{\mathcal{K}}$.  
QUANTUM COHOMOLOGY AND CREPANT RESOLUTIONS 21 Proof. Look at proposition 6.13. As τ **approaches the large radius limit point, all**
terms in JX (τ, −z) with d 6= 0 and all terms involving τrest **vanish. Thus**

$$J_{\mathcal{X}}(\tau,-z)\to-z\mathrm{e}^{-\tau_{\mathrm{tww}}/z}\qquad\qquad\text{and}\qquad\qquad\frac{\partial J_{\mathcal{X}}}{\partial\tau_{a}}(\tau,-z)\to\phi_{a}\mathrm{e}^{-\tau_{\mathrm{tww}}/z}.$$  As $T_{J_{\mathcal{X}}(\tau,-z)}$ is the $\Lambda[z]$-span of $\left\{\frac{\partial J_{\mathcal{X}}}{\partial\tau_{a}}(\tau,-z):0\leq a\leq N\right\}$, it follows that  $$T_{J_{\mathcal{X}}(\tau,-z)}\to\mathrm{e}^{-\tau_{\mathrm{tww}}/z}\mathcal{H}_{\mathcal{X}}^{+}.$$

6.5. Example: the Modified Quantum Cohomology of Y . **We now show**
that, as one might expect, the Frobenius manifold constructed from LY ⊂ HY by choosing x ∈ LY ∩
− z + zH−
Y
and Hopp = H−
Y
is the Frobenius manifold based on the modified big quantum product ⊛ for Y **. The argument is very similar to**
that in the previous section, but there are some additional complications caused by our having made the substitution

(36) Qi =
$$Q_{i}={\begin{cases}U_{i}&1\leq i\leq s\\ 1&s<i\leq r.\end{cases}}$$
Set t = tαϕα and let ttwo and trest **be as in (7). Consider the element** J
⊛
Y
(t, −z)
of LY **such that its projection to** H
+
Y**along** H
−
Yis equal to −z + t**. This is the**
modified J-function of Y . It is obtained by setting t0,a = ta, 0 ≤ a ≤ N; tk,a **= 0,** 0 ≤ a ≤ N, 0 < k < ∞**; and**
$$p_{l,b}=\left.\frac{\partial\mathcal{F}_{Y}^{0}}{\partial t_{l,b}}\right|_{\mathbf{t}(z)=t}=\sum_{d\in\mathrm{Eff}(Y)}\sum_{n\geq0}\left\langle t,\ldots,t,\varphi_{b}\psi^{l}\right\rangle_{0,n+1,d}^{Y}\frac{Q^{d}}{n!}$$
in (14), and then making the substitution (36). Before making the substitution
(36) we have

$$-z+t+\sum_{d\in\operatorname{Eff}(Y)}\sum_{n\geq0}\left\langle t,\ldots,t,{\frac{\varphi_{\epsilon}}{-z-\psi}}\right\rangle_{0,n+1,d}^{Y}{\frac{Q^{d}\varphi^{\epsilon}}{n!}}$$

and using the Divisor Equation, as in proposition 6.13, we can write this as

and using the BV.Dot Equation, as in proposition 6.10, we can write this as  $$\mathrm{e}^{-t_{\mathrm{two}}/z}\left(-z+t_{\mathrm{rest}}+\right.$$  $$\left.\sum_{d\in\mathrm{Eff}(Y)}\sum_{n\geq0}\left\langle t_{\mathrm{rest}},\ldots,t_{\mathrm{rest}},\frac{\varphi_{\epsilon}}{-z-\psi}\right\rangle_{0,n+1,d}^{Y}\frac{Q^{d}\mathrm{e}^{d_{1}t_{1}}\ldots\mathrm{e}^{d_{r}t_{r}}\varphi^{\epsilon}}{n!}\right\rangle.$$  Thus
$$J_{Y}^{\oplus}(t,-z)=\mathrm{e}^{-t_{\mathrm{two}}/z}\!\left(-z+t_{\mathrm{rest}}+\right.$$ $$\left.\sum_{d\in\mathrm{Eff}(Y)}\sum_{n\geq0}\left\langle t_{\mathrm{rest}},\ldots,t_{\mathrm{rest}},\frac{\varphi_{\varepsilon}}{-z-\psi}\right\rangle_{0,n+1,d}^{Y}\frac{U_{1}^{d_{1}}\cdots U_{s}^{d_{s}}\mathrm{e}^{d_{1}t_{1}}\cdots\mathrm{e}^{d_{s}t_{\varepsilon}}\varphi^{\varepsilon}}{n!}\right\rangle.$$
where d = d1β1 + · · · + drβr. The modified J**-function** J
⊛
Y
(t, −z**) is an element of**
LY which depends formally on the variables t0, tr+1, tr+2, . . . , tN **and analytically** on t1, . . . , tr in the domain (12). It is the unique element of LY **of the form**
−z + t + h−(t) with h−(t) ∈ H−
Y
.

The Frobenius manifold we seek is based on a formal neighbourhood N0(Y **) of**
the origin in zH
−
Y
/H
−
Y∼= H•(Y ; Λ). Choose a point x ∈ LY ∩
−z + zH
−
Y
and 22 TOM COATES AND YONGBIN RUAN
write x = −z + s + h′− with s ∈ H•(Y ; Λ) and h′− ∈ H−
Y
. Then the map p **defined**
in (31) satisfies p ◦ J
⊛
Y
(s + t, −z) = t, and so the map J **defined in (32) is**
J(t) = J
⊛
Y
(s + t, −z).

Now, using the co-ordinates t0, . . . , tN given by the basis ϕ0, . . . , ϕN for H•(Y **; Λ)**
and arguing exactly as in §6(d), we find that the flat metric on N0(Y **) is given by**
the Poincar´e pairing:
gαβ(t) = ϕα, ϕβ Y
and that the structure constants of the product ◦τ are

$\begin{array}{cc}\infty&\text{\hspace{0.17em}}\infty\\ -&s+t\end{array}$ . 
cαβγ(t) = ∂
3F
⊛
Y
∂tα∂tβ∂tγ
(s + t).

Thus the product ◦τ on the Frobenius manifold N0(Y **) is a shifted version of the**
modified big quantum product for Y :
(37) v ◦t w = v ⊛
s+t w.

We have proved:
Proposition 6.17. The Frobenius manifold produced from LY ⊂ HY **by choosing**
x = LY ∩
−z + s + H
−
Y
, for some s ∈ H•(Y ; Λ), and Hopp = H
−
Y
is the Frobenius manifold corresponding to the modified quantum cohomology of Y **with the product**
'shifted' by s**. It has flat metric given by the Poincar´e pairing** (·, ·)Y
and product given by **(37)**. 

Remark 6.18. **We now explain why condition (c) in conjecture 4.1 ensures that**
there is a neighbourhood of the large-radius limit point for X **in which both the** big quantum product ⋆ for X **and the analytic continuation of the modified big**
quantum product ⊛ for Y are well-defined. Let us write V1 ⋔ V2 **if and only if**
V1 ⊕ V2 = HX **, so that condition (c) is the assertion** H+
X ⋔ U−1(H−
Y
). In §**6(d)**
we saw that by choosing x ∈ LX of the form x = −z + σ + h−**, where** σ ∈
H•
CR(X; Λ) and h− ∈ H−
X
, and taking opposite subspace Hopp = H−
X **we obtain a**
Frobenius manifold with product a shifted version of the big quantum **product for**
X: v ◦τ w = v ⋆
σ+τ w**. Suppose now that conjecture 4.1 holds. In proposition 6.17**
we saw that by choosing y ∈ LY of the form −z + s + h′−, where s ∈ H•(Y **; Λ)**
and h′− ∈ H−
Y
, and taking opposite subspace Hopp = H
−
Y **we obtain a Frobenius**
manifold with product v ◦t w = v ⊛
s+t w. The analytic continuation of LY **chosen**
as part of conjecture 4.1 defines, via proposition 6.17, an analytic continuation of the product ⊛
s+t
. (Here we analytically continue ⊛
s+t in s; the variable s **determines**
and is determined by the basepoint y = −z + s + h′− ∈ LY **.) We can obtain this**
analytically continued product either by choosing y **in the analytic continuation**
of LY and taking opposite subspace Hopp = H−
Y
or - and this is equivalent via y = U(x) - by choosing x ∈ LX and taking opposite subspace Hopp = U−1(H
−
Y
).

For this to give a Frobenius manifold, we need U(H
−
Y
) to be opposite to Tx = TxLX ;
in other words we need Tx ⋔ U−1(H−
Y
). Let x = LX ∩
−z + σ + H−
X
**. We know**
from proposition 6.16 that as σ approaches the large-radius limit point for X,
QUANTUM COHOMOLOGY AND CREPANT RESOLUTIONS 23

$$T_{x}\to\mathrm{e}^{-\sigma_{\mathrm{two}}/z}{\mathcal{H}}_{\lambda}^{+}.\mathrm{~But}$$
$\left(\mathrm{e}^{-\sigma_{\mathrm{two}}/z}\mathcal{H}_{\mathcal{X}}^{+}\right)\pitchfork\mathrm{U}^{-1}\left(\mathcal{H}_{\overline{Y}}^{-}\right)\iff\mathcal{H}_{\mathcal{X}}^{+}\pitchfork\mathrm{e}^{\sigma_{\mathrm{two}}/z}\mathrm{U}^{-1}\left(\mathcal{H}_{\overline{Y}}^{-}\right)$  $$\iff\mathcal{H}_{\mathcal{X}}^{+}\pitchfork\mathrm{U}^{-1}\left(\mathrm{e}^{\pi^{*}\sigma_{\mathrm{two}}/z}\mathcal{H}_{\overline{Y}}^{-}\right)$$  $$\iff\mathcal{H}_{\mathcal{X}}^{+}\pitchfork\mathrm{U}^{-1}\left(\mathcal{H}_{\overline{Y}}^{-}\right),$$

and this holds by conjecture 4.1(c). Thus for σ **in a neighbourhood of the largeradius limit point for** X, Tx ⋔ U−1(H
−
Y
) and so both the Frobenius manifold defined by the big quantum product for X (basepoint = x ∈ LX , Hopp = H
−
X
) and the Frobenius manifold defined by the analytic continuation of the modified big quantum product for Y (basepoint = x, Hopp = U−1(H−
Y
)) are well-defined.

## 7. A Version Of The Cohomological Crepant Resolution Conjecture

The Cohomological Crepant Resolution Conjecture [32] describes a **relationship**
between the Chen–Ruan cohomology ring of X **and the small quantum cohomology**
ring of the crepant resolution Y **. Conjecture 4.1 implies such a relationship, as we**
now explain. The family of Frobenius algebras constructed in §**6(a) depends only**
on the submanifold-germ LZ and the symplectic space HZ **. The transformation** U
from conjecture 4.1, which is a C((z**))-linear symplectic isomorphism and satisfies**
U(LZ ) = LY **, therefore induces an isomorphism between the families of Frobenius**
algebras

## Tlx /Ztlx → Lx And Tly /Ztly → Ly

By choosing x ∈ LX **appropriately - by taking** x = LX ∩
−z + σ + H−
X
and letting σ approach the large-radius limit point for X **— we can obtain the Chen–** Ruan cohomology of X as the Frobenius algebra Tx/zTx. Let y ∈ LY **be such**
that y = U(x), and let Ty denote the tangent space TyLY . Then U **induces an**
isomorphism of Frobenius algebras Tx/zTx∼= Ty/zTy**, and this expresses the Chen–**
Ruan cohomology ring of X **in terms of the quantum cohomology of** Y .

Let σ ∈ H2(X; C**) and let** x = LX ∩
−z + σ + H−
X
. Then Tx/zTx **is isomorphic**
as a Frobenius algebra to the quantum cohomology of X,
H•
CR(X; Λ), ⋆
σ
**. As** σ approaches the large-radius limit point for X, therefore, Tx/zTx **approaches the**
Chen–Ruan cohomology ring H•
CR(X**; Λ)**, ∪
CR
**— see the discussion below equation 8. Let** y = U(x).

Proposition 7.1. As σ **approaches the large-radius limit point for** X

by conjecture $4.1$(b) . 
y → JY (π
⋆σ + c, −z),

_where $\mathbb{U}(1_{X})=1_{Y}-cz^{-1}+O(z^{-2})$._
Proof. We have x = JX (σ, −z) so, by proposition 6.16, x → −ze−σ/z as σ approaches the large-radius limit point for X**. Thus**

$$y\to\mathbb{U}{\bigl(}-z\mathrm{e}^{-\sigma/z}{\bigr)}$$
$$\begin{array}{l l}{{\mathrm{e}^{-z\tau}\,\mathrm{e}^{-z\tau}}}&{{,}}\\ {{}}&{{=-z\mathrm{e}^{\pi^{*}\sigma/z}\mathbb{U}(1_{\mathcal{X}})}}\\ {{}}&{{=-z+\pi^{*}\sigma+c+h_{-}}}\end{array}$$
⋆σ/zU(1X **) by conjecture 4.1(b)**
⋆σ + c + h− for some h− ∈ H−
$$\stackrel{\circ}{\mathrm{for~some~}}h_{-}\in{\mathcal{H}}_{\mathcal{X}}^{-}.$$

There is a unique point on LY **of the form** −z + π
⋆σ + c + h−, h− ∈ H−
X
, and that is JY (π
⋆σ + c, −z). Thus as σ **approaches the large-radius limit point for** X,
y → JY (π
⋆σ + c, −z). 

24 TOM COATES AND YONGBIN RUAN
It follows that as σ **approaches the large-radius limit point for** X,
(38) Re σi **→ −∞**, 1 ≤ i ≤ s, the Frobenius algebra Ty/zTy **approaches the quantum cohomology algebra**

H•(Y ; Λ), ⊛ π⋆σ+c . Re σi→−∞, 1≤i≤s
(39) lim
By assumption U is grading preserving and so c ∈ H2(Y ; C**); let us write** c =
c1ϕ1 + . . . + crϕr**. Note that there is analytic continuation hidden in (39): if**
t = t1ϕ1 + . . . + trϕr ∈ H2(Y ; C**) then the product** ⊛
t is defined as a power series
(13) which converges only when |e ti| < Ri, s < i ≤ r**. In general** t = π
⋆σ + c will be outside this domain of convergence. But the analytic continuation of LY
defines, via proposition 6.17, an analytic continuation of the product ⊛
t and it is this analytically-continued product which we use in (39). We compute **the limit** (39) as follows. From (13) we have

ϕα ⊛ t ϕβ =X d∈Eff(Y ): d=d1β1+···+drβr hϕα, ϕβ, ϕǫi Y 0,3,d U d1 1· · ·U ds s e d1t1· · · e drtr ϕǫ whenever |e ti| < Ri for s < i ≤ r; taking the limit Re ti → −∞, 1 ≤ i ≤ s, gives (40) ϕα ⊛ t ϕβ →X d∈ker π⋆: d=ds+1βs+1+···+drβr hϕα, ϕβ, ϕǫi Y 0,3,d e ds+1ts+1· · · e drtr ϕǫ.
We can obtain the algebra (39) which we seek from (40) by analytic continuation in ts+1, . . . , tr followed by the substitution ti = ci, s < i ≤ r**. This proves:**
Theorem 7.2. **If conjecture 4.1 holds then the Chen–Ruan product** ∪
CR

on H•
CR(X; C)
can be obtained from the small quantum product (6) for Y **by analytic continuation**
in the quantum parameters Qs+1, . . . , Qr **(if necessary) followed by the substitution**

(41) Qi =
$$Q_{i}={\begin{cases}0&1\leq i\leq s\\ \mathrm{e}^{c_{i}}&s<i\leq r.\end{cases}}$$

## The Small Quantum Cohomology With Quantum Parameters Qi **Specialized Like**
This Is Known As Quantum Corrected Cohomology [32]. In Ruan'S Original Cohomological Crepant Resolution Conjecture, The Exceptional Qi **Were Specialized To** −1.
Calculations By Perroni [31] And Bryan–Graber–Pandharipande [8] **Have Shown That**
We Must Relax This, Allowing The Exceptional Qi **To Be Specialized To Other Roots Of**
Unity. Here, We Allow Arbitrary Choice. It Should Be Noted That The Specialization
Qi = Eci = Ehc,Βiiis Independent Of Our Choice Of Bases (See §**11 For More On This).** 8. A Version Of Ruan'S Conjecture

Ruan's original Crepant Resolution Conjecture (implicit in [32]), as modified in light of the calculations of Perroni and Bryan–Graber–Pandharipande, was that the small quantum cohomology algebra of the crepant resolution Y **becomes isomorphic**
to the small quantum cohomology algebra of X **after analytic continuation in the**
quantum parameters Qs+1, . . . , Qr **followed by a change-of-variables**

(42) Qi =
$$Q_{i}=\begin{cases}\omega_{i}U_{i}&1\leq i\leq s\\ \omega_{i}&s<i\leq r\end{cases}$$
where the ωi **are roots of unity. Conjecture 4.1 implies something very like this, at**
least when X is semi-positive, as we now explain.

Definition. A K¨ahler orbifold X is called semi-positive **if and only if there does**
not exist d ∈ Eff(X**) such that**
3 − dimC X ≤ c1(T X) · d < 0.

All K¨ahler orbifolds of complex dimension 3 or less are semi-positive, as are all Fano and Calabi–Yau orbifolds. Semi-positive Gorenstein orbifolds X **have the property** that if c1(T X) · d < **0 then all genus-zero Gromov—Witten invariants in degree** d vanish:
Proposition 8.1. Suppose that X **is a semi-positive Gorenstein K¨ahler orbifold**
and that hδ1ψ a1**, . . . , δ**nψ an i X
0,n,d 6= 0**. Then** c1(T X) · d ≥ 0.

Proof. Suppose not, so that c1(T X) · d < **0. Without loss of generality we may**
assume that the marked points 1, 2, . . . , n′carry classes δi **from the twisted sectors**
and that the remaining marked points carry untwisted classes. Let π : X0**,n,d** → X0,n′,d **be the map induced by forgetting all the untwisted marked points. Then**
hδ1ψ a1**, . . . , δ**nψ an i X
0,n,d **is the degree-zero part of**

(43) -X0,n′,dvir∩
$$\left[{\mathcal{X}}_{0,n^{\prime},d}\right]^{\mathrm{vir}}\cap\bigg(\prod_{k=1}^{n^{\prime}}\mathrm{ev}_{k}^{*}\delta_{k}\bigg)\cup\pi_{\star}\bigg(\prod_{k=n^{\prime}+1}^{n}\mathrm{ev}_{k}^{*}\delta_{k}\cup\prod_{k=1}^{n}\psi_{k}^{a_{k}}\bigg).$$
As X is Gorenstein, we know that deg δk ≥ 1, 1 ≤ k ≤ n′**, where deg denotes the**
age-shifted degree on H•
CR(X; C**). The non-vanishing of (43) therefore implies that**
the virtual (complex) dimension of X0,n′,d is at least n′**, and so**
n
′ + dimC X − 3 + c1(T X) · d ≥ n
′.

It follows that 3 − dimC X ≤ c1(T X) · d < 0, which contradicts semi-positivity. The proposition is proved. 

The small quantum cohomology of X **is the Frobenius algebra** H•
CR(X; Λ), ⋆
τ at τ = 0. This is the Frobenius algebra Tx/zTx **where** x = LX ∩
−z + H−
X
and Tx = TxLX . Let y = U(x) and Ty = TyLY . The map U **induces an isomorphism**
between the Frobenius algebras Tx/zTx and Ty/zTy**, and this isomorphism expresses**
the small quantum cohomology of X **in terms of the quantum cohomology of** Y . To see that it relates the small quantum cohomology of X to the small **quantum**
cohomology of Y **, we need to calculate** y.

Proposition 8.2. Suppose that X **is semi-positive and that conjecture 4.1 holds.**
Let x = LX ∩
−z+H
−
X
, and define c ∈ H2(Y ; C) by U(1X ) = 1Y −cz−1+O(z−2).

Then there is a unique element f ∈ H2(Y ; C) ⊗ Λ,
f = f1ϕ1 + · · · + frϕr for some f1**, . . . , f**r ∈ Λ,
such that U(x) = JY (c + f, −z). Furthermore, the class f is exceptional: π!f = 0.

Proof. **Uniqueness is obvious. For existence, we need to find** f ∈ H2(Y ; C) ⊗ Λ
such that
(44) U(x) = −z + c + f + h−
for some h− ∈ H−
Y
. We have x = JX (0, −z**), so**
(45) x = −z +X

$$x=-z+\sum_{\stackrel{d\in\mathrm{Eff}(\mathcal{X}):}{k\geq0}}(-1)^{k+1}\left<\phi^{\epsilon}\psi^{\epsilon}\right>_{0,1,d}^{\mathcal{X}}U^{d}\,\phi_{\epsilon}z^{-k-1}.$$

X
If we set deg U
d = c1(T X) · d, deg z = 2, and give the Chen–Ruan class φǫ its ageshifted degree then x ∈ HX is homogeneous of degree two. As X is semi-positive, any monomial U
d **which occurs in (45) has non-negative degree, and so each term**
φǫz−k−1in (45) has degree at most two. If φǫz−k−1**is of negative degree then**
U
φǫz−k−1**is also of negative degree and so** U
φǫz−k−1∈ H−
Y
. If φǫz−k−1**is of**
degree zero or one then, by parts (a) and (b) of lemma 5.1, U
φǫz−k−1∈ H−
Y
as well. If φǫz−k−1**is of degree two then**
U
φǫz
−k−1= bǫ + hǫ for some exceptional class bǫ ∈ H2(Y ; C) and some hǫ ∈ H−
Y
, by lemma 5.1(c). Also, if φǫz−k−1is of degree two then deg φǫ ≥ **4 and** k =
1 2wǫ − 2 where wǫ **= deg** φǫ.

Thus  $$\mathrm{U}(x)=-z+c+\sum_{d\in\mathrm{EH}(X):d\neq0,\atop c_{1}(TX)_{d}=0}\sum_{e=r+1}^{N}\left(-1\right)^{\frac{1}{2}w_{e}+1}\left\langle\phi^{e}\psi^{\frac{1}{2}w_{e}-2}\right\rangle_{0,1,d}^{X}U^{d}\,b_{e}+h_{-}$$  for some $h_{-}\in\mathcal{H}_{Y}^{-}$. Defining  $$N$$  $$\left(\begin{array}{cc}\frac{1}{2}&\frac{1}{2}\\ \frac{1}{2}&\frac{1}{2}\end{array}\right)$$
for some $h_{-}\in\mathcal{H}_{Y}^{-}$. Defining  $$f=\sum_{\begin{subarray}{c}d\in\mathbb{E}\#(X)\cdot d\neq0,\\ c_{1}(TX)\cdot d=0\end{subarray}}\sum_{e=r+1}^{N}(-1)^{\frac{1}{2}w_{e}+1}\left\langle\phi^{e}\psi^{\frac{1}{2}w_{e}-2}\right\rangle_{0,1,d}^{\mathcal{X}}U^{d}\,b_{e},\tag{46}$$  we are done.  
We have seen that the small quantum cohomology of X is isomorphic as a Frobenius algebra to Ty/zTy where y = U(x). Proposition 8.2 shows that Ty/zTy is isomorphic as a Frobenius algebra to H

•(Y ; Λ), ⊛ c+f .
Once again there is analytic continuation hidden here: the product ⊛
c+f is obtained from the product

from the product  $$\varphi_{\alpha}\mathop{\oplus}_{t}\varphi_{\beta}=\sum_{\begin{subarray}{c}d\in\mathsf{Eff}(Y)\text{:}\\ d=d_{1}\beta_{1}+\cdots+d_{r}\beta_{r}\end{subarray}}\langle\varphi_{\alpha},\varphi_{\beta},\varphi^{t}\rangle_{0,3,d}^{Y}U_{1}^{d_{1}}\cdots U_{s}^{d_{r}}e^{d_{1}t_{1}}\cdots e^{d_{r}t_{r}}\varphi_{\varepsilon},$$  where $t=t_{1}\varphi_{1}+\cdots+t_{r}\varphi_{r}\in H^{2}(Y;\mathbb{C})$ and $|e^{t_{i}}|<R_{i}$ for $s<i\leq r$, by analytic 
where t = t1ϕ1 + · · · + trϕr ∈ H2(Y ; C**) and** |e ti| < Ri for s < i ≤ r**, by analytic**
continuation in ts+1, . . . , tr **followed by the substitution**
ti = ci + fi 1 ≤ i ≤ r where f = f1ϕ1 + · · · + frϕr**. This proves:**
Theorem 8.3. Suppose that X **is semi-positive and that conjecture 4.1 holds. Let**
f1, . . . , fr ∈ C[[U1, . . . , Us]] be as in proposition 8.2 and define c = c1ϕ1+**· · ·**+crϕr ∈
H2(Y ; C) by U(1X ) = 1Y − cz−1 + O(z−2)**. Then the Frobenius algebra given by**
the small quantum cohomology of X **is isomorphic to the Frobenius algebra obtained**
from the small quantum cohomology of Y **by analytic continuation in the exceptional**
quantum parameters Qs+1, . . . , Qr **(if necessary) followed by the change-of-variables**

(47) Qi =
$$Q_{i}={\begin{cases}\mathrm{e}^{c_{i}+f_{i}}U_{i}&1\leq i\leq s\\ \mathrm{e}^{c_{i}+f_{i}}&s<i\leq r.\end{cases}}$$
The conclusion of Theorem 8.3 is almost Ruan's original Crepant Resolution
Conjecture, except that the changes-of-variables (42) and (47) differ. As fi = 0
when U1 = . . . = Us **= 0, theorem 8.3 is a 'quantum-corrected' version of Ruan's** original conjecture. The quantum corrections f1, . . . , fr **often vanish - for example**
they vanish whenever X **is Fano or when** X =
-C
n/G, as then the sum on the RHS of (46) is empty. But f1, . . . , fr **do not vanish in general: they are non-zero,**
for instance, when X is the cotangent bundle KP(1,1,3) **[12].**
9. A Version of the Bryan–Graber Conjecture Suppose now that conjecture 4.1 holds and that U : HX → HY **sends** H
−
X
to H−
Y
, so that U = U0 + U1z
−1 + **· · ·** + Ukz
−k for some non-negative integer k **and some linear maps** Ui: H•
CR(X; C) → H•(Y ; C).

In this case U **induces an isomorphism between the Frobenius manifolds defined**
by the quantum cohomology of X and the quantum cohomology of Y **, as we now**
explain.

Let x = LX ∩
−z + H
−
X
and let y = U(x**). Then**

$$\begin{array}{r}{y={\mathcal{L}}_{Y}\cap\mathbb{U}{\big(}-z+{\mathcal{H}}_{X}^{-}{\big)}}\\ {={\mathcal{L}}_{Y}\cap{\big(}-z+c+{\mathcal{H}}_{Y}^{-}{\big)}}\end{array}$$

where U(1X ) = 1Y − cz−1 + O(z−2). Again, write c = c1ϕ1 + · · · + crϕr**. In view**
of the discussion in §6, U **induces an isomorphism between the Frobenius manifold**
H•
CR(X; Λ), ⋆
τ obtained by taking basepoint x ∈ LX **and using opposite subspace** H
−
X
, and the Frobenius manifold H•(Y **; Λ)**, ⊛
c+t obtained by taking basepoint y ∈ LY **and using opposite subspace** H−
Y
. The parameters τ ∈ H•
CR(X; Λ) and t ∈ H•(Y **; Λ) here are identified via the diagram**

$$\begin{array}{c}{{{\mathcal{L}}_{\mathcal{X}}\cap\left(-z+z{\mathcal{H}}_{\mathcal{X}}^{-}\right)-}}\\ {{\qquad\left\{J_{\mathcal{X}}(\tau,-z)\right.}}}\\ {{\qquad z{\mathcal{H}}_{\mathcal{X}}^{-}/{\mathcal{H}}_{\mathcal{X}}^{-}\right.}}\end{array}$$



−z + c + zH− Y  p
so t = U0(τ**). Comparing (13) with (9), we see that the product** ⊛
c+t can be obtained from the big quantum product ⋆
t on H•(Y ; ΛY **) by analytic continuation in the**
variables Qs+1, . . . , Qr **followed by the change-of-variables**
This proves:

(48) Qi =
$$Q_{i}={\begin{cases}\mathrm{e}^{c_{i}}U_{i}&1\leq i\leq s\\ \mathrm{e}^{c_{i}}&s<i\leq r.\end{cases}}$$
Theorem 9.1. Suppose that conjecture 4.1 holds and that U : HX → HY **sends** H−
X
to H
−
Y
. Then there is a linear map U0 : H•
CR(X; C) → H•(Y ; C) **which identifies**
the Frobenius manifold given by the big quantum cohomology (3) of X **with the**
Frobenius manifold obtained from the big quantum cohomology (5) of Y **by analytic**
continuation in the quantum parameters Qs+1, . . . , Qr **(if necessary) followed by** the substitution (48). In addition, the map U0 **preserves the gradings and Poincar´e**
pairings, sends 1X to 1Y **, and satisfies** U0 ◦
ρ ∪
CR

= (π
⋆ρ∪)◦U0 **for every untwisted**
degree-two class ρ ∈ H2(X; C).

The statements about U0 here come from lemma 5.2. As discussed above, if conjecture 4.1 holds and X satisfies the Hard Lefschetz condition1 **postulated by Bryan–**
Graber [7] then U **automatically sends** H
−
X
to H
−
Y
.

The conclusion of Theorem 9.1 is almost the same as the Crepant Resolution Conjecture of Bryan and Graber. They ask that U0 : H•
CR(X; C) → H•(Y ; C**) agree**
with π
⋆ **on the untwisted sector** H•(X; C) ⊂ H•
CR(X; C**), whereas we only have**
that for the subalgebra of H•(X; C) generated by H2(X; C**). Furthermore their** change-of-variables has Qi = Ui, 1 ≤ i ≤ s, omitting our factor of eci**, and for us**
the substitution Qi = eci, s < i ≤ r**, need not involve roots of unity**2.

10. Quantization and Higher Genus Gromov–Witten Invariants So far we have considered genus-zero Gromov–Witten invariants of X and Y .

This corresponds to considering the tree-level part of the topological A-model with target space X or Y **. But the full partition function of the topological A-model is**
also of significant interest, and this corresponds to the full descendant potential of X,

(49) DX **= exp** X
$${\mathcal{D}}_{\mathcal{X}}=\exp\bigg(\sum_{g\geq0}\hbar^{g-1}{\mathcal{F}}_{\mathcal{X}}^{g}\bigg)$$
,
or, similarly, to the full descendant potential DY of Y **. The quantity** F
g X
in (49)
is the genus-g descendant potential of X**: this is defined in the same way as the** genus-zero descendant potential F
0 X **but with integration over the moduli stack of**
stable maps to X of genus g rather than genus zero. The variable ~ **is a formal**
parameter. In this section we give a generalization of our conjecture which applies to Gromov–Witten invariants of all genera. Roughly speaking, we conjecture that DY = Ub(DX ), where Ub is the quantization **of the symplectic transformation** U
from conjecture 4.1. This idea occurred simultaneously and independently in both mathematics and physics [1, 13, 33]; it is a consequence of fundamental insights due to Givental [21] and Witten [35].

Work of Givental [15, 21, 22] and others [18, 26, 27, 29, 34] strongly suggests that the full descendant potential DX of X **should be regarded as an element of the**
Fock space for the geometric quantization of HX **. This point of view is described** for manifolds in [21] and extended to orbifolds in [34]. The Fock space for X **consists** of certain formal germs of functions on H
+
X
. We regard DX **, which depends formally**
on the variables τa,ǫ, 0 ≤ ǫ ≤ N, 0 ≤ a < ∞ (c.f. **equation 15), as the germ of a** function on H
+
X
via the dilaton shift (20). This makes DX **into an element of the**
Fock space for X**. In the same way, using the dilaton shift (21), we regard** DY as the germ of a function on H+
Y
and hence as an element of the Fock space for Y .

Suppose now that conjecture 4.1 holds. As we have chosen bases for H•
CR(X; C)
and H•(Y ; C), we can represent the transformation U : HX → HY **by a matrix** U
with entries that are Laurent polynomials in z. Let U = U−U0U+ **be the Birkhoff**
factorization of this matrix, so that U− = I + U−1z
−1 + **· · ·** + U−kz
−k, U0 **= constant diagonal matrix**,
U+ = I + U1z + **· · ·** + Ulz l,

for some k, l > 0. (The fact that U0 **is a constant diagonal matrix, not a diagonal**
matrix of Laurent monomials in z**, follows from condition (c) in conjecture 4.1.)**
Remark 10.1. **The Birkhoff factorization here can easily be computed using row**
and column operations. For example, as U = U−U0U+ **we see that** U
−1
+ **is the**
unique matrix of the form I + A1z + **· · ·** + Amz m **such that** UU −1
+ **contains only**
negative powers of z. This can be computed using column operations on U**. The**
transformation Ailowers degree by 2i, as U **is degree-preserving, and hence** Aiis nilpotent; I + A1z + **· · ·** + Amz m **is therefore invertible with polynomial inverse.**
This determines U+. The matrices U− and U0 **can be determined similarly.**
If we change our choice of bases for H•
CR(X; C) and H•(Y ; C**) then the factorization**
U = U−U0U+ becomes AUB−1 = (AU−A
−1)(AU0B
−1)(BU+B
−1)
where A and B **are appropriate change-of-basis matrices, and so the factorization** defines linear symplectic isomorphisms U− : HY → HY , U0 : HX → HY , U+ : HX → HX ,
which are independent of our choice of bases. Let us identify the Fock space for X
with the Fock space for Y via the isomorphism U0 : HX → HY **. In this way we**
regard DX as an element of the Fock space for Y **; concretely, this means that we** regard DX as a formal power series in the variables ta,ǫ, 0 ≤ ǫ ≤ N, 0 ≤ a < ∞ via the identification ta,ǫϕǫ = U0(τa,µφµ). Consider now the C((z−1**))-linear symplectic**
transformations T−, T+ : HY → HY **defined by**
T− = U−, T+ = U0U+U
−1 0.

Propositions 5.3 and 7.3 in [21] give formulas for the **quantizations** Tb−, Tb+ of T−
and T+**: these quantizations are endomorphisms of the Fock space for** Y .

Conjecture 10.2. **Conjecture 4.1 holds, and in addition**
DY ∝ Tb−Tb+(DX )
after an appropriate analytic continuation of DX and DY . The symbol '∝**' here**
means 'is a scalar multiple of '.

Remark 10.3. The scalar multiple in conjecture 10.2 is determined by the condition that the genus-one descendant potential of Y vanishes when all the ta,ǫ are zero. Thus conjecture 10.2 determines the higher-genus Gromov–Witten invariants of X **in terms of those of** Y .

Remark 10.4. **In order for the analytic continuation indicated in conjecture 10.2**
to make sense, we need assume some convergence of the total descendant potential DY **. For example, if we require that there are strictly positive real numbers** Ri, s < i ≤ r**, such that each** F
g Y
, g ≥ 0, depends analytically on Qs+1, . . . , Qr **in the**
domain

## |Qi| < Ri**, S < I** ≤ R,

then (as above) the Divisor Equation implies that each F
g Y
in fact depends analytically on t0,1, . . . , t0,r and Qs+1, . . . , Qr **in the domain**
|t0,i| < ∞ 1 ≤ i ≤ s |Qie t0,i | < Ri **s < i** ≤ r.

This allows us to set Qs+1 = · · · = Qr **= 1, defining** F
g,⊛
Y, g ≥ **0, exactly as we**
defined F
⊛
Y**above. We can then use** D
⊛
Y **= exp** Pg≥0 F
g,⊛
Y
in place of DY in conjecture 10.2. But this convergence assumption is difficult to check in practice3, and it would be useful to have a higher-genus analog of assumption 2.1.

Remark 10.5. **Bryan and Graber have suggested [7, remark 1.8] that when** X
satisfies the Hard Lefschetz condition, the higher-genus non-descendant Gromov– Witten potentials F
g X
(τ) = F
g X
τ0=τ;τ1=τ2=···=0 and F
g Y
(t) = F
g Y
t0=t;t1=t2=···=0 might coincide after analytic continuation in the quantum parameters Qs+1**, . . . , Q**r, the substitution (48), and the change-of-variables t = U0(τ**) from theorem 9.1. If**
conjecture 10.2 and the above convergence assumption hold then **this is the case.**
The Hard Lefschetz condition ensures that the transformation U+ **is the identity,**
and conjecture 10.2 then becomes D

## ⊛

Y ∝ Ub−(DX ).

Applying Givental's formula [21, proposition 5.3] for the operator Uc− **shows that the**
non-descendant potentials F
g X
(τ**) and** F
g,⊛
Y(t**) are related by analytic continuation**
and a change-of-variables; taking account of the substitution (36), exactly as in §9, shows that F
g X
and F
g Y
are related as claimed.

## 11. Specializations, B-Fields, And Flat Gerbes

An issue of particular importance for the various Crepant Resolution Conjectures is to determine the values to which the exceptional quantum parameters Qi **should**
be specialized. These values have physical significance and are referred in the physics literature as the B-field. Calculating the correct value of the B**-field is a** subtle problem even in physics, and although this is understood in some examples (Hilbert scheme of points, surface singularities, K3 surfaces, etc.) there is not yet a procedure to determine the value of the B**-field in general. One advantage**
of our approach is that it gives such a procedure: we can interpret **the values of** the specialization (and hence the value of the B-field) as coming from **a shift in** basepoint on Givental's cone. In this section we study this issue and relate it to the physical point of view on the B-field. First we propose a further **conjecture to** constrain the choice of shift.

Conjecture 11.1. **Suppose that conjecture 4.1 holds, so that**
U
1X
= 1Y − cz−1 + O(z
−2)
for some c ∈ H2(Y ; C)**. Then in fact** c ∈ H2(Y ; Q
√−1).

Note that this implies that the quantities eci **occurring in theorems 7.2, 8.3, and 9.1**
are roots of unity.

Now we introduce the notion of Gromov-Witten invariants twisted by **a flat**
gerbe. Twisting by a flat gerbe is believed to be the correct mathematical analog of 'turning on a B**-field' in physics. The general construction in the orbifold case** has been worked out by Pan–Ruan–Yin [30]. In the smooth case it is particularly easy. For a smooth manifold Y , giving a flat gerbe on Y **is equivalent to giving its**
holonomy, which is a cohomology class θ ∈ H2(Y, U**(1)). Gromov-Witten invariants**
twisted by this flat gerbe coincide with the usual Gromov–Witten invariants of Y , but multiplied by a phase factor given by the holonomy:
(50) hδ1ψ a1**, . . . , δ**nψ an i Y,θ 0**,n,d** = θ(d)hδ1ψ a1**, . . . , δ**nψ an i Y
0**,n,d** .

We will only need the case when Y is smooth, so the reader unfamiliar with θ**-twisted**
Gromov–Witten invariants can take (50) as the definition. It is clear **that on smooth** manifolds the set of all θ**-twisted Gromov-Witten invariants, for any flat gerbe** θ, contains the same information as the set of ordinary Gromov-Witten invariants.

The class c in conjecture 4.2 induces a flat gerbe θc **through the coefficient exact**
sequence 0/√−1Z/√−1 R
x7→exp(2πx)/U(1) /0 .

On the other hand, if H3(Y, √−1Z) = 0 then any flat gerbe θ **has a lift** ρθ ∈
H2(Y ;
√−1 R).

We can define θ-twisted versions FY,θ, F
⊛
Y,θ, and LY,θ of FY , F
⊛
Y
, and LY respectively, by replacing ordinary Gromov-Witten invariants with θ**-twisted GromovWitten invariants.**
Lemma 11.2. Suppose that ρθ is a lifting of θ**. Then multiplication by** e ρθ/z **defines**
a symplectic transformation HY → HY **such that** e ρθ/zLY = LY,θ.

Proof. **Combine the Divisor Equation (see [15, equation 8]) with (50).** 
Corollary 11.3. If conjectures 4.1 and 11.1 hold then the symplectic transformation Uc : HX → HY defined by Uc = ec/zU **satisfies properties (a–d) of conjecture 4.1 and also:**
Uc(LX ) = LY,θc Uc(1X ) = 1Y + O(z
−2).

Recall from §§7–9 that the cohomology class c ∈ H2(Y ; C) defined by U(1X ) =
1Y − cz−1 + O(z−2) gives rise to the values eci **to which the exceptional quantum**
parameters are specialized: in other words U picks out the B**-field. It does this**
because c **produces the 'shift in basepoint'** ⊛
t
 ⊛
t+c visible, for instance, in equation
(39). If we repeat the analysis of §§**7–9 but using the symplectic transformation**
Uc rather than U then on the one hand we should replace each eci **by 1 (because**
Uc(1X ) = 1Y + O(z−2**) and so now there is no shift in basepoint) and on the other**
hand we should replace the quantum cohomology of Y by the θc**-twisted quantum**
cohomology (because we consider the submanifold-germ LY,θ not LY **). In other**
words, our conjectures predict the emergence of a flat gerbe θc**. We can use this to**
give a very clean version of the Cohomological Crepant Resolution Conjecture:
Conjecture (Modified CCRC). There is a flat gerbe θ on Y **such that the Chen–**
Ruan product ∪
CR

on H•
CR(X; C) can be obtained from the θ**-twisted small quantum**
product for Y by analytic continuation in the quantum parameters Qs+1, . . . , Qr (if necessary) followed by the substitution

$$Q_{i}={\begin{cases}0&1\leq i\leq s\\ 1&s<i\leq r.\end{cases}}$$

Conjectures 4.1 and 11.1 together imply the Modified CCRC with θ = θc**. We can**
give a similarly-improved version of Ruan's Crepant Resolution Conjecture, which again follows from Conjectures 4.1 and 11.1:
Conjecture. (Modified CRC) Suppose that X **is semi-positive. Then there is a flat**
gerbe θ over Y and a choice of elements f1, . . . , fr ∈ C[[U1, . . . , Us]] such that fi = 0 when U1 = · · · = Us = 0, such that the class f = f1ϕ1 + · · · + frϕr **is exceptional,** and such that the Frobenius algebra given by the small quantum cohomology of X
is isomorphic to the Frobenius algebra obtained from the θ-twisted small quantum cohomology of Y **by analytic continuation in the exceptional quantum parameters**
Qs+1, . . . , Qr **(if necessary) followed by the change-of-variables**

$$Q_{i}={\begin{cases}\mathrm{e}^{f_{i}}U_{i}&1\leq i\leq s\\ \mathrm{e}^{f_{i}}&s<i\leq r.\end{cases}}$$

The corrections fi **here and in (47) are an example of what physicists call a 'mirror**
map'.

Appendix: Proofs of Analyticity Results Lemma A.1. **The descendant potential** F
0 X **, which is a formal power series in the**
variables U1, . . . , Us and τa,ǫ, 0 ≤ ǫ ≤ N, 0 ≤ a < ∞**, in fact depends analytically**
on τ0,1, . . . , τ0,s **in the domain** C
s.

Proof. Set

τ0,two = τ0,1φ1 + · · · + τ0,sφs, -φe1 ψ a1, . . . , φek ψ akX 0,d = X n≥0 1 n! hφe1 ψ a1, . . . , φek ψ ak, τ0,two, . . . , τ0,twoi X 0,n+k,d , φe1 ψ a1, . . . , φek ψ akX 0 =X d∈Eff(X ) -φe1 ψ a1, . . . , φek ψ akX 0,d U d, and call the quantity -φe1 ψ a1, . . . , φek ψ akX 0,d a k-point descendant. We need to
show that each k-point descendant is an entire function of τ0,1, . . . , τ0,s**; let us call**
this property entireness. The Topological Recursion Relations [34, §**2.5.5] express**
any k**-point descendant** -φe1 ψ a1**, . . . , φ**ek ψ akX
0,d with k ≥ 3 and at least one nonzero ai as a linear combination of l-point descendants with l < k**. Thus we need to**
establish entireness for k-point descendants with k = 0, k = 1, k = 2, or k **arbitrary**
but a1 = · · · = ak = 0. The cases k = 0 and k arbitrary but a1 = · · · = ak = 0 follow from the entireness of the potential FX (see equation 8). The cases k = 1 and k = 2 but a2 = 0 follow from proposition 6.13. The remaining case - k = 2 but a1, a2 6**= 0 - follows from the WDVV-like identity**

$$\quad(51)\qquad\left\langle\left\langle\frac{\phi_{\alpha}}{z-\psi},1,\frac{\phi_{\beta}}{w-\psi}\right\rangle\right\rangle_{0}^{\chi}=\left\langle\left\langle\frac{\phi_{\alpha}}{z-\psi},1,\phi_{\epsilon}\right\rangle\right\rangle_{0}^{\chi}\left\langle\left\langle\phi^{\epsilon},1,\frac{\phi_{\beta}}{w-\psi}\right\rangle\right\rangle_{0}^{\chi}.$$

and the String Equation

 φα z − ψ , 1,φβ w − ψ X 0 =1 zw φα, φβ)X + 1 z + 1 w  φα z − ψ ,φβ w − ψ X 0 , (52)  φα z − ψ , 1, φǫ X 0 = 1 z φα, φǫ)X + 1 z  φα z − ψ , φǫ X 0 . Thus F 0 X depends analytically on τ0,1, . . . , τ0,s in the domain C s. 
Lemma A.2. **Assume that convergence assumption 2.1 holds. Then the descendant potential** F
0 Y
, which is a formal power series in the variables Q1, . . . , Qr and ta,ǫ, 0 ≤ ǫ ≤ N, 0 ≤ a < ∞, in fact depends analytically on t0,1, . . . , t0,r and Qs+1, . . . , Qr **in the domain**

(53)|t0,i| < ∞ 1 ≤ i ≤ s
$$\begin{array}{l l}{{|t_{0,i}|<\infty}}&{{\quad1\leq i\leq s}}\\ {{|Q_{i}\mathrm{e}^{t_{0,i}}|<R_{i}\quad s<i\leq r.}}\end{array}$$
Proof. **This is very similar to the proof of the preceding lemma. As before, set**
t0,two = t0,1ϕ1 + **· · ·** + t0,rϕr,

$$\left[\varphi_{e_{1}}\psi^{a_{1}},\ldots,\varphi_{e_{k}}\psi^{a_{k}}\right]_{0,d}^{Y}=\sum_{n\geq0}\frac{1}{n!}\left\langle\varphi_{e_{1}}\psi^{a_{1}},\ldots,\varphi_{e_{k}}\psi^{a_{k}},t_{0,\text{two}},\ldots,t_{0,\text{two}}\right\rangle_{0,n+k,d}^{Y},$$ $$\left\langle\varphi_{e_{1}}\psi^{a_{1}},\ldots,\varphi_{e_{k}}\psi^{a_{k}}\right\rangle_{0}^{Y}=\sum_{d\in\text{Eff}(Y)}\left[\varphi_{e_{1}}\psi^{a_{1}},\ldots,\varphi_{e_{k}}\psi^{a_{k}}\right]_{0,d}^{Y}Q^{d}.$$

We need to show that, for each choice of d1, . . . , ds ∈ Q with di ≥ **0, the coefficient of** Q
d1 1**· · ·** Qds sin ϕe1 ψ a1**, . . . , ϕ**ek ψ akY
0**defines an analytic function of**
t0,1, . . . , t0,r and Qs+1, . . . , Qr in the domain (53). Let us call this property **analyticity** of ϕe1 ψ a1**, . . . , ϕ**ek ψ akY
0
.

The Topological Recursion Relations [16, lemma 10.2.2] show that it suffices to establish analyticity of ϕe1 ψ a1**, . . . , ϕ**ek ψ akY
0in the cases where k = 0, k **= 1,**
k = 2, or k arbitrary but a1 = · · · = ak = 0. The cases k = 0 and k **arbitrary** but a1 = · · · = ak **= 0 follow from convergence assumption 2.1 (see the discussion** above equation 10). The cases k = 1 and k = 2 with a1, a2 6**= 0 follow from the**
case k = 2 but a2 **= 0, in view of identities (51), (52), and the String Equation**

$$\left\langle\left\langle\frac{\varphi_{\alpha}}{z-\psi},1\right\rangle\right\rangle_{0}^{Y}=\frac{1}{z}(\varphi_{\alpha},t_{0,\mathrm{two}})_{Y}+\frac{1}{z}\left\langle\left\langle\frac{\varphi_{\alpha}}{z-\psi}\right\rangle\right\rangle_{0}^{Y}.$$

It remains to establish the analyticity of  φα z−ψ
, φβ Y
0 for all α and β**; this holds as**
these quantities are solutions to a system of differential equations **(the 'quantum** differential equations' [16, proposition 10.2.1]) with coefficients which **are known,**
by convergence assumption 2.1, to be analytic functions defined in the domain (53).

The lemma is proved. 

## References

[13] T. Coates, A. Corti, H. Iritani, and H.-H. Tseng**, Wall-Crossings in Toric Gromov–Witten**
Theory I: Crepant Examples. Preprint, available at arXiv:math.AG/0611550.

[14] T. Coates, A. Corti, Y.-P. Lee, and H.-H. Tseng**, The Quantum Orbifold Cohomology of**
Weighted Projective Space. Preprint, available at arXiv:math.AG/0608481.

[15] T. Coates and A. Givental**, Quantum Riemann-Roch, Lefschetz and Serre,** Ann. of Math.

(2)**, 165 (2007), 15–53.**
[16] D. A. Cox and S. Katz, Mirror symmetry and algebraic geometry**. Mathematical Surveys**
and Monographs, 68. American Mathematical Society, Providence, RI, 1999.

[17] B. Dubrovin**, Geometry of 2D topological field theories, in** Integrable systems and quantum groups (Montecatini Terme, 1993)**, pp. 120–348. Lecture Notes in Math., 1620. Springer,** Berlin, 1996.

[18] C. Faber, S. Shadrin, and D. Zvonkine**, Tautological relations and the r-spin Witten conjecture. Preprint, available at** arXiv:math/0612510.

[19] W. Fulton and R. Pandharipande**, Notes on stable maps and quantum cohomology, in**
Algebraic geometry—Santa Cruz 1995**, pp. 45–96. Proc. Sympos. Pure Math., 62. Amer.** Math. Soc., Providence, RI, 1997.

[20] A. B. Givental**, Homological geometry. I. Projective hypersurfaces,** Selecta Math. (N.S.), 1
(1995), 325–345.

[21] **, Gromov-Witten invariants and quantization of quadratic Hamiltonians,** Mosc. Math.

J.**, 1 (2001), 551–568, 645.**
[22] **, Symplectic geometry of Frobenius structures, in** Frobenius manifolds**, pp. 91–112.**
Aspects Math., E36. Vieweg, Wiesbaden, 2004.

[23] C. Hertling, Frobenius manifolds and moduli spaces for singularities**. Cambridge Tracts in**
Mathematics, 151. Cambridge University Press, Cambridge, **2002.**
[24] C. Hertling and Yu. Manin**, Weak Frobenius manifolds,** Internat. Math. Res. Notices
(1999), 277–286.

[25] S. Keel and S. Mori**, Quotients by groupoids,** Ann. of Math. (2)**, 145 (1997), 193–213.**
[26] Y.-P. Lee**, Invariance of tautological equations I: conjectures and applications. Preprint,**
available at arXiv:math/0604318.

[27] **, Invariance of tautological equations II: Gromov–Witten theory. Preprint, available**
at arXiv:math/0605708.

[28] Y. I. Manin, Frobenius manifolds, quantum cohomology, and moduli spaces**. American Mathematical Society Colloquium Publications, 47. American Mathematical Society, Providence,**
RI, 1999.

[29] T. E. Milanov, Gromov–Witten Theory of CP1 **and Integrable Hierarchies. Preprint, available at** arXiv:math-ph/0605001.

[30] J. Pan, Y. Ruan, and X. Yin**, Gerbes and twisted orbifold quantum cohomology. Preprint,**
available at arXiv:math.AG/0504369.

[31] F. Perroni**, Orbifold Cohomology of ADE-singularities. Preprint, available at**
arXiv:math.AG/0510528.

[32] Y. Ruan**, The cohomology ring of crepant resolutions of orbifolds, in** Gromov-Witten theory of spin curves and orbifolds**, pp. 117–126. Contemp. Math., 403. Amer. Math. Soc., Providence,** RI, 2006.

[33] **, unpublished.**
[34] H.-H. Tseng**, Orbifold Quantum Riemann–Roch, Lefschetz and Serre. Preprint, available at**
arXiv:math.AG/0506111.

[35] E. Witten**, Quantum Background Independence In String Theory. Preprint, available at**
arXiv:hep-th/9306122.

Department of Mathematics, Imperial College London, London SW7 2AZ, United Kingdom E-mail address: tomc@imperial.ac.uk Department of Mathematics, University of Michigan, Ann Arbor MI 48105, USA E-mail address: ruan@umich.edu